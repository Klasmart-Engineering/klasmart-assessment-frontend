(self.webpackChunkassessment=self.webpackChunkassessment||[]).push([[739],{60146:function(e,t,n){"use strict";n.d(t,{Z:function(){return Oi}});var r=n(58963),s=n(90120),a=n(1795),o=n(36711),i=n(49497),l=n(96985),c=n.n(l),u=n(16030),d=n(91523),_=n(79271),m=n(32780),p=n(1413),h=n(45987),f=n(42982),g=n(83837),v=n(85159),b=n(94026),x=n(46169),y=n(94135),j=n(85247),Z=n(23784),C=n(20269),k=n(26513),w=n(87705),S=n(24971),A=n(95906),N=n(65442);function B(e){var t,n,r=e.render,s=e.onChange,a=null!==(t=e.value)&&void 0!==t?t:[],o=null!==(n=e.allValue)&&void 0!==n?n:[],i=(0,l.useMemo)((function(){return(e=a)&&e.reduce((function(e,t){return e[t]=!0,e}),{});var e}),[a]),c=o.length>0&&o.every((function(e){return a.indexOf(e)>=0})),u=(0,l.useMemo)((function(){return function(e){var t=e.target,n=t.checked,r=t.value,a=(0,N.ZP)(i,(function(e){n?e[r]=!0:delete e[r]})),o=Object.keys(a);s(o.length?o:[])}}),[i,s]),d=(0,l.useMemo)((function(){return function(e){var t=e.target.checked;s(t?o:[])}}),[s,o]);return r({hashValue:i,registerChange:u,registerAllChange:d,isAllvalue:c})}var I=n(80184),P=["ref"],E="CONFIRM_INPUT",F="REJECT_REASON",O="OTHER_REASON";function T(){var e,t,n,r=(0,u.v9)((function(e){return e.confirm})),s=r.open,a=r.title,o=r.content,i=r.type,c=r.label,d=r.confirmText,_=r.cancelText,m=r.rules,N=r.placeholder,T=r.defaultValue,L=r.hideConfirm,D=r.hideCancel,R=(0,u.I0)(),M=(0,w.cI)({mode:"onSubmit",reValidateMode:"onSubmit"}),W=M.control,z=M.setError,Q=M.errors,q=M.watch,U=M.handleSubmit,V=q(),G=i===A.KO.textField&&!(null!==(e=V.REJECT_REASON)&&void 0!==e&&e.length)&&!V.OTHER_REASON&&!V[E],H=(0,l.useCallback)((function(){return R((0,A.Y2)({isConfirmed:!1}))}),[R]),K=(0,l.useMemo)((function(){return U((function(e){if(i===A.KO.text)return R((0,A.Y2)({isConfirmed:!0}));if(i===A.KO.onlyInput){var t=e[E]?e[E]:"";R((0,A.Y2)({isConfirmed:!0,text:t}))}if(i===A.KO.textField){if(e.OTHER_REASON&&!e[E])return z(E,{type:"manual",message:(0,S.d)("Please specify the reason for rejection.").t("library_msg_reject_reason")});var n=(0,f.Z)(e.REJECT_REASON),r=e[E]?e[E]:"";R((0,A.Y2)({isConfirmed:!0,reasonValue:n,otherValue:r}))}}))}),[i,U,R,z]);return(0,I.jsxs)(g.Z,{open:s,maxWidth:"xs","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,I.jsx)(v.Z,{children:a}),(0,I.jsxs)(b.Z,{children:[(0,I.jsx)(x.Z,{children:o}),i===A.KO.textField&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(w.Qr,{name:F,control:W,defaultValue:[],rules:{required:!0},error:"Please Select",render:function(e){var t=e.ref,n=(0,h.Z)(e,P);return(0,I.jsx)(B,(0,p.Z)((0,p.Z)({},n),{},{render:function(e){return(0,I.jsxs)("div",{ref:t,children:[[{label:(0,S.d)("Inappropriate Content").t("library_label_inappropriate_content"),value:"library_label_inappropriate_content"},{label:(0,S.d)("Quality of Lesson is Poor").t("library_label_quality_of_lesson"),value:"library_label_quality_of_lesson"},{label:(0,S.d)("No Permissions to Use Assets").t("library_label_no_permissions_use_assets"),value:"library_label_no_permissions_use_assets"},{label:(0,S.d)("Add/Remove Learning Outcomes").t("library_label_add_remove_learning_outcomes"),value:"library_label_add_remove_learning_outcomes"}].map((function(t){return(0,I.jsx)(y.Z,{style:{display:"block"},control:(0,I.jsx)(j.Z,{color:"primary",value:t.value,checked:e.hashValue[t.value]||!1,onChange:e.registerChange}),label:t.label},t.value)})),(0,I.jsx)(y.Z,{style:{display:"block"},control:(0,I.jsx)(w.Qr,{defaultValue:!1,name:O,control:W,render:function(e){return(0,I.jsx)(j.Z,{checked:e.value,onChange:function(t){return e.onChange(t.target.checked)},color:"primary"})}}),label:(0,S.d)("Other").t("library_label_other")})]})}}))}}),(0,I.jsx)(w.Qr,{name:E,as:Z.Z,variant:"standard",defaultValue:"",autoFocus:!0,fullWidth:!0,label:c,placeholder:N||(0,S.d)("Reason").t("library_label_reason"),rules:(0,p.Z)({required:!!V.OTHER_REASON},m),control:W,error:!!Q[E],helperText:null===(t=Q[E])||void 0===t?void 0:t.message})]}),i===A.KO.onlyInput&&(0,I.jsx)(w.Qr,{name:E,as:Z.Z,variant:"standard",defaultValue:T,autoFocus:!0,fullWidth:!0,label:c,placeholder:N,rules:(0,p.Z)({required:(0,S.d)("Server request failed").t("general_error_unknown")},m),control:W,error:!!Q[E],helperText:null===(n=Q[E])||void 0===n?void 0:n.message})]}),(0,I.jsxs)(C.Z,{children:[!D&&(0,I.jsx)(k.Z,{onClick:H,color:"primary",autoFocus:!0,children:_||(0,S.d)("CANCEL").t("general_button_CANCEL")}),!L&&(0,I.jsx)(k.Z,{onClick:K,color:"primary",disabled:G,children:d||(0,S.d)("OK").t("general_button_OK")})]})]})}var L=n(38596),D=n(90259),R=n(85221),M=n(35720),W=(0,L.Z)((function(e){return(0,D.Z)({backdrop:{zIndex:e.zIndex.drawer+300,color:"#fff"}})}));function z(){var e=W();return(0,u.v9)((function(e){return e.loading})).loading?(0,I.jsx)(R.Z,{className:e.backdrop,open:!0,onContextMenu:function(e){return e.preventDefault(),!1},children:(0,I.jsx)(M.Z,{color:"inherit"})}):null}var Q=n(70885),q=n(21569);function U(e){var t=e.children,n=(0,l.useReducer)((function(e){return e+1}),0),r=(0,Q.Z)(n,2)[1],s=S.k.getLocale();return(0,l.useEffect)((function(){S.k.on("change",r),s!==S.k.getLocale()&&r()}),[s]),s&&S.k.intl?(0,I.jsx)(q.RawIntlProvider,{value:S.k.intl,children:t},s):null}var V=n(39637),G=["label"],H={},K={autoHideDuration:2e3,anchorOrigin:{horizontal:"right",vertical:"top"}};function Y(){var e=(0,u.v9)((function(e){return e.notify})),t=(0,u.I0)(),n=(0,l.useMemo)((function(){return function(e){return{removed:Object.values(H).filter((function(t){return!e[t.key]})),added:Object.values(e).filter((function(e){return!H[e.key]}))}}(e)}),[e]),r=n.added,s=n.removed,a=(0,i.Ds)(),o=a.enqueueSnackbar,c=a.closeSnackbar;return(0,l.useEffect)((function(){r.forEach((function(e){var n=e.label,r=(0,h.Z)(e,G);o(n,(0,p.Z)((0,p.Z)((0,p.Z)({},K),r),{},{onExit:function(e,n){delete H[n],t((0,V.Gs)(n))}})),H[e.key]=e})),s.forEach((function(e){var t=e.key;c(t),delete H[t]}))}),[r,s,t,o,c]),null}var X=n(15861),J=n(87757),$=n.n(J),ee=n(81272),te=n(46464),ne=n(4942),re=n(86297),se=n(38302);var ae=n.p+"static/media/coming soon.311080d80f886f2c389ffef189eb9342.svg";var oe=n.p+"static/media/empty.ad942a5bfb749e4f64dacd13eff7fcf2.svg";var ie=n.p+"static/media/nofiles.706a0b20171bde9d3d415f92a7ea9182.svg";var le=n.p+"static/media/noLearningOutcomes.0bc952ebd84fd36e5aee3fe9cc19ca76.svg";var ce,ue=n.p+"static/media/noReport.118954e50745f87dec763e92ff71b8b3.svg",de=(0,L.Z)((function(e){var t=e.breakpoints;return{emptyImage:(0,ne.Z)({marginTop:200,marginBottom:40,display:"inline-block"},t.down("md"),{marginTop:40,marginBottom:20}),emptyDesc:{marginBottom:"auto"},emptyContainer:{textAlign:"center"}}}));function _e(e){var t=e.type,n=e.text,r=e.children,s=de(),a="";return t===ce.empty&&(a=oe),t===ce.commingSoon&&(a=ae),t===ce.noResults&&(a=ie),t===ce.noPermission&&(a="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCACcAPEDAREAAhEBAxEB/8QAHAABAQADAQEBAQAAAAAAAAAAAAYEBQcDAgEK/8QAThAAAgEDAwEDBQsHBwsFAAAAAQIDAAQFBhESExQhVAcVFjHSIjVBVXSTlKS009QjNlFSZaPkQmFxkZKVtSQyMzRic3WBhrGzJldyhLL/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A/v4oFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFBjvd2sbFJLm3R19avNGrD+lWYEf8xQfPbrLxlr9Ii9ugdusvGWv0iL26B26y8Za/SIvboHbrLxlr9Ii9ugdusvGWv0iL26B26y8Za/SIvboHbrLxlr9Ii9ugdusvGWv0iL26B26y8Za/SIvboHbrLxlr9Ii9ugdusvGWv0iL26B26y8Za/SIvboHbrLxlr9Ii9ugdusvGWv0iL26B26y8Za/SIvboHbrLxlr9Ii9ugdusvGWv0iL26AL2yJ2F3aknuAFxFuT+j/AD6DKoFAoFAoFAoFAoFAoIjWOVmtkhx9tI0TXCNLcsm6uYeXCONXB3VZWWTqhdmZUVC3TeRGDm1AoFAoFAoFAoFAoFAoFAoFAoFAoFBX6SydxDfxY9nZ7W5EirGzErDKiPMrxgg8eZVkdVKKxkDsSUG4dRoFAoFAoFAoFAoFBzDW3vpbfII/tFzQSCI8rrHGjSSOwVERS7uzHYKqqCzMT3AAEk9wFBneacr8WZD6Fc/d0HjPY3tsoe5s7q3RmCB57eWJS5BIUNIigsQrEKDvsCdtgaDzgt7i5cx20E1xIFLlIInlcICAWKxqzBQWUFiNgSBvuRQZXmnK/FmQ+hXP3dBjT21zasEubee3dl5Ks8UkTMu5HILIqkruCNwNtwR6xQfsFpd3XPsttcXPT48+hDJNw5cuPPpq3HlxbjvtvxbbfY0GR5pyvxZkPoVz93QYcsMsEjRTxSQyptyjlRo5F5KGXkjgMN1IYbgbqQR3EUGRDj7+4QSwWN5PExIEkNtNIhKkggOiMpIIIOx7iCD30Hp5pyvxZkPoVz93QYDKysVYFWUlWVgQysDsQQe8EHuIPeD3Gg/KBQfSI8jrHGjSSOwVERSzuzHZVVVBZmJIAABJPcBQWFjo28mQS388dim3IxgCaYKD7rns6xRAoOQbqSFd9njUgig191lfJhiJRFeagju3cEgQTXGSRNjxKvJhbaRI3BB9xK6v8PHagwZNTeSiYqseeuLckgfk7PM7HfuHJrnGTKo7+9t1A23JA3oNguCtclFJc6czOOzkMZXqx21zbtND1NjFG5jlkjEhTkzLObZ9kIWNm9yA8cBHJDnrGOWN4pEmcPHIrI6noydzIwDKf5iAaDsVAoFAoFAoFAoFAoOYa299Lb5BH9ouaDSYL34x3yqP/vQdqoI/W3vVb/8AEIvs13QT+iffW4/4fL9ptKDqFBzbXH+uWXyZ/wDymgytC+rKf02X/a6oL+g4/qn3+v8A/wCr9jt6C/0r7xWX9Nz9rnoKGg4XkffC++WXX/negw6D1hhluJY4IUMksrrHGg2BZ2OyjckADc97MQqjcsQATQXN3c4nQGLS8vUa+y96621na2yGS8v7yTYJZWEZBdIUZl68/Ddt1LK8slpaEJiTCZrVbm71ndyxWLuJLXSmNuHhx9vHwXgMlcwFJr+6RwJeSyhYZ1ZoJlgmNrEFVYYrGYtDHjrCzsVYKH7LbxQtJwAVTK6KHlbYDd5GZye9mJJNBnMqurI6qyMCrKwDKykbFWU7ggjuIIII7jQSOQ0ThbmRbvHRyafykKsLbJ4Nzj54WZZFJaO3McMgkEjLOSiTyxExC4jU7gPvEZu6t87YYfWgh859dhp7U1tElta5uNgUGOvoUAitsgGl3iiXhG8rLDCAzRy5QOuUCgUCgUCgUCgUCg5hrb30tvkEf2i5oJvG3KWd/aXUis0cE6SOqAFyqnv4hiqltvUCygnuJHroOh+m2K8PkPmrb8XQaHUWorLLWUVtbRXSOl0k5M6RKvBYp4yAY55TyJlUgFQNge/fYENXp7KW+JvZbm5SZ43tXgAgVGcO0sEgJEkka8domBIbfcjuI3ICy9NsV4fIfNW34ugkdR5e2y9xby20c8aQwtG3XWNWLFy3cI5JRxA27ywO+422G5D303m7TDi8F1HcSdoNuU6CRtt0uvy59SWLbfqLx25b7NvtsNwp/TbFeHyHzVt+LoIPNXsWRydzeQLIkU3R4rKFWQdO3iibkEd1G7RkjZz7kgnY7gBT4XVFhjsbb2c8N40sJm3aFIWQiSaSUbF5423AcAgr6wdiRQbX02xXh8h81bfi6Dm11Ks9zcTqCFmnmlUNtyCySM4B2JG4B2OxI39RoPCgvtG4+NVuMtOFAj5QW7PsBGAoa5n3ddlHFliWVXGy9pRxsaCYwTvqrMXetrwu1qJLnG6VtXWMJa4yCRoJr/iCzreX0yzLJ1NpYR1oucts1sIQuaBQKBQajO4Wzz+MucZeopSZCYZSvJ7W5VW6F1FsyMJIWO+wdRLGZIJCYZZEYNhoHOXWZwRiyR3zGEvLnB5ZuQYTXVgVVbkN1ZGl68DRNNMemst2tyYo1iCCgt6BQKBQKBQKBQKDmGtvfS2+QR/aLmgjqBQKBQKBQKBQKBQKBQKC01RcHD+TDJSRDn1sPHbkHv2GcnitZj3/AKgyDsP0cRt8FBm4qyGNxmPx6kEWVla2vIADmYIUiZ+4Abuyl2Ow3LEnvNBn0CgUCgUE1pVuw+UDVtiyAeecVhs1blRsoix4fGXBIHdzkubguT3FuJJ3O5oOq0CgUCgUCgUCgUHMNbe+lt8gj+0XNBP4h4Y8nYyXDIsKXCNI0m3AID3lt+7b9O/dQdT85ae8Tjf3Ps0Dzlp7xON/c+zQPOWnvE439z7NA85ae8Tjf3Ps0Dzlp7xON/c+zQPOWnvE439z7NA85ae8Tjf3Ps0HNNQS282Xu5LRont26HTaHj0ztawq3HjsO5wwO38oH4aCx09fYeHEWsd3PZJcKZ+os3T6g3uZWXlyG/ehUjf+Tt8FBuvOWnvE439z7NByS9ZHvLtoypja5naMrtxKGVypXbu4lSCNu7agodKYqHI3ks1yqyW9ksbmFv8ANlmkLdIOuxDxKI5GdCQGYRq6vG0ikNVnsjlNeNeYLE2tna6WscxDZ5PJ3Nwxnyvm26t5biHGwWyyIsEboWjkmLRXQEDJPbMssShd0CgUCgUCgj8pZajstQxan07Hi7uZMI+Iu7DJSTxNcQC+F+Fs3iCRR3MjjprLczpDGQpdHUtsHQdMagt9TYW0y9vC9sZ+pHcWkrq8tnd28jQ3FvIygb8ZELROyRPJA8UrwwtIY1Df0CgUCgUCgUCg5hrb30tvkEf2i5oJSCCW5mjt4E5zTOEjTkq8mPqHJyqjf9LMB/PQbr0Wz3gfrVn+IoHotnvA/WrP8RQPRbPeB+tWf4igei2e8D9as/xFA9Fs94H61Z/iKB6LZ7wP1qz/ABFA9Fs94H61Z/iKB6LZ7wP1qz/EUD0Wz3gfrVn+IoNbfY29xrxpew9FpVLoOpFJyUHYneKSQDY92xIP81Bg0HRtDshgyCD/AEizQM3/AMHSQJ3+r1pJ8P8ATtuNwjvJ/tbYm8wkpXt+BzGTx1+A6kySi7llW5VASywTB2jidlVZGgl4cuJNBd0CgUCgUCg85ZYoIpZ55EhhhjeWaWRgkcUUal5JJHYhUREUs7MQFUEkgCg1fkrhkXSvbHQxplstlcnbo4IlW3nuTFH1S3und+g0iyEtzieNgxUg0HSKBQKBQKBQKBQcw1t76W3yCP7Rc0EzYXXYry2u+n1ezyrL0+XDnx/k8+L8d/08W2/RQWvp1+y/r38HQPTr9l/Xv4OgenX7L+vfwdA9Ov2X9e/g6B6dfsv69/B0D06/Zf17+DoHp1+y/r38HQPTr9l/Xv4OgenX7L+vfwdBN5zM+eZYJezdm6MbR8et1uXJuW+/Si47erbY7+veg0dBvtO5VcVfh5SRazr0bjYM3AEgxzBFI5GJx3ni7CJ5QiM7AUG61JpnKHJHVmkZ7dsjNapFk8XcvtYZ+2hi/wAkkSZSBDkIkCw207usLp0laaCFblbsGAzVvn8XbZO3UxdUMk9uzBpLS5iYpPbSkBTyjcboWSNpIWjm6aLIooNxQKBQKCQvdVNJfS4bTWMuNSZmEslxFaskOPx7KpJGQyUu1tC4Kugj5bNPG9rJLBccUIZCaFz2e6Z1nnITYdWOWXTuAiktrGfotE8aXWSmYX00LsjGe347pJwltLuKRI3UOpwww28MVvbxRwQQRpDBBCixQwwxKEjiijQKkccaKqIiKFRQFUAACg9KBQKBQKBQKBQcw1t76W3yCP7Rc0E5jbaO8v7S1lLrHPMkbtGVDhWPeVLKyg/o3Uj+ag6F6E4rxGQ+dtvwlA9CcV4jIfO234SgehOK8RkPnbb8JQTGpMJaYcWZtpLiTtBuOfXeNtul0ePHpxRbb9RuW/LfYbbd+4eGnMRbZee4iuXnRYYVkUwNGrFi4UhjJFKCNv0AHf4aCu9CcV4jIfO234SgehOK8RkPnbb8JQPQnFeIyHztt+EoIPNWUWOydzZwNI8UPR4tKVaQ9S3ilbkURFOzSEDZB7kAHc7khq6BQKC+0XkZOpPjZZGaPp9e1V2HGNlfaeOMH3R6gkWXgp4r05ZAoLuxDQW6HT+uc9h5CUstSAalxPJ90a9cGPNQBnVWe6lmRroQRtIsFlDG54c9qCxoFAoI3N3OQzOXttG4OcW1zdW5vc5k0kAkxOHWRI36CjvN9ds6xQgHnEJInKpHP2u2DpmEweM09j4sZibVLa1i90wUAyzzFVV7i5l2DTXEgRQ8j7niqRoFijjRQkcvr5YshcYbTWHudT5SyYJfmC4hs8XYOVm3guMnMHiN2jRbG3VQjMJYe0LcwTQIGs88eVBh1Ba6HjU+6Fu7Zxp1G+/TaVJegZAO4up6ZPeO7uoPaHyh3uMeNNY6cucLbORGMzYTrlsYJA3HndLbobiwjkJjW3V+0TSs5BjVUdlDpsM0VxFFPBLHPBPGk0M0LrJFNFIoeOWKRCySRyIwdHRirqQykgg0HpQKBQKBQKDmGtvfS2+QR/aLmgkY5JInWSJ3jkQhkkjYo6MPUVZSCpH6QQaDO875b4zv/pc/3lA875b4zv8A6XP95QPO+W+M7/6XP95QY9xeXd3w7Vc3Fx0+XDrzSS8OW3LjzZuPLivLbbfiN/UKD5gurm1Zmtrie3ZhxZoJXiLKDuAxRlJAPfse7egyvO+W+M7/AOlz/eUDzvlvjO/+lz/eUDzvlvjO/wDpc/3lBhTTS3EjSzyyTSvtykldpJG4qFXk7EsdlUKNz3AADuAoPOgUCgyrK7lsbuC7hP5SCQOAfUy96vG23fxkQtG22x4sdiDsaC+1FhoNZ4a0u8ZcpZ5awlF9hMi6KXsr1OJktbnZZGFvccViu41EsZKQ3BiulhjjkDRYTN3V1dXmFzVmuN1BjUjkubZJBJbXdtIFCZDHuSWe0kdgGUs7WzOkMshlLABS0D1eug0XkxhN3j8tqqUE3GqMtc3ERZy0kWLx0sthj7OQDaMPatHdKGRd3iaLmzcFChs/KHl7zF4BbbGSGLK5/IWmAx06yGI20+QLh7kyIyyxGOCOVYp4eUkFzJBKB7mgj5f/AEvb4TSelbS3uMxlJHjtVu3KxKsMfVv8vk3i4yPsilyqcC4VktUZLZLUht08n+dnQT5DXmaOQ4qVbH29tY4+Ngo2VrFPcXCqwO7sYTMveyIWNBrWmzWCytvp3VstlmcbnY5oMXnFtoLRLm4Cnr4rK2HI28ck8cix2wjDJPyiiVruWW4FkGx0FNJhcvmtEys7WlpGuc06XDsy4m8m6d3amQyy/k7K+kWKEyETTu9zM2yFEQOqUCgUCgUCg5hrb30tvkEf2i5oJeztnvLqC1jZVeeRY1Z9+Kljtu2wJ2Hr7gTQVnoRfeMtP6pvu6B6EX3jLT+qb7ugehF94y0/qm+7oHoRfeMtP6pvu6D4k0XfRxySdrtG4Iz7flhvxUttv0+7fbbegjaBQKBQKBQKBQVully8V7DJbQXDWEzFbksClq0ZPBpVeQCNpYWAYdImY8GiHuXcEPzX8cVpntD5e36fnJ8w+GeFVUTXWLv4WFzJIyjqSQ4w/lo1YmKGW7aTiGctQUlBpNSytDp3PSq5jePD5No3B2KyCzm6ZU/A3Pjx/wBragpdFwR2+kdMxxRiJTgsXMyAbflrizhuJ3IP8qSeWSR/9pjQSmtgJNYeTuF/dRGXVExjJPAzW+MtXgkK+ovE5LRse9STt6zQeWml7b5RdS3bnY4XBYrERLsNmTJP50Zydt+SvGyA/quRv6hQdWoOceVaMLo26yCllu8NkMRk8fKpIMN4mRt7RZdvU3GG7nAU93Jg3rUUGpZmtvKTpeSI7NkcPmsfdbbjnbWkZv4VPwEC5AbY92439e1B12gUCgUCgUHMNbe+lt8gj+0XNBpMF78Y75VH/wB6DtVAoFAoPG4/1ef/AHMv/wCGoOC0CgUCgUH6qszKqqWZiFVVBLMxOwVQNySSQAANye4UFVjtI5G7CyXJFhCRv+VUvcEEEja3BUp3gBhM8TrvuEbbYhTyWeldLQC8ydxZ26jnwucrPEXkdAZuFtE4VJJ1VCY0tYGuWA4qHJ2ITsvlJN+xTSWm8rqJeTgZCbjhsQ6ogLmG9vULSSxyMsbW0sFs7bOyMQoLBhWGKzeQzEeo9V3VrJfWkD2+HxeMM64zEx3ESpdzjrEyTX1yC0Uzs0iBR3SzRrZx2IVtBI68cx6RzjL3E2qJ/wApLiGNv61cigqr/UdjpPAYQTQXN7c3NrZWOMxliiy3l7OlpHssUbMpEMQC9eb3QiDoArySRxuENcX2f1HqnSt/d6XucLaYXz51ppr+1u1fzljlhi9zEsTpxkgVO5ZORlG/EISQ+YLzUGnNWapyNnpi5zVpmVwqwTRX9rZqnm/HiKQ7SrK77yyuneqcTESOQYEBvfTvVH/t7ff35Y/h6Cc1dndVan09kMGmh72za+7JtctlrKcR9mvra8O8QjiLcxbmP/SLxL8u/biQzs+MvZan03ncZhpszHjLfLRzwQ3MFqeV7AtvHvLNy225M/dG+4QqSu4NBVYPXPnDKW+Ey+CyOn8nex3Mtgty0d3ZXq2sayzRwXsAUG5jh5zSRNCEjjQcphJLDHIF7QKBQKBQcw1t76W3yCP7Rc0Eta3MlncwXUQUyQSJKgcEoSh34sAVJVvUdmVtidmB2ICo9Nsr4fH/ADVz+LoHptlfD4/5q5/F0D02yvh8f81c/i6B6bZXw+P+aufxdB8SazykkckZhsFEiMhZYp+Sh1KkryuWXkN9xyVhv6wR3UElQKBQKDMsLG4yN1HaWy8pJDuWPckUY/z5ZD8CIO8/Cx2RAzsqkLy8yGldB2kcuQuUS7mVxCBGbjKX8gVmMdtbxhnjidlWJWJhs45GhW5uBI4kcJybP641ExXE2UejsWzEDIZaJLzOzIHkCvDi2/yezJ4Kk0N5u4SQTWt0+woPOx0ThoJ+3ZHtOoMmyqsmRz075KZgqxqqrFOWt1WIxjoM0TzwqSgnK0FfQKBQR3lA/M/N/wC4g+2W1B66j/OTyWfI9Sf4HY0FZQKBQKBQSd9+f/k9/wCrP8FSg65QKBQKBQcw1t76W3yCP7Rc0EdQKBQKBQKBQKBQKC501Jb4rDZzUE6NIljb3MjrGqmYW+PtTezpEWKjlMCgCllUvEhYjbcBP6Txr3aDV2aWK5z+cAvlm2LpjrG4Q9jsrDqPI0ES2bqG2brcZDBLJJ0y7hb0CgUCgUEd5QPzPzf+4g+2W1B66j/OTyWfI9Sf4HY0FZQKBQKBQSd9+f8A5Pf+rP8ABUoOuUCgUCgUETrDEz3SQX9tE0r26NFcIgLSGEtzjdUHeyxu0nUCgsFkD7BEdgHNaBQKBQKBQKBQKBQVthbvldH6pw1qrPfT2d/0IgyR9WW5selbRh3ZVAeeDpyFiqKrqWYBtwHxo7IW+R03iXt3Ba1srbH3UewV7e8soI4LiGSMEmIhlEkavxZoJIpOIWRaCmoFAoFAoI3ygEDR+bJIA6NuO87d5vbYAf0kkAD4SQB30HvqQEal8loIIIs9Sgg9xBGDstwR8BFBV0CgUCgUEnffn/5Pf+rP8FSg65QKBQKBQKDyaCB2LPDE7HbdmjRmO3cNyVJOw7h391B89ltvDwfMx+zQOy23h4PmY/ZoHZbbw8HzMfs0Dstt4eD5mP2aB2W28PB8zH7NA7LbeHg+Zj9mgdltvDwfMx+zQOy23h4PmY/ZoHZbbw8HzMfs0H2kMMZLRxRxsRsSkaqSNwdiVAO24B29W4H6KCBzGglnyNxmtOZe40zlr1g+QMFvFe43IMFlBmucZMyQm7Z5ORuVYqHM07W73VxLcENV6O+Ugd3pBpttu7k2OuQzbfCQqbAn1kDuB9XdQPR3ykfH2mv7vuvYoHo75SPj7TX933XsUD0d8pHx9pr+77r2KB6O+Uj4+01/d917FB+egmoc08MGrNQ2txh4p4p7jEYeze1XJdEs8cV3es8c8UAmEbPFGj9RVLRtb3KQXMQUurtNXubfEZLEXsFjm8DPdTWDXkTTWNxFewrBeWd0sYMkaXCRxr2mJZJYUEgiQSSLNCE55r8qP6+gf7Wovu6B5r8qP6+gf7Wovu6B5r8qP6+gf7Wovu6B5r8qP6+gf7Wovu6B5r8qP6+gf7Wovu6DMw2ldRy6gsNQapvsRzwsF5HirDAx3XZ2myELW91c3k9+gnJ7ORGtvHuhdYpVeHpzR3QdKoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoFAoP/2Q=="),t===ce.achievementEmpty&&(a=le),t===ce.noReport&&(a=ue),(0,I.jsx)(l.Fragment,{children:(0,I.jsxs)(re.Z,{className:s.emptyContainer,children:[(0,I.jsx)("img",{className:s.emptyImage,alt:t,src:a}),n&&(0,I.jsx)(se.Z,{className:s.emptyDesc,variant:"body1",color:"textSecondary",children:(0,S.t)(n)}),r]})})}!function(e){e.empty="empty",e.commingSoon="commingSoon",e.noResults="noResults",e.noPermission="noPermission",e.achievementEmpty="achievementEmpty",e.noReport="noReport"}(ce||(ce={}));var me=(0,I.jsx)(_e,{type:ce.noPermission,text:"library_error_no_permissions"}),pe=(0,I.jsx)(_e,{type:ce.empty,text:"library_label_empty"}),he=(ce.commingSoon,(0,I.jsx)(_e,{type:ce.noResults,text:"library_msg_no_results_found"}));ce.achievementEmpty,ce.empty,ce.noReport;function fe(){var e=de();return(0,I.jsxs)("div",{style:{width:"100%",textAlign:"center",margin:"10vh auto"},children:[(0,I.jsx)("img",{className:e.emptyImage,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKIAAACbCAYAAADhh0B+AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAoqADAAQAAAABAAAAmwAAAAClIQDZAAAVuklEQVR4Ae1dC2wcx3n+545HkSLvbInRWyRtVwptxzVsSQEMuxFUN3KUtEjqJGgqAVIaJCkcI2jSGnBht0EbBLFQAwHcxhCcIq4LCbDsAEHaIA8nFhxDRWqnleTUcNzQUm2TlvWiSFq8o0jxeDf9/uPt6Xh3+5qd3ds7zgDH3Z2d+eefbz7+s/MWZJwjAlLKxPlZGswXaKiInyDajAgrSFAa17SUuArqhX/pXghaDr/LuGYlUZYk5fgeYfmer5PwP5lI0nAKvzVdNCKEKMJ/STvgZ5yFwOkp2ScF7QCRtoAsTLohXDeRlF1WGO1XIWaRzimkM4zrMEh7Qkh6cWNGjGtPK8YClzQRx6XMzGRpO8zR3Sgj/t0KC9h0TGAhwUt6Fb8XEvh1p+lonxBTeG5b13TQo0b2bFbenC/SHlSnH0ba20C8ZNQ6+E0PxCwgzjFU7UdSCXp6XVq87ldG3MMvCSKey8rVV4q0G4Wxl0hujXuhuOsnjiPMoWUJOrw2LS64h49/iLYlIixd12iOPg4rsheZ3IXnjvgXhz8NYSnnUYc/B+t+aKCXfojnWX8S4hO67Yj4jpQr5RR9FQX0ZVi/FfGBOmxNxCQK83GRocf6hZgIOzXd8tuGiBdycu1skR6ABbxPkuzVDVSryBMkcrCQT3Ql6Fure8W51tG7VTS10fPMjByYn6MH0db9fKjdLDbpx9abu4UkPdnRSY+u7xajsdWzrFjLWkTu80NT8hHk43MgYCruQDdNPyHySPspdA08HOe+yZYjIvfznc7SF/ANuB/3fU0r4BZLGA2ZcRT2QxvT9F3ccz9lrFxLEfHdaXl7oUAHQMA7YoViCykDEr6cTNL9G3rEK3FSuyWIOCHlNdkp+gaGv+4HCWPfAR2nAm6kC8hYwDDmgXSGvrZSiEuNwkTtF3sijuTkTirSQXwHro0anLZPT6BVnaB9g73i+WbnFUOZ8XRs+UYvyW9gXspzhoQhlRH+uRlfxrnZNU0sLeLotFxPBToMcLaHVARGbA0CqK6PUpJ2D/SIMzWvInmMnUUczcmPgIS/NiSMpPwriZTwBu4l/Cu+0d3EhogAQoxOyW/ie/CnuF8VHQQmJQuBEu7An8uBy8Pyj+IaaWJ2GUKmO9+ZooMYmvuMXRjjHy0CGCp8pj9Dn0WVPRdFyk0n4gUpe2em6AeYoMDzA42LFQLiSHeG7l0tMH4dsmsqETFJdRUmqf4ElnBbyPk04hURgGU8hsm4H8Nk3DFFEZ6iNe0b8eyMvC4v6ZeGhJ7KqWmBuHy4nLi8wlSiKRZxNCtvQc/+z9E/uC7MzBnZGhEQ4ixGtu4ZSIvXNEqtiIqciPyfNZen/zQkrJRB69yAjJ0punNdt3hbt9KRErH0TcjVsZS8Nti4FkQAreiTKUF36f5mjOwbkVvHpYaJIWEL0u+qymxEuBy5PK/6Br+LxCJyP+HoFP3YdNEELzA7CQmUZBfmJWH3CEIrlzrwYz+rgHkCYhF/5rGIG0Qi7FxBs/ixn5oTRwYy9Ie6+hktPdV08RALJBTorD5sOqs9gOUzSBKl14O56cvx6+QHnw5lUyLlZczhnsav4JOU5U7vPSCjz5j1ivrXvl6Go095uOhhx0DmpS8E2Npdu4yoGwtkQQJfce0CMyln5oneu7JgNe3C1foj/UcGMuJvav39PuvJhU2qpQH0hbHjUNOxSb7tvLmqvQYE7IUF1EXAWpCYkDlYx0sgpJdqu2QNE/TRgV7xs1pZfp5DI0h5KhfPojETGPyUiE3YdOcCCROaLKBNMhXvIgjJZMx6GGkGGccwhey2IFPIQmk1g3zJ8nxCQ8JK0ardsKXo68Y+eF0CjY/Q7EadcpwWp8lpu6VaMjYL80eVl3GEQkQ0Tr4O5cyk1rri9efB7Y81PdwgcaOCP7l+QnParINbW4jLm8vdj+zqsNpzyGtMePo5FAuF5NXKt/M9d8GsWs7dMNqLSAm2eXwwjl1e6PqxE4AquohS36WyBkZrLkur7bL0W7PGxK6ovPmz9VnLVigmJLS0LoCM56ZdunmwICudphv9rg7UarV4yachoVVsale2DO+DJYwbCTk3rBPr5mi9sCCrxAOf2XeU6UdWefH7f6NKVv5g9ZNeu4blxkEzvwm94DqNeWHjM/YhUUUXsIj/g34W8WuxiCCfKO/AYEhoXz6ub7iLJu4k5EywjqyrnWNjVOaDZ0OnhYilvWjMNiB25eLJ3+qs9hQ4BoG4Y93pExZkvIN54VVVz4y1E8i7cmEMfRgJmw2R7EDy4L8C5xakOwMXh4eU9AXJzkmadNijFlX0OCzdkJddyAJbRN4azpAwWOF2gH88bNdqjnVm3e0c86K8daBdkIq/g5hKGNsb3iQzn6dTaCm3IIy22Yr8RSs0UOxAcWu4YFA8n0rRJrfNQgNZRN6p1ZDQroi8+XOf4XLFbeZ/dbFIf3p0lj714gwdfgtTZxQcx+P4LIfl+XWsu+OoC4xUiScugpUtIu9ZPVOkt0DE8E5lclG+HV5n0Pq8FmO6Ko7Jcx6FYLl7B1L0Fzd5r5z+8X/z9G+jmGpTdmu6E/TMdv/F+d6spCmnyRHYRhmir3fa01vZIi5snG5IaBWi6pUntaq6fM08rR+AVP8EcnlxtSTkOLXyvMjhMK55gLEq8cVBoBIR+QgJ3r3fQa555QEB7v5QmVltif70YD2LmYxMMifXiIQcvpE8JznWO86DU1dOKRz4UuKNFanmqkTEhXNM9C6eqdFrSTzyGpMgbvf1HfTHqI5rHVe3dmS0IyFX6yxP1bnlBUtFepk3dvJ9f5ygSd6FhVBn7A7T+exLDmM/dlosUf8vDaXoT66rJ5JfOOzIxST9StU3o104v9+WjfSbuiJLywwavbvqJyax4Go9+hfreh99W8TSsWJL6kSnqzDqvutf7hv+hiow2dwsY5gkZKV42pq7kysW+FMf0r8txtl29WKMjwoCmBSgEq1hHMvyVbeCOSA//89Egd7KXW1dWwJ0WEJLFi/o8uQW+PO92rBeo5fi8SmfgG5XrRDzrIZA2mlYQkGknWUMm4SsqmtjpZwf5g/zqDZ7vojIR83iG9G/Fa1N1TyXEFDtyHaCz46M1XF0WkJLrtflNMyf8pHFVtTS1RcREWPfotjmIRACXq2I30SYjNf3Ni5a9vfT6e01bZ8fGXWfd421bZA6n/yOlvKWBq+MlyICk2hphuG4YdKoOua02J/f63b+domQWxf4dFULz0TEfil7rkYzdzoQmMQ0Kt3OrnVcnY5TP2N1OD/3/ohYWoS1iE+eiQildvpRzIR1R2ACC9h1OjsSNqqmdZOxWN8od86aoA9XB/BExHEpM1gxs7U6orkPjsCERotoR0LuX/yXu7pc+xmD5savRUR620q8KifsiYgzWdqO1k7AAamgWW2/+CMN+vZUculEQqt/0a41rcsy8lZ3fhzziXllxfFERKRxtxXBXPUh8F8XMX85oPNCQiuJMMnIO4n5ddW88kREJGCI6BdlD+FHpuWi+YQeoiwKwpNa2aLVutox5ur3TmRUnVzLu0DwBqAKrsIr8eTJnP6mm4JGHIW3QzuBc9ZHsJvAUnEP3NxJf9SvNkbAM6snarqAnEhYjWkjS7pymaDv78DCap8uh2/dibppDO5CMPmB96VZxYurvFpEd6kaQvBinA+tlbRxeWz+NzTkylnEy2Pq1XOqpkfcKwlZo0aWsVaes+ZX36pUyxwb34kCJ/7t4PtYEZEV4h7631uDCaOx04y10+9eAhHfnVar1/4S1pSn97Ml+/P3dy6a8uVFUyYjx+P4LIfl+XV5NJdVichpYRvG0iBJrKrmahB+855ANV3t0773uzYk6a9vwYr1FnTjM7K0/7ay6kJ8fzAjPh1bu3PjNZKWLZEOo5+fKdC5qkVQyoUacURupPAm8EEcasAhjh9bIvISxc2ZpfGtyGugnn5Tof8jCAM0xJ3SMDKErG/Ct2IitkRknIYyvGm5BsRaQMSPTs/TrzGBtVXc7PzCpu+B9cXSk/OzNBhrIvJ8vUFsWLkUHNv+b746R5c0DvuFhRtv2Om0LZ3fdHH40FCsicgZugnfikvFXUSf4D+85rRSPR5IcJ+hwtiyrfLFViDi+7DxQP8SsYpcUtyd88xbAVsAtkUe/AWv1gvSXdNIA24OxN4isuLb+qTnNRGNMtpqft95I0/PxpCM3paMKqG9oiWIyCMuO9DJXTOQoJTjVon0BMh48P/iYxkvwRLy8WihOGxAqzbIGYo2zkI39Ej6g3VEv3kPpyHlBXY8aT3HU6Wu+GgYP3Uqj2pQ0hffn8I/YXO6D9C1UjqBynGTpeBFkY7tyErwvMVTAvcZ8uSO09gQYzQnaMzDZIFbrk1g5KWTNvZEW4Hx8N049Jvz8c+jhro4boiohpy2WGdByBMXiSbmnC0ej71/cXOKPjnYEbp1ZCvIZ/DxWXxR1DyYhfOGIaI2SqkL4sI+dlHQby+5y7jpmgTtuaGD7lyV1E5IJiC3iLkaDt8KVuVViLOGiFV4NPv2dRDxOAjpxa3rFvTJgQ766MYO6gm4YwSfRJoD+fiHT9LIHQ4gzxkiRg67c4K/GhP0xpRzmOq33ZgYctvKJP0uOkD4W3IIFrPTpXuBLR9bPG44zfIVVrAJ/KtkA1VzwRCxAkc8brgx86N3BF1S7Lnhg0x3beigv/pA/dzCly4U6AY0ePy03KNBRWSjbYZFk6uWToWN2W3owFd1OJ0MVm5xfJ5i9tCJWXr4lSsxJGFpYku2ZfoRVQumFeMNYEgzg078KUWreDuqanY8X/B7b8+XOsax8VFsHf5tDBHjWjr96MDnWeoq7ncyCfrlhXn6Z4zOjGKlYOwd2krGIsa0lNbjOFoeRVJx970029TGh1+dMWhkvhH9ghZV+J4AJqIFbGAtjIaItYjE5TmMTTzjkrc6PTCQY1rNdajEw8PxWLF4qKhTi0lDRJ1wGllKCOBT4qQhohJ0JpJOBBJJGjZE1ImokaWEQMoQUQk3E0knAjiFak0XjRiLqBNUI8s3AuiyP4VJD0VDRN/QmQg6EUBDZZjlGSLqRNXI8o0ALKIhom/UTATtCGB47wQLNRZRO7RGoFcEeMdYIelFDm+I6BU1Ey4MBF7lbYtZsCFiGPAamV4ReMEKaIhoIWGukSMA8hkiRo66SXARArxgqjtNRy1PYxEtJMw1agSO9QlRWa9oiBg1/Ca9BQQkHamGwhCxGg1zHxkCqQQ9XZ2YIWI1GuY+IgTE8XVp8Xp1YoaI1WiY+6gQOFSbUIAlOrWizLNBwB0BtJbnOwUdrg1pLGItIuY5VAQw2+a5tWlxoTYRQ8RaRMxzuAgIqquWOUFDxHBhN9IXISAmB3rph4u8yg+GiI1QMX6hIIC5h4/jG7HhZs2GiKFAboTWIlDajDNDj9X6W8+GiBYS5houAoKe6Bdiwi4RQ0Q7ZIy/PgRQHXcl6FtOAg0RndAx77QggFnYT67uFeechJkObSd0zLvgCAiR70jRo26CjEV0Q8i8D4rAU+u7xaibEGMR3RAy75URQFfNOCzdw14EGIvoBSUTRgkB9Bs+ZC2OchNgiOiGkHmvhACs4csb0/Rdr5ENEb0iZcJ5RgAkLCSTdD+unndRNkT0DK8J6BUBHGx1YEOPeMVreA5nGit+0DJh3REQ4lw6TV9zD7g4hLGIi/EwTwEQQFVcxHyufSuF8HDO6uKEDBEX42GegiAg6ZHBXvG8ighTNaugZuLUIQBreLQ/TX9f98Kjh7GIHoEywewRAAnHKEm7ccWhu2oORBQ5tagmlkGATxZFF02C9g70iDNB8EiQkIEEBEncxG0LBPYP9IqfBc0JHw88GlSIiR8OAigbrU73dxhmXT+L78K/1aEk66bUytGRuJHhjEBX0vPAhLOg8ls+A1qfE0f6M7SvVDVrEJpIJTr+XYMcIyIEBHpSem1i3zI9NhGW8Fh3hu4FCed0ZTux94auYWyoXdkwUZdgIyc4Auu69VrED1wbnIgg30lsoPSx1UJvI7ekGVosD+oyscHhNxIsBAZ79FrED64M2G0sxNlUiu7BBkpjlo66riUi/tmmnuOwigd0CTVy9CCwYpmkgR49sratTEJWAGKDhODIPeu6xdt6NFospWKrr7th+VdJ0C8WvzZPzUZgS5+kzkopqWnDh5B/ZlC9pcLVcWeK7hxIi9fUNHCPVcni72OXpq5Uz6cMGd1BizJEGvz50Bp0HCsmygX8pc3LaHWXmgRumKDNdFdYltDKVp12v5Cy4+03Lz+GOWX3Synr3lsRzTVaBM5cFvQf54nmit7TZUvIJLxVuZEijnDrWHfDpFEObIn2r6emtxZJPgpC3t0oovGLHoFsnujEuKDRafe0+ZuQq+MAlvDZcj+hti4aJ61tiWhFOvTm7FC+OP8JPO9EZ8IASbGeSPZa7801egQmrwgamZZ0dkbQdF7SlaKgDKwf9xNyFw23jlUbJuXek/08YhJlT4orEaOGeTQnP0JFOoTPglVRp73U0wPxxkoTGDSMHfvFMnZE5AyMTsv1VKDDION2vxky4dUQAAmP8lSuoLNo1FJXb4yppuc5HkiYfGeKvo7m4kO4r7TuPQswAT0hAAKiKUD78T34d7hXnk/oKTGHQLG0iNX6juTkTlTVB0nKtdX+5l4DAljoxGtMVKf3a9CgIiL2loZBwqqwG2G8v93M/9gKYm1ws4Cj+DbjGgcSMqSxt4jV5f7utLy9UKADqKrvqPY3994RAAlf5sXvftcde09BLWRLEZGzCBKK01n6ArqS9uO+Ty3bSy8WCIgeSOxFg21AcK93Wo8GOFuOiFaeT0/JPnxZP4Lnz4Gd6gOplsB2vWJ/QmTtqSR25fK6IVIzoGhZIlpgnZmRA/Nz9CAGIz8PQnZZ/kv+iu2CeafWjk561Mv+hM3Gq+WJaAF4ISfXzhbpAXRF3CeX8MgPJink8OX/BO9Z7bZdsIVdHK5tQ0QLTK6yi5K+go+gL+OLcoXl3/5XMYnCfFzgCAmn3fvjikPbEdECGg2ZrtEcfRwWci8yuQvPAacnW5Ljc0WjYx7/cM/BAh7iE53w3PAwnfhobK9J2xKxOsvnsnL1lSLtht8+WMkt1e9a816cgN4HMcfhcKMDFlsxT0uCiNUFczYrb84XaQ/8dsKSbIWlRIMy3g6WrgDLfhxaPs8nv9ceuh1v7b1pt+SIWA3LuJSZmSxtx1xTnnPJv1tBzKZjUu7nexX6vIChrxe603S0T4ipat3b7b7poMcJUG7ogIY7MBl4C769hgDOEK6bQu0W4m4WolNIZxhXXtp7At0uL8a5zy+MMjNEdEEVFjJxfpYG8wUaKuIHwDYjygpU62lc0yBtGuRJg0hpECgN/25UozMgdBZhs3ifxfsswmbhz9dJhD2ZSNJwCr81XTQCC+hjAQAktKH7fxUkvVvyFubXAAAAAElFTkSuQmCC",alt:""}),(0,I.jsx)("p",{children:(0,S.d)("No learning outcome is available.").t("assess_msg_no_lo")})]})}var ge,ve=n(69890),be=n(82341),xe=function(e,t){var n=new URLSearchParams(e);return Object.keys(t).forEach((function(e){return n.set(e,String(t[e]))})),n.toString()},ye=function(e){return Object.keys(e).forEach((function(t){null==e[t]&&delete e[t]})),e},je=function(e){var t=new URLSearchParams(e);return"?".concat(t.toString())},Ze=["query_key","query_type","description","shortcode","author_name","publish_status","content_type","author","classType","teacher_name","first_save"],Ce=["sid","search_key","back","searchOutcome","searchMedia","id","is_unpub","status","program_group","name","author_id","outcome_id","before","teacher_id","class_id","lesson_plan_id","student_id","path","school_id","subject_id"],ke=function(){var e=(0,_.TH)(),t=e.search,n=e.pathname,r=new URLSearchParams(t),s={};Ze.forEach((function(e){s[e]=r.get(e)})),Ce.forEach((function(e){s[e]=r.get(e)||""}));var a=Number(r.get("year")),o=Number(r.get("week_start")),i=Number(r.get("week_end")),l=Number(r.get("editindex"))||0,c=Number(r.get("page"))||1,u=r.get("readonly")||!1,d=r.get("parent_id")||"",m=r.get("schedule_id")||"",h=r.get("isShare")||"org",f=r.get("exactSerch")||"all",g=r.get("exect_search")||be.n7.all,v="true"===r.get("assumed"),b="true"===r.get("first_save"),x=r.get("filterOutcomes")||"all";return(0,p.Z)((0,p.Z)({},s),{},{pathname:n,parent_folder:d,scheduleId:m,querys:r,search:t,editindex:l,assumed:v,isShare:h,exactSerch:f,exect_search:g,page:c,first_save:b,filterOutcomes:x,updateQuery:function(e){return function(e,t){var n=new URLSearchParams(e);return Object.keys(t).forEach((function(e){n.set(e,"".concat(t[e]))})),n.toString()}(t,e)},readOnly:u,year:a,week_start:o,week_end:i})},we=n(7475),Se=n(95273),Ae=n(763),Ne=n(53781),Be=n(55471),Ie=n(23364),Pe=n(8154),Ee=n(71033),Fe=(0,L.Z)((function(e){e.palette,e.breakpoints;return{lps_title:{fontWeight:"bolder",marginBottom:10,martinTop:10},spaceBetween:{display:"flex",justifyContent:"space-between",alignItems:"center"}}}));function Oe(e){var t=e.assessment_type,n=e.dimension,r=e.mainDimension,s=e.subDimension,a=e.onChangeDimension,o=e.onChangeSubdimension,i=[{id:"all",name:(0,S.d)("Select All").t("schedule_detail_select_all")}],c=t===Ne.bC.review,u=(0,l.useState)(i),d=(0,Q.Z)(u,2),_=d[0],m=d[1];return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{style:{display:"flex",marginBottom:24},children:[!c&&(0,I.jsx)(Z.Z,{style:{width:266,marginRight:10},value:n,onChange:function(e){a(e.target.value),m(i)},size:"medium",select:!0,SelectProps:{MenuProps:{transformOrigin:{vertical:-40,horizontal:"left"}}},children:r.map((function(e){return(0,I.jsx)(Be.Z,{value:e.value,children:e.label},e.label)}))}),(0,I.jsx)(Ee.ZP,{style:{width:266},multiple:!0,disableClearable:!0,limitTags:1,id:"tags-outlined",options:[].concat(i,(0,f.Z)(s)),getOptionLabel:function(e){return e.name},getOptionSelected:function(e,t){return e.id===t.id},value:_,onChange:function(e,t,n){return function(e,t,n){0===t.length&&"remove-option"===n&&t.push(i[0]);var r=e.target.getAttribute("data-option-index");"0"===r?(t.length&&t.splice(0,t.length),t.push(i[0])):"select-option"===n?t.forEach((function(e,n){"all"===e.id&&t.splice(n,1)})):"remove-option"===n&&(t.length||t.push(s[Number(r)-1])),m(t),o(t)}(e,t,n)},renderInput:function(e){return(0,I.jsx)(Z.Z,(0,p.Z)((0,p.Z)({},e),{},{variant:"outlined",label:(0,S.d)("Please select here").t("assess_detail_please_select_here")}))}})]})})}function Te(e){var t=e.text,n=Fe(),r=(0,Ie.Z)().breakpoints,s=(0,Pe.Z)(r.down("xs"))?"subtitle2":"h6";return(0,I.jsx)(se.Z,{variant:s,className:n.lps_title,children:t})}!function(e){e.student="student",e.material="material",e.all="all",e.submitted="submitted",e.notSubmitted="notSubmitted"}(ge||(ge={}));var Le,De,Re,Me,We=n(31366);!function(e){e.Participate="Participate",e.NotParticipate="NotParticipate"}(Le||(Le={})),function(e){e.Unknown="Unknown",e.NotCovered="NotCovered",e.NotAchieved="NotAchieved",e.Achieved="Achieved"}(De||(De={})),function(e){e.Unknown="Unknown",e.HasChildContainer="HasChildContainer",e.NotChildContainer="NotChildContainer",e.SupportScoreStandAlone="SupportScoreStandAlone",e.NotSupportScoreStandAlone="NotSupportScoreStandAlone"}(Re||(Re={})),function(e){e.editScore="EditScore",e.viewComment="ViewComment",e.editComment="EditComment",e.drawFeedback="DrawFeedback",e.selectImg="SelectImg",e.essay="Essay",e.audioRecorder="AudioRecorder",e.speakTheWordsSet="SpeakTheWordsSet",e.speakTheWords="SpeakTheWords",e.viewWritingFeedback="ViewWritingFeedback",e.viewDrawingFeedback="ViewDrawingFeedback",e.viewScreenshots="ViewScreenshots"}(Me||(Me={}));var ze=function(e,t,n,r){var s=r===Ne.bC.homeFun,a={},o={};null===t||void 0===t||t.forEach((function(e){a[e.content_id]||(a[e.content_id]=(0,p.Z)({},e))})),null===n||void 0===n||n.forEach((function(e){o[e.outcome_id]||(o[e.outcome_id]=(0,p.Z)({},e))}));var i=null===e||void 0===e?void 0:e.map((function(e){var t=e.student_id,n=e.student_name,r=e.reviewer_comment,i=e.status,l=e.results;return{student_id:t,student_name:n,reviewer_comment:r,status:i,attempted:!!s||!(null!==l&&void 0!==l&&l.every((function(e){return!1===e.attempted}))),results:s?null===l||void 0===l?void 0:l.map((function(e){var t=e.outcomes;return(0,p.Z)((0,p.Z)({},e),{},{outcomes:null===t||void 0===t?void 0:t.map((function(e){if(o[e.outcome_id]){var t=o[e.outcome_id],n=t.assumed,r=t.outcome_name;return(0,p.Z)((0,p.Z)({},e),{},{assumed:n,outcome_name:r})}return(0,p.Z)({},e)}))})})):null===l||void 0===l?void 0:l.filter((function(e){return!!a[e.content_id]})).map((function(e){var t=e.answer,n=e.attempted,r=e.content_id,s=e.score,i=e.outcomes,l=a[r];return{answer:t,attempted:n,content_id:r,score:s,content_name:l.content_name,content_type:l.content_type,content_subtype:l.content_subtype,file_type:l.file_type,max_score:l.max_score,number:l.number,parent_id:l.parent_id,h5p_id:l.h5p_id,h5p_sub_id:l.h5p_sub_id,status:l.status,outcomes:null===i||void 0===i?void 0:i.map((function(e){if(o[e.outcome_id]){var t=o[e.outcome_id],n=t.assumed,r=t.outcome_name,s=t.assigned_to;return(0,p.Z)((0,p.Z)({},e),{},{assumed:n,outcome_name:r,assigned_to:s})}return(0,p.Z)({},e)}))}}))}}));return i},Qe=function(e,t){var n={};return null===t||void 0===t||t.forEach((function(e){n[e.content_id]||(n[e.content_id]=(0,p.Z)({},e))})),null===e||void 0===e?void 0:e.map((function(e){var t;return(0,p.Z)((0,p.Z)({},e),{},{results:null===(t=e.results)||void 0===t?void 0:t.map((function(e){return(0,p.Z)((0,p.Z)({},e),{},{status:n[e.content_id].status})}))})}))},qe=function(e,t){var n={};return null===e||void 0===e||e.forEach((function(e){n[e.student_id]||(n[e.student_id]=(0,p.Z)({},e))})),null===t||void 0===t?void 0:t.map((function(e){var t=n[e.student_id].status;return(0,p.Z)((0,p.Z)({},e),{},{status:t})}))},Ue=function(e){return null===e||void 0===e?void 0:e.map((function(e){var t=e.status,n=e.student_id,r=e.student_name,s=e.reviewer_comment,a=e.results;return{status:t,student_id:n,student_name:r,reviewer_comment:s,attempted:!(null!==a&&void 0!==a&&a.every((function(e){return!1===e.attempted}))),results:null===a||void 0===a?void 0:a.map((function(e){var t=e.answer,n=e.attempted,r=e.score,s=e.content;return(0,p.Z)({answer:t,attempted:n,score:r},s)}))}}))},Ve=function(e){var t,n={};return null===e||void 0===e||null===(t=e.filter((function(e){return e.status===Le.Participate})))||void 0===t||t.forEach((function(e){var t,r=e.student_id;null===(t=e.results)||void 0===t||t.forEach((function(e){var t,s;"LessonMaterial"===e.content_type?null===(t=e.outcomes)||void 0===t||t.forEach((function(e){var t=e.outcome_id,s=e.status,a=e.outcome_name,o=e.assumed,i=e.assigned_to;if(n[t]){var l,c,u=n[t],d=u.none_achieved,_=u.skip,m=u.attendance_ids,p=u.not_attendance_ids;n[t].none_achieved="NotAchieved"===s&&d,n[t].skip="NotCovered"===s&&_;var h=null!==(l=null===m||void 0===m?void 0:m.indexOf(r))&&void 0!==l?l:-1,f=null!==(c=null===p||void 0===p?void 0:p.indexOf(r))&&void 0!==c?c:-1;if("Achieved"===s){var g,v,b;if(h<0&&f<0)null===(g=n[t].attendance_ids)||void 0===g||g.push(r);if(f>=0)if(null===(v=n[t].partial_attendance_ids)||void 0===v||v.push(r),h>=0)null===(b=n[t].attendance_ids)||void 0===b||b.splice(h,1)}else{var x,y,j;if(h>=0)null===(x=n[t].partial_attendance_ids)||void 0===x||x.push(r),null===(y=n[t].attendance_ids)||void 0===y||y.splice(h,1);if(f<0)null===(j=n[t].not_attendance_ids)||void 0===j||j.push(r)}}else n[t]={outcome_id:t,outcome_name:a,assumed:o,assigned_to:i,attendance_ids:s===De.Achieved?[r]:[],not_attendance_ids:s!==De.Achieved?[r]:[],partial_attendance_ids:[],none_achieved:s===De.NotAchieved,skip:s===De.NotCovered}})):null===(s=e.outcomes)||void 0===s||s.forEach((function(e){var t,s=e.outcome_id,a=e.status,o=e.outcome_name,i=e.assumed,l=e.assigned_to;if(1===(null===(t=e.assigned_to)||void 0===t?void 0:t.length))if(n[s]){var c,u=n[s],d=u.none_achieved,_=u.skip,m=u.attendance_ids,p=void 0===m?[]:m;n[s].none_achieved=a===De.NotAchieved&&d,n[s].skip=a===De.NotCovered&&_;var h,f,g=null!==(c=null===p||void 0===p?void 0:p.indexOf(r))&&void 0!==c?c:-1;if(a===De.Achieved){if(g<0)null===(h=n[s].attendance_ids)||void 0===h||h.push(r)}else if(g>=0)null===(f=n[s].attendance_ids)||void 0===f||f.splice(g,1)}else n[s]={outcome_id:s,outcome_name:o,assumed:i,assigned_to:l,attendance_ids:a===De.Achieved?[r]:[],not_attendance_ids:[],partial_attendance_ids:[],none_achieved:a===De.NotAchieved,skip:a===De.NotCovered}}))}))})),Object.values(n)},Ge=function(e){var t={};return null===e||void 0===e||e.forEach((function(e){var n,r=e.student_id,s=e.student_name;null===(n=e.results)||void 0===n||n.forEach((function(n){var a,o,i=n.content_id,l=n.content_name,c=n.number,u=n.content_subtype,d=n.answer,_=n.score,m=n.max_score,h=n.file_type,g=n.parent_id,v=n.outcomes,b=n.status,x=n.attempted,y=n.h5p_id,j=n.h5p_sub_id;t[i]?(null===(a=t[i].students)||void 0===a||a.push({student_id:r,student_name:s,answer:d,score:_,attempted:x,status:e.status}),t[i].outcomes=null===(o=t[i].outcomes)||void 0===o?void 0:o.map((function(e){var t,n=null===v||void 0===v?void 0:v.find((function(t){return t.outcome_id===e.outcome_id})),s=null!==(t=e.attendance_ids)&&void 0!==t?t:[],a=[];return(null===n||void 0===n?void 0:n.status)===De.Achieved&&(a=[].concat((0,f.Z)(s),[r])),(0,p.Z)((0,p.Z)({},e),{},{attendance_ids:(null===n||void 0===n?void 0:n.status)===De.Achieved?a:s})}))):t[i]={content_id:i,content_name:l,content_subtype:u,number:c,max_score:m,file_type:h,parent_id:g,status:b,attempted:x,h5p_id:y,h5p_sub_id:j,students:[{student_id:r,student_name:s,answer:d,score:_,attempted:x,status:e.status}],outcomes:null===v||void 0===v?void 0:v.map((function(e){var t=e.outcome_id,n=e.outcome_name,s=e.assumed,a=e.status;return{outcome_id:t,outcome_name:n,assumed:s,status:a,attendance_ids:a===De.Achieved?[r]:[]}}))}}))})),Object.values(t)},He=function(e,t){if(e===ge.material)return t&&t[0]&&t[0].results?t[0].results.filter((function(e){return"LessonMaterial"===e.content_type&&"Covered"===e.status&&""===e.parent_id})).map((function(e){return{id:e.content_id,name:e.content_name}})):[];var n=null===t||void 0===t?void 0:t.filter((function(e){return e.status===Le.Participate}));return e===ge.student||e===ge.all?null===n||void 0===n?void 0:n.map((function(e){return{id:e.student_id,name:e.student_name}})):e===ge.submitted?null===n||void 0===n?void 0:n.filter((function(e){return e.results.length&&!!e.results[0].student_feed_backs})).map((function(e){return{id:e.student_id,name:e.student_name}})):e===ge.notSubmitted?null===n||void 0===n?void 0:n.filter((function(e){return!e.results.length||e.results.length&&!e.results[0].student_feed_backs})).map((function(e){return{id:e.student_id,name:e.student_name}})):void 0},Ke=function(e,t,n){var r,s,a=e===Ne.bC.review,o=e===Ne.bC.homeFun;return{_contents:null!==(r=null===t||void 0===t?void 0:t.map((function(e){return{content_id:e.content_id,content_subtype:e.content_subtype,content_type:e.content_type,parent_id:e.parent_id,status:e.status,reviewer_comment:e.reviewer_comment}})))&&void 0!==r?r:[],_students:null!==(s=null===n||void 0===n?void 0:n.map((function(e){var t=e.student_id,n=e.status,r=e.reviewer_comment,s=e.results;return{student_id:t,reviewer_comment:r,status:n,results:o?null===s||void 0===s?void 0:s.map((function(e){var t,n=e.assess_score,r=e.outcomes,s=e.student_feed_backs;return{assess_score:n,assess_feedback_id:s?s[0].id:"",assignments:s?null===(t=s[0].assignments)||void 0===t?void 0:t.map((function(e){return{id:e.id,review_attachment_id:e.review_attachment_id}})):[],outcomes:null===r||void 0===r?void 0:r.map((function(e){return{outcome_id:e.outcome_id,status:e.status}}))}})):null===s||void 0===s?void 0:s.map((function(e){var t=e.content_id,n=e.parent_id,r=e.score,s=e.outcomes;return{content_id:t,parent_id:n,score:Number(r),outcomes:a||null===s||void 0===s?void 0:s.map((function(e){return{outcome_id:e.outcome_id,status:e.status}}))}}))}})))&&void 0!==s?s:[]}},Ye=function(e){var t=[];return e&&e[0]&&(t=e.map((function(e){var t=0,n=0;return e.results&&e.results[0]&&e.results.forEach((function(e){"LessonMaterial"===e.content_type&&e.h5p_id&&(t+=1,e.attempted&&(n+=1))})),!!(t&&n&&t>n)}))),!!t.find((function(e){return e}))},Xe=function(e){var t=0,n=0;return e&&e[0]&&e.forEach((function(e){e.results&&e.results[0]&&e.results.forEach((function(e){e.h5p_id&&(t+=1,e.attempted&&(n+=1))}))})),{all:t,attempt:n}},Je=n(28182),$e=["breakpoint","spacing","leftWidth","rightWidth","basePadding","padding","children"],et=function(e){return"calc((100% - ".concat(e.spacing,"px) * ").concat(e.leftWidth/(e.leftWidth+e.rightWidth),")")},tt=function(e){return"calc((100% - ".concat(e.spacing,"px) * ").concat(e.rightWidth/(e.leftWidth+e.rightWidth),")")},nt=(0,L.Z)((function(e){var t=e.breakpoints;return{layoutPair:function(e){var n;return n={display:"flex",padding:e.padding},(0,ne.Z)(n,t.down(e.breakpoint),{flexDirection:"column"}),(0,ne.Z)(n,t.down("sm"),{padding:e.basePadding}),n},layoutLeft:function(e){return(0,ne.Z)({flexBasis:e.leftWidth,maxWidth:et(e),flexGrow:1,flexShrink:1,marginRight:e.spacing},t.down(e.breakpoint),{marginRight:0,marginBottom:40,flexBasis:"100%",maxWidth:"none"})},layoutRight:function(e){var n;return n={flexBasis:e.rightWidth,maxWidth:tt(e),flexGrow:1,flexShrink:1},(0,ne.Z)(n,t.down(e.breakpoint),{marginBottom:40,flexBasis:"100%",maxWidth:"none"}),(0,ne.Z)(n,"position","relative"),n}}}));function rt(e){e.breakpoint,e.spacing,e.leftWidth,e.rightWidth,e.basePadding,e.padding,e.children;var t=(0,h.Z)(e,$e),n=nt(e),r=-1,s=l.Children.map(e.children,(function(e){var t;return r+=1,(0,I.jsx)(re.Z,{className:(0,Je.default)((t={},(0,ne.Z)(t,n.layoutLeft,0===r),(0,ne.Z)(t,n.layoutRight,1===r),t)),children:e})}));return(0,I.jsx)(re.Z,(0,p.Z)((0,p.Z)({className:n.layoutPair},t),{},{children:s}))}var st=n(78432),at=n(89526),ot=function(e){var t=JSON.parse(JSON.stringify(e)),n=e.program,r=e.subject,s=e.developmental,a=e.skills,o=e.age,i=e.grade;return n&&n.length&&(t.program=n.map((function(e){return e.program_id})),t.program=t.program.filter((function(e){return e}))),r&&r.length&&(t.subject=r.map((function(e){return e.subject_id})),t.subject=t.subject.filter((function(e){return e}))),s&&s.length&&(t.developmental=s.map((function(e){return e.developmental_id})),t.developmental=t.developmental.filter((function(e){return e}))),a&&a.length&&(t.skills=a.map((function(e){return e.skill_id})),t.skills=t.skills.filter((function(e){return e}))),o&&o.length&&(t.age=o.map((function(e){return e.age_id})),t.age=t.age.filter((function(e){return e}))),i&&i.length&&(t.grade=i.map((function(e){return e.grade_id})),t.grade=t.grade.filter((function(e){return e}))),t},it=function(e,t){return e&&e.length&&t&&t.length?t.filter((function(t){return e.indexOf(t.set_id)>=0})):[]},lt=function(e,t){return e&&t&&t.length?t.findIndex((function(t){return t.set_id===e})):-1},ct=function(e,t){return e&&e.length&&t&&t.length?(t.map((function(e){return e.set_id})).forEach((function(t){var n=e.indexOf(t);n>=0&&e.splice(n,1)})),e):e};var ut,dt=function(e){if(!e)return"";var t=new Date(1e3*Number(e)),n=function(e){return e<10?"0".concat(e):e},r=[t.getFullYear(),n(t.getMonth()+1),n(t.getDate()),n(t.getHours()),n(t.getMinutes()),n(t.getSeconds())],s=r[0],a=r[1],o=r[2],i=r[3],l=r[4];return"".concat(s,"-").concat(a,"-").concat(o," ").concat(i,":").concat(l)};function _t(e){if(e){var t=new Date(1e3*Number(e)),n=t.getFullYear(),r=t.getMonth()+1,s=r<10?"0".concat(r):r,a=t.getDate(),o=a<10?"0".concat(a):a,i=t.getHours(),l=i>=12?"PM":"AM",c=(i=i>12?i-12:i)<10?"0".concat(i):i,u=t.getMinutes(),d=u<10?"0".concat(u):u;return"".concat(n,"/").concat(s,"/").concat(o,"  ").concat(c,":").concat(d).concat(l)}return""}function mt(e,t){if(!e)return"";var n=new Date(1e3*e),r=n.getFullYear(),s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Spt","Oct","Nov","Dec"][n.getMonth()],a=n.getDate(),o=n.getHours(),i=o>12?"PM":"AM",l=o>12?o-12:o,c=n.getMinutes();return t===ut.date?"".concat(s,"  ").concat(a,",  ").concat(r):t===ut.time?"".concat(l.toString().padStart(2,"0"),":").concat(c.toString().padStart(2,"0")," ").concat(i):void 0}function pt(e){if(e){var t=new Date(1e3*Number(e)),n=t.getFullYear(),r=t.getMonth()+1,s=r<10?"0".concat(r):r,a=t.getDate(),o=a<10?"0".concat(a):a;return"".concat(n,"/").concat(s,"/").concat(o)}return""}function ht(e){return e instanceof Array?e:e?[e.trim()]:[]}function ft(e){return e instanceof Array?e.join(";"):e?e.trim():void 0}!function(e){e.date="date",e.time="time"}(ut||(ut={}));var gt=n(67025),vt=n(44279),bt=n(89576),xt=n(52379),yt=n(90237),jt=(0,L.Z)((function(e){e.palette;var t=e.spacing;return{editBox:{width:"100%",marginTop:30,position:"relative"},materialEditBox:{"& .assessment-MuiOutlinedInput-multiline":{padding:"18.5px 14px 40px 14px"}},fieldset:{"& .assessment-MuiInputBase-input":{color:"rgba(0,0,0,1)"},"&:not(:first-child)":{marginTop:30}},blockEle:{"& .assessment-MuiInputBase-root":{display:"block",minHeight:120}},materialTitle:{color:"#000",fontSize:18,fontWeight:700},materialNameCon:{color:"#000",fontSize:18,margin:"16px 0",wordBreak:"break-all"},editButton:{position:"absolute",bottom:10,right:14,background:"rgba(14,120,213,0.24)","&:hover":{background:"rgba(14,120,213,0.24)"}},title:{"& .assessment-MuiTypography-root":{fontSize:"24px !important",fontWeight:700}},closeBtn:{color:"#000",position:"absolute",top:t(1),right:t(1)},okBtn:{marginLeft:"40px !important"},subTitle:{fontSize:18,color:"#666",marginBottom:10},checkBoxCon:{"& .assessment-MuiFormControlLabel-label":{fontSize:18},"& .assessment-MuiTypography-root":{wordBreak:"break-all"}},commentCon:{marginLeft:10,width:"100%","& .assessment-MuiInputBase-root":{height:"100%"},"& .assessment-MuiOutlinedInput-notchedOutline":{border:"none"}},mCoverIcon:{fontSize:16,color:"#999999"}}}));function Zt(e){var t=jt(),n=function(){var e=(0,l.useState)(!1),t=(0,Q.Z)(e,2),n=t[0],r=t[1],s=(0,l.useState)(0),a=(0,Q.Z)(s,2),o=a[0],i=a[1];return(0,l.useMemo)((function(){return{contentEditIndex:o,contentEditActive:n,openCotnentEdit:function(){i(o+1),r(!0)},closeCotentEdit:function(){return r(!1)}}}),[n,o])}(),r=n.contentEditActive,s=n.openCotnentEdit,a=n.closeCotentEdit,o=n.contentEditIndex,i=e.assessmentDetail,c=e.contents,u=e.editable,d=e.hasEditPerm,_=e.onChangeContents,m=(0,l.useMemo)((function(){return null===c||void 0===c?void 0:c.filter((function(e){return"LessonMaterial"===e.content_type&&""===e.parent_id}))}),[c]),p=(0,l.useMemo)((function(){return null===m||void 0===m?void 0:m.filter((function(e){return"Covered"===e.status})).map((function(e){return e.content_name}))}),[m]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(re.Z,{className:(0,Je.default)(t.editBox,t.materialEditBox),children:[(0,I.jsx)(Z.Z,{fullWidth:!0,disabled:!0,multiline:!0,className:(0,Je.default)(t.fieldset,t.blockEle),InputProps:{readOnly:!0,startAdornment:(0,I.jsx)(I.Fragment,{children:p&&p.length?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:t.materialTitle,children:[(0,S.d)("Lesson Materials Covered").t("assess_detail_lesson_materials_covered"),"(","".concat(p.length,"/").concat(null===m||void 0===m?void 0:m.length),")"]}),(0,I.jsx)("div",{style:{maxHeight:180,minHeight:90,overflow:"auto"},children:p.map((function(e,n){return(0,I.jsx)("div",{className:t.materialNameCon,children:e},n)}))})]}):(0,S.d)("N/A").t("assess_column_n_a")})}}),d&&(0,I.jsx)(k.Z,{className:t.editButton,color:"primary",variant:"outlined",onClick:s,children:u?(0,S.d)("Edit").t("assess_button_edit"):(0,S.d)("View").t("assess_detail_button_view")}),(0,I.jsx)(Ct,{open:r,onClose:a,editable:u,assessmentDetail:i,contents:c,onChangeContent:function(e){_(e)}},o)]})})}function Ct(e){var t,n=jt(),r=(0,u.I0)(),s=(0,w.cI)(),a=s.control,o=s.getValues,i=e.open,c=e.editable,d=e.contents,_=e.assessmentDetail,m=e.onClose,p=e.onChangeContent,h=(0,l.useState)(d),x=(0,Q.Z)(h,2),A=x[0],N=x[1],B=(0,l.useMemo)((function(){return null===A||void 0===A?void 0:A.filter((function(e){return"LessonMaterial"===e.content_type&&""===e.parent_id}))}),[A]),P=(0,l.useMemo)((function(){return null===B||void 0===B?void 0:B.filter((function(e){return"Covered"===e.status})).map((function(e){return e.content_name}))}),[B]),E=(0,l.useCallback)((function(){if(!(null===A||void 0===A?void 0:A.filter((function(e){return"LessonMaterial"===e.content_type&&""===e.parent_id&&"Covered"===e.status})).length))return Promise.reject(r((0,V.WQ)((0,S.d)("At least one lesson material needs to be selected as covered.").t("assess_msg_one_exposed"))));var e,t=null!==(e=(0,Ae.cloneDeep)(A))&&void 0!==e?e:[],n=o().comment;null===t||void 0===t||t.forEach((function(e){"LessonMaterial"===e.content_type&&n[e.content_id]&&(e.reviewer_comment=n[e.content_id])})),N((0,f.Z)(t)),p((0,f.Z)(t)),m()}),[A,r,o,p,m]);return(0,I.jsxs)(g.Z,{maxWidth:"sm",fullWidth:!0,open:i,onClose:m,children:[(0,I.jsxs)(v.Z,{className:n.title,children:[_.status===We.T9.complete?(0,S.d)("View Lesson Materials Covered").t("assess_detail_view_covered"):(0,S.d)("Edit Lesson Materials Covered").t("assess_detail_edit_covered"),!c&&(0,I.jsx)(gt.Z,{onClick:m,className:n.closeBtn,children:(0,I.jsx)(bt.Z,{})})]}),(0,I.jsx)(b.Z,{dividers:!0,style:{borderBottom:"none"},children:(0,I.jsxs)(re.Z,{style:{height:390},children:[(0,I.jsxs)(se.Z,{className:n.subTitle,children:[(0,S.d)("Lesson Materials Covered").t("assess_detail_lesson_materials_covered"),":"," ","".concat(null===P||void 0===P?void 0:P.length,"/").concat(null!==(t=null===B||void 0===B?void 0:B.length)&&void 0!==t?t:0)]}),null===A||void 0===A?void 0:A.map((function(e,t){return"LessonMaterial"===e.content_type&&""===e.parent_id&&(0,I.jsxs)("div",{children:[(0,I.jsx)(y.Z,{className:n.checkBoxCon,control:(0,I.jsx)(j.Z,{checked:"Covered"===e.status,disabled:!c,onChange:function(t){return function(e,t){var n,r=e.target.checked,s=null!==(n=(0,Ae.cloneDeep)(A))&&void 0!==n?n:[];null===s||void 0===s||s.forEach((function(e){e.content_id!==t&&e.parent_id!==t||(e.status=r?"Covered":"NotCovered")})),N((0,f.Z)(s))}(t,e.content_id)},color:"primary"}),label:e.content_name}),(0,I.jsx)(w.Qr,{as:Z.Z,name:"comment[".concat(e.content_id,"]"),control:a,multiline:!0,className:n.commentCon,placeholder:(0,S.d)("Comment here").t("assess_detail_comment_here"),disabled:!c,inputProps:{maxLength:100},defaultValue:e.reviewer_comment,InputProps:{startAdornment:(0,I.jsx)(vt.Z,{position:"start",children:c?(0,I.jsx)(xt.Z,{className:n.mCoverIcon}):(0,I.jsx)(yt.Z,{className:n.mCoverIcon})})}})]},e.content_id)}))]})}),c&&(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(k.Z,{autoFocus:!0,onClick:m,color:"primary",variant:"outlined",children:(0,S.d)("CANCEL").t("general_button_CANCEL")}),(0,I.jsx)(k.Z,{onClick:E,color:"primary",variant:"contained",className:n.okBtn,children:(0,S.d)("OK").t("general_button_OK")})]})]})}var kt=n(31044),wt=(0,L.Z)((function(e){e.palette,e.spacing;return{editBox:{width:"100%",marginTop:30,position:"relative"},fieldset:{"& .assessment-MuiInputBase-input":{color:"rgba(0,0,0,1)"},"&:not(:first-child)":{marginTop:30}},norwarp:{whiteSpace:"nowrap",overflow:"none",textOverflow:"ellipsis"},editStudentBox:{"& .assessment-MuiInputBase-input":{width:"calc(100% - 78px)"}},editButton:{position:"absolute",bottom:10,right:14,background:"rgba(14,120,213,0.24)","&:hover":{background:"rgba(14,120,213,0.24)"}},title:{"& .assessment-MuiTypography-root":{fontSize:"24px !important",fontWeight:700}},okBtn:{marginLeft:"40px !important"},subTitle:{fontSize:18,color:"#666",marginBottom:10}}}));function St(e){var t=wt(),n=(0,u.I0)(),r=e.students,s=e.editable,a=e.onChangeStudent,o=(0,l.useMemo)((function(){var e,t=null===r||void 0===r?void 0:r.filter((function(e){return e.status===Le.Participate})).map((function(e){return e.student_name?e.student_name:(0,S.d)("Unknown User").t("assessment_summary_label_attendance_unknown")}));return"".concat(null===t||void 0===t?void 0:t.join(","),"(").concat(null!==(e=null===t||void 0===t?void 0:t.length)&&void 0!==e?e:0,")")}),[r]),i=(0,l.useState)(r),c=(0,Q.Z)(i,2),d=c[0],_=c[1],m=(0,l.useReducer)((function(e){return!e}),!1),p=(0,Q.Z)(m,2),h=p[0],f=p[1],x=(0,l.useCallback)((function(){var e=null===d||void 0===d?void 0:d.filter((function(e){return"Participate"===e.status}));if(null===e||void 0===e||!e.length)return Promise.reject(n((0,V.WQ)((0,S.d)("You must choose at least one student.").t("assess_msg_ one_student"))));a(d),f()}),[d,n,a]);return(0,I.jsxs)(re.Z,{className:t.editBox,children:[(0,I.jsx)(Z.Z,{fullWidth:!0,disabled:!0,multiline:!0,minRows:2,maxRows:4,value:o,className:(0,Je.default)(t.fieldset,t.norwarp,t.editStudentBox),label:(0,S.d)("Student List").t("assess_detail_student_list")}),(0,I.jsx)(kt.P$,{value:[te.Z.edit_in_progress_assessment_439,te.Z.edit_attendance_for_in_progress_assessment_438],render:function(e){return e&&(0,I.jsx)(k.Z,{className:t.editButton,color:"primary",variant:"outlined",onClick:f,disabled:!s,children:(0,S.d)("Edit").t("assess_button_edit")})}}),(0,I.jsxs)(g.Z,{open:h,onClose:f,children:[(0,I.jsx)(v.Z,{className:t.title,children:(0,S.d)("Edit Student List").t("assess_detail_edit_student_list")}),(0,I.jsx)(b.Z,{dividers:!0,style:{borderBottom:"none"},children:(0,I.jsx)(At,{students:r,editable:s,onChangeStudent:function(e){_(e)}})}),(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(k.Z,{autoFocus:!0,onClick:f,color:"primary",variant:"outlined",children:(0,S.d)("CANCEL").t("general_button_CANCEL")}),(0,I.jsx)(k.Z,{onClick:x,color:"primary",variant:"contained",className:t.okBtn,children:(0,S.d)("OK").t("general_button_OK")})]})]})]})}function At(e){var t=wt(),n=e.students,r=e.onChangeStudent,s=(0,l.useState)(n),a=(0,Q.Z)(s,2),o=a[0],i=a[1],c=(0,l.useMemo)((function(){return null===o||void 0===o?void 0:o.filter((function(e){return e.status===Le.Participate})).length}),[o]);return(0,I.jsxs)(re.Z,{children:[(0,I.jsxs)(se.Z,{className:t.subTitle,children:[(0,S.d)("Students").t("assess_detail_students"),"(".concat(c,")")]}),null===o||void 0===o?void 0:o.map((function(e,t){return(0,I.jsx)(y.Z,{control:(0,I.jsx)(j.Z,{color:"primary",value:e.student_id,checked:e.status===Le.Participate,onChange:function(e){return function(e,t){var n,s=e.target.checked,a=null!==(n=(0,Ae.cloneDeep)(o))&&void 0!==n?n:[];a[t].status=s?Le.Participate:Le.NotParticipate,i(a),r(a)}(e,t)}}),label:e.student_name?e.student_name:(0,S.d)("Unknown User").t("assessment_summary_label_attendance_unknown")},e.student_id)}))]})}var Nt=(0,L.Z)((function(e){var t=e.palette;e.spacing;return{classSummaryHeader:{height:64,width:"100%",backgroundColor:t.primary.main,color:t.common.white,paddingLeft:24,paddingRight:24,boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"space-between"},fieldset:{"& .assessment-MuiInputBase-input":{color:"rgba(0,0,0,1)"},"&:not(:first-child)":{marginTop:30}},roomId:{padding:"7px 18px",background:"rgba(255,255,255,0.21)",borderRadius:"18px",fontSize:16},editBox:{width:"100%",marginTop:30,position:"relative"},minutes:{position:"absolute",top:15,right:16,color:"rgba(0,0,0,.38)"}}}));function Bt(e){var t,n,r,s,a,o,i,c=Nt(),u=(0,Ie.Z)().breakpoints,d=(0,Pe.Z)(u.down("sm")),_=e.assessmentDetail,m=e.students,p=e.contents,h=e.assessmentType,f=e.formMethods,g=e.editable,v=e.hasEditPerm,b=e.onChangeStudent,x=e.onChangeContents,y=h===Ne.bC.class||h===Ne.bC.live,j=h===Ne.bC.study,C=h===Ne.bC.review,k=h===Ne.bC.homeFun,w=(0,l.useMemo)((function(){var e,t=null===(e=_.teachers)||void 0===e?void 0:e.map((function(e){return e.name?e.name:(0,S.d)("Unknown User").t("assessment_summary_label_attendance_unknown")})),n=t&&t.length?t.length:"";return"".concat(null===t||void 0===t?void 0:t.join(",")," (").concat(n,")")}),[_.teachers]),A=_.contents?null===(t=_.contents.find((function(e){return"LessonPlan"===e.content_type})))||void 0===t?void 0:t.content_name:"",N=(0,l.useMemo)((function(){return j?{summary:(0,S.d)("Study Summary").t("assess_study_summary"),title:(0,S.d)("Study Title").t("assess_list_study_title")}:C?{summary:(0,S.d)("Auto Review Summary").t("assessment_review_summary"),title:(0,S.d)("Auto Review Title").t("assessment_review_title")}:k?{summary:(0,S.d)("Study / Home Fun Summary").t("assess_detail_study_homefun_summary"),title:(0,S.d)("Study Title").t("assess_list_study_title")}:{summary:(0,S.d)("Class Summary").t("assess_class_summary"),title:(0,S.d)("Assessment Title").t("assess_column_title")}}),[k,C,j]);return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(at.Z,{elevation:d?0:3,children:[(0,I.jsxs)(re.Z,{className:c.classSummaryHeader,boxShadow:3,children:[(0,I.jsx)(se.Z,{variant:"h6",children:N.summary}),!k&&(0,I.jsxs)("div",{className:c.roomId,children:[(0,S.d)("Room ID").t("assess_detail_room_id"),":",_.room_id]})]}),(0,I.jsxs)(re.Z,{px:5,py:5,children:[(0,I.jsx)(Z.Z,{fullWidth:!0,disabled:!0,value:_.title||(0,S.d)("N/A").t("assess_column_n_a"),className:c.fieldset,label:N.title,multiline:!0,maxRows:3}),(0,I.jsx)(Z.Z,{fullWidth:!0,disabled:!0,value:(null===_||void 0===_||null===(n=_.class)||void 0===n?void 0:n.name)||(0,S.d)("N/A").t("assess_column_n_a"),className:c.fieldset,label:(0,S.d)("Class Name").t("assess_detail_class_name")}),y&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Z.Z,{fullWidth:!0,disabled:!0,name:"title",value:null!==(r=_.schedule_title)&&void 0!==r?r:"",className:c.fieldset,label:(0,S.d)("Lesson Name").t("assess_detail_lesson_name")}),(0,I.jsx)(Z.Z,{fullWidth:!0,disabled:!0,name:"classEndTime",value:_t(_.class_end_at),className:c.fieldset,label:(0,S.d)("Date of Class").t("assess_detail_date_of_class")}),(0,I.jsx)(Z.Z,{fullWidth:!0,disabled:!0,multiline:!0,name:"teacher.name",value:w,className:c.fieldset,label:(0,S.d)("Teacher List").t("assess_detail_teacher_list")})]}),(j||C||k)&&(0,I.jsx)(Z.Z,{fullWidth:!0,disabled:!0,multiline:!0,name:"teacher.name",value:w,className:c.fieldset,label:(0,S.d)("Teacher List").t("assess_detail_teacher_list")}),(0,I.jsx)(St,{students:m,editable:g,onChangeStudent:b}),y&&(0,I.jsxs)(re.Z,{className:c.editBox,children:[(0,I.jsx)(Z.Z,{fullWidth:!0,disabled:!0,name:"classLength",value:_.class_length&&Math.ceil(_.class_length/60)||0,className:c.fieldset,label:(0,S.d)("Class Length").t("assess_detail_class_length")}),(0,I.jsx)(se.Z,{className:c.minutes,children:(0,S.d)("Minutes").t("assess_detail_minutes")})]}),!C&&!k&&_.contents&&_.contents.length&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Z.Z,{fullWidth:!0,disabled:!0,value:A,className:c.fieldset,label:(0,S.d)("Lesson Plan").t("library_label_lesson_plan")}),(0,I.jsx)(Zt,{assessmentDetail:_,editable:g,formMethods:f,contents:p,hasEditPerm:v,onChangeContents:x}),y&&(0,I.jsx)(Z.Z,{fullWidth:!0,disabled:!0,value:null!==(s=null===(a=_.outcomes)||void 0===a?void 0:a.length)&&void 0!==s?s:0,className:c.fieldset,label:(0,S.d)("Number of Learning Outcomes").t("assess_detail_number_lo")})]}),y&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Z.Z,{fullWidth:!0,disabled:!0,name:"program.name",value:(null===(o=_.program)||void 0===o?void 0:o.name)||"",className:c.fieldset,label:(0,S.d)("Program").t("assess_label_program")}),(0,I.jsx)(Z.Z,{fullWidth:!0,disabled:!0,name:"subjects",value:(null===(i=_.subjects)||void 0===i?void 0:i.map((function(e){return e.name})).join(", "))||"",className:c.fieldset,label:(0,S.d)("Subject").t("library_label_subject")})]}),(j||C||k)&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Z.Z,{fullWidth:!0,disabled:!0,name:"due_at",value:_t(_.schedule_due_at)||(0,S.d)("N/A").t("assess_column_n_a"),className:c.fieldset,label:(0,S.d)("Due Date").t("assess_column_due_date")}),(0,I.jsx)(Z.Z,{fullWidth:!0,disabled:!0,value:null!==_&&void 0!==_&&_.complete_rate?"".concat(Math.round(100*(null===_||void 0===_?void 0:_.complete_rate)),"%"):(0,S.d)("N/A").t("assess_column_n_a"),className:c.fieldset,label:(0,S.d)("Completion Rate").t("assess_list_completion_rate")})]}),(j||k)&&(0,I.jsxs)(re.Z,{className:c.editBox,children:[(0,I.jsx)(Z.Z,{fullWidth:!0,disabled:!0,name:"remaining_time",value:null!==_&&void 0!==_&&_.remaining_time?Math.ceil((null===_||void 0===_?void 0:_.remaining_time)/60/60/24):0,className:c.fieldset,label:(0,S.d)("Assessment Remaining").t("assess_list_assessment_remaining")}),(0,I.jsx)(se.Z,{className:c.minutes,children:(0,S.d)("Day(s)").t("assess_list_remaining_days")})]}),!C&&(0,I.jsx)(Z.Z,{fullWidth:!0,disabled:!0,name:"complete_time",value:_t(_.complete_at)||0,className:c.fieldset,label:(0,S.d)("Assessment Complete Time").t("assess_detail_assessment_complete_time")}),k&&(0,I.jsx)(Z.Z,{fullWidth:!0,disabled:!0,multiline:!0,name:"description",value:_.description,className:c.fieldset,label:(0,S.d)("Description").t("assess_label_description")})]})]})})}var It=n(13108),Pt=n(12168),Et=n(73877),Ft=n(11498),Ot=n(3113),Tt=n(83782),Lt=n(81802),Dt=["onClick","children","replace","disabled"],Rt=(0,L.Z)({circle:function(e){return{marginRight:e.replace?0:8}}});function Mt(e){var t,n=e.onClick,r=e.children,s=e.replace,a=e.disabled,o=(0,h.Z)(e,Dt),i=null!==(t=e.as)&&void 0!==t?t:k.Z,c=Rt(o),u=(0,l.useRef)(!0),d=(0,l.useState)(!1),_=(0,Q.Z)(d,2),m=_[0],f=_[1],g=(0,l.useMemo)((function(){return function(){return f(!0),n.apply(void 0,arguments).then((function(e){return u.current&&f(!1),e})).catch((function(e){u.current&&f(!1)}))}}),[n,f]);return(0,l.useEffect)((function(){return u.current=!0,function(){u.current=!1}})),(0,I.jsxs)(i,(0,p.Z)((0,p.Z)({},o),{},{onClick:g,disabled:m||a,children:[m&&(0,I.jsx)(M.Z,{size:20,className:c.circle}),(!s||!m)&&r]}))}var Wt=function(e,t){return{color:t.common.white,backgroundColor:e.main,"&:hover":{backgroundColor:e.dark}}},zt=function(e,t){return{color:e.main,borderColor:e.light,"&:hover":{borderColor:e.main,backgroundColor:(0,It.Fq)(e.main,t.action.hoverOpacity)}}},Qt=(0,L.Z)((function(e){var t=e.palette,n=e.breakpoints;return{arrowBack:(0,ne.Z)({color:t.common.black,marginRight:28},n.down("sm"),{marginRight:16}),kidsloopLogo:{width:140,marginRight:16},title:(0,ne.Z)({marginRight:"auto"},n.down("sm"),{fontSize:16}),headerButton:{fontWeight:"bold",borderRadius:27,marginLeft:50},iconButton:{marginRight:16,padding:5,border:"thin solid currentColor"},redButton:Wt(t.error,t),redOutlinedButton:zt(t.error,t),greenButton:Wt(t.success,t),primaryIconButton:Wt(t.primary,t),dialogContentRemoveborder:{borderBottom:"none"}}}));function qt(e){var t=e.name,n=e.onComplete,r=e.onSave,s=e.onBack,a=e.editable,o=Qt(),i=(0,Ie.Z)().breakpoints,c=(0,Pe.Z)(i.down("sm")),u=(0,l.useReducer)((function(e){return!e}),!1),d=(0,Q.Z)(u,2),_=d[0],m=d[1],p=(0,l.useReducer)((function(e){return!e}),!1),h=(0,Q.Z)(p,2),f=h[0],v=h[1],x=(0,l.useCallback)((function(){m()}),[]),y=(0,l.useCallback)((function(){v(),s()}),[s]);return(0,I.jsxs)(l.Fragment,{children:[(0,I.jsxs)(re.Z,{display:"flex",alignItems:"center",pl:c?2:3,pr:10,height:72,boxShadow:3,children:[(0,I.jsx)(gt.Z,{size:"small",className:o.arrowBack,onClick:s,children:(0,I.jsx)(Et.Z,{fontSize:c?"small":"medium"})}),(0,I.jsx)(se.Z,{variant:"h6",className:o.title,children:c?t:(0,S.d)("For Organizations").t("library_label_for_organizations")}),a&&(0,I.jsxs)(Pt.Z,{smDown:!0,children:[(0,I.jsx)(k.Z,{variant:"contained",endIcon:(0,I.jsx)(Ft.Z,{}),className:(0,Je.default)(o.headerButton,o.redButton),onClick:v,children:(0,S.d)("Cancel").t("assess_label_cancel")}),(0,I.jsx)(Mt,{variant:"contained",endIcon:(0,I.jsx)(Ot.Z,{}),color:"primary",className:o.headerButton,onClick:r,children:(0,S.d)("Save").t("assess_label_save")}),(0,I.jsx)(Mt,{variant:"contained",endIcon:(0,I.jsx)(Tt.Z,{}),className:(0,Je.default)(o.headerButton,o.greenButton),onClick:n,children:(0,S.d)("Complete").t("assess_button_complete")})]})]}),(0,I.jsx)(Pt.Z,{smDown:!0,children:(0,I.jsx)(re.Z,{display:"flex",alignItems:"center",pl:5,pr:10,height:64,boxShadow:2,children:(0,I.jsx)(se.Z,{variant:"h6",className:o.title,children:t})})}),a&&(0,I.jsx)(Pt.Z,{mdUp:!0,children:(0,I.jsxs)(re.Z,{display:"flex",justifyContent:"flex-end",py:2,children:[(0,I.jsx)(gt.Z,{className:(0,Je.default)(o.iconButton,o.redButton),color:"primary",onClick:v,children:(0,I.jsx)(Lt.Z,{fontSize:"small"})}),(0,I.jsx)(Mt,{as:gt.Z,className:(0,Je.default)(o.iconButton,o.primaryIconButton),color:"primary",onClick:r,replace:!0,children:(0,I.jsx)(Ot.Z,{fontSize:"small"})}),(0,I.jsx)(gt.Z,{className:(0,Je.default)(o.iconButton,o.greenButton),color:"primary",onClick:n,children:(0,I.jsx)(Tt.Z,{fontSize:"small"})})]})}),(0,I.jsxs)(g.Z,{open:_,onClose:m,children:[(0,I.jsx)(b.Z,{dividers:!0,className:o.dialogContentRemoveborder,children:(0,S.d)("You cannot change the assessment after clicking Complete.").t("assess_msg_cannot_delete")}),(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(k.Z,{autoFocus:!0,onClick:m,color:"primary",children:(0,S.d)("CANCEL").t("general_button_CANCEL")}),(0,I.jsx)(k.Z,{onClick:x,color:"primary",children:(0,S.d)("OK").t("general_button_OK")})]})]}),(0,I.jsxs)(g.Z,{open:f,onClose:v,children:[(0,I.jsx)(b.Z,{dividers:!0,className:o.dialogContentRemoveborder,children:(0,S.d)("Discard unsaved changes?").t("assess_msg_discard")}),(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(k.Z,{autoFocus:!0,onClick:v,color:"primary",children:(0,S.d)("CANCEL").t("general_button_CANCEL")}),(0,I.jsx)(k.Z,{onClick:y,color:"primary",children:(0,S.d)("DISCARD").t("general_button_DISCARD")})]})]})]})}var Ut=function(e,t){var n;if(t){var r=document.createElement("iframe");return r.src=t,r.style.display="none",null===(n=e.current)||void 0===n||n.appendChild(r),r}};function Vt(e){var t=e.resourceId,n=e.fileName,r=e.children,s=(0,l.useRef)(null),a=(0,u.I0)(),o=function(){var e=(0,X.Z)($().mark((function e(r){var o,i,l,c;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a((0,we.RM)({resource_id:t,metaLoading:!0}));case 4:if(o=e.sent,o.payload){e.next=9;break}return a((0,V.y6)((0,S.d)("This file is not ready. Please try again later.").t("schedule_msg_file_not_ready_to_download"))),e.abrupt("return");case 9:return e.next=11,a((0,we.j8)({resourceId:t,metaLoading:!0})).then(Se.SI);case 11:i=e.sent,l=i.path,c=(0,ee.Hf)(l,n),Ut(s,c);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,I.jsx)("div",{className:"downloadButton",onClick:o,ref:s,children:r})}var Gt=n(63928),Ht=n(94446),Kt=n(17631),Yt=n(9773),Xt=n(43486),Jt=(0,L.Z)((function(e){return(0,D.Z)({tableRow:{background:"#F3F3F3"},tableProgress:{"& th":{padding:"0"}}})}));function $t(e){var t=e.emitSort,n=e.fields,r=e.sortField,s=e.loading,a=e.className,o=e.style,i=Jt();return(0,I.jsxs)(Yt.Z,{children:[(0,I.jsx)(Xt.Z,{className:(0,Je.default)(i.tableRow,a),style:o,children:n.map((function(e){return!e.hidden&&(0,I.jsx)(Kt.Z,{align:e.align,width:e.width,hidden:e.hidden,style:e.style,className:e.className,children:e.sortable?(0,I.jsx)(Gt.Z,{active:r===e.value&&!!e.sortType,direction:e.sortType,onClick:(n=e.value,function(e){t&&t(n,e)}),children:e.text},e.value):e.text},e.value);var n}))}),s&&(0,I.jsx)("tr",{className:i.tableProgress,children:(0,I.jsx)("th",{colSpan:n.filter((function(e){return!e.hidden})).length,children:(0,I.jsx)(Ht.Z,{})})})]})}(0,L.Z)({table:{minWidth:650}});var en,tn,nn,rn,sn,an=n(48583),on=n(16608),ln=n(79370),cn=n(66828),un=n(49861),dn=n(66556),_n=n(46593),mn=n(28912),pn=n(54266),hn=n(19323),fn=n(28237),gn=n(94613),vn=["title","titleId"];function bn(){return bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bn.apply(this,arguments)}function xn(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function yn(e,t){var n=e.title,r=e.titleId,s=xn(e,vn);return l.createElement("svg",bn({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),n?l.createElement("title",{id:r},n):null,en||(en=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H20C21.1 21 22 20.1 22 19V5C22 3.9 21.1 3 20 3ZM20 19H4V5H20V19Z",fill:"#4CAF50"})),tn||(tn=l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.41 10.42L17.99 9L14.82 12.17L13.41 10.75L12 12.16L14.82 15L19.41 10.42Z",fill:"#4CAF50"})),nn||(nn=l.createElement("path",{d:"M10 7H5V9H10V7Z",fill:"#4CAF50"})),rn||(rn=l.createElement("path",{d:"M10 11H5V13H10V11Z",fill:"#4CAF50"})),sn||(sn=l.createElement("path",{d:"M10 15H5V17H10V15Z",fill:"#4CAF50"})))}var jn,Zn=l.forwardRef(yn),Cn=(n.p,["title","titleId"]);function kn(){return kn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kn.apply(this,arguments)}function wn(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Sn(e,t){var n=e.title,r=e.titleId,s=wn(e,Cn);return l.createElement("svg",kn({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),n?l.createElement("title",{id:r},n):null,jn||(jn=l.createElement("path",{d:"M21.19 21.19L2.81 2.81L1.39 4.22L3 5.83V19C3 20.1 3.9 21 5 21H18.17L19.78 22.61L21.19 21.19ZM5 19V7.83L16.17 19H5ZM17 8V5H19V16.17L21 18.17V5C21 3.9 20.1 3 19 3H14.82C14.4 1.84 13.3 1 12 1C10.7 1 9.6 1.84 9.18 3H5.83L10.83 8H17ZM12 3C12.55 3 13 3.45 13 4C13 4.55 12.55 5 12 5C11.45 5 11 4.55 11 4C11 3.45 11.45 3 12 3Z",fill:"#999999"})))}var An,Nn=l.forwardRef(Sn),Bn=(n.p,["title","titleId"]);function In(){return In=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},In.apply(this,arguments)}function Pn(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function En(e,t){var n=e.title,r=e.titleId,s=Pn(e,Bn);return l.createElement("svg",In({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),n?l.createElement("title",{id:r},n):null,An||(An=l.createElement("path",{d:"M18 9L16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9ZM19 3H14.82C14.4 1.84 13.3 1 12 1C10.7 1 9.6 1.84 9.18 3H5C4.86 3 4.73 3.01 4.6 3.04C4.21 3.12 3.86 3.32 3.59 3.59C3.41 3.77 3.26 3.99 3.16 4.23C3.06 4.46 3 4.72 3 5V19C3 19.27 3.06 19.54 3.16 19.78C3.26 20.02 3.41 20.23 3.59 20.42C3.86 20.69 4.21 20.89 4.6 20.97C4.73 20.99 4.86 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3ZM12 2.75C12.41 2.75 12.75 3.09 12.75 3.5C12.75 3.91 12.41 4.25 12 4.25C11.59 4.25 11.25 3.91 11.25 3.5C11.25 3.09 11.59 2.75 12 2.75ZM19 19H5V5H19V19Z",fill:"black"})))}var Fn=l.forwardRef(En),On=(n.p,(0,L.Z)((function(e){return{loadCon:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}}})));function Tn(){var e=On();return(0,I.jsx)(re.Z,{className:e.loadCon,children:(0,I.jsx)(M.Z,{})})}var Ln=(0,L.Z)((function(e){return{assetsContent:{maxWidth:"100%",maxHeight:"100%"}}}));function Dn(e){var t=Ln(),n=(0,l.useReducer)((function(){return!0}),!1),r=(0,Q.Z)(n,2),s=r[0],a=r[1],o=s?"inline-block":"none";return(0,I.jsxs)(I.Fragment,{children:[!s&&(0,I.jsx)(Tn,{}),(0,I.jsx)("img",{className:t.assetsContent,onLoad:a,src:e.src,alt:"assetImg",style:{display:o}})]})}var Rn=n(17447),Mn=n(24076),Wn=n(75566),zn=n(89686),Qn=n(30014),qn=n(25195),Un=n(57407),Vn=n(20616),Gn=n(7553),Hn=n(96782),Kn=n(53241),Yn=n(90515),Xn=n(77771),Jn=(0,L.Z)((function(e){e.shadows;return{sliderBox:{width:180},toolsBar:{display:"flex",justifyContent:"space-evenly",border:"1px solid black",borderRadius:"20px",alignItems:"center",height:"70px",transform:"scale(0.9)"},fieldItem:{width:"25px",height:"25px",borderRadius:"25px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer","& div":{width:"16px",height:"16px",borderRadius:"16px"}},toolSelected:{padding:"6px",backgroundColor:"black",color:"white",borderRadius:"10px"},toolUnSelected:{padding:"6px"},textField:{padding:"6px",border:"1px solid",display:"flex",alignItems:"center",borderRadius:"10px",position:"absolute",right:0,bottom:"80px",background:"white"}}})),$n="pencil",er="select",tr="text",nr="pan";function rr(e){return"".concat(e)}function sr(e,t){return new Promise((function(n,r){var s=new Image;s.src=e+"?timestamp= ".concat(Date.now()),s.crossOrigin="use-credentials",s.onload=function(){var e=t/s.height,r=s.width*e,a=document.createElement("canvas");a.width=s.width,a.height=s.height,a.getContext("2d").drawImage(s,0,0,s.width,s.height);var o=a.toDataURL("image/png");n({widthImg:r,bases64:o})},s.onerror=r}))}var ar=(0,l.forwardRef)((function(e,t){var n=e.width,r=e.height,s=e.pictureUrl,a=e.pictureInitUrl,o=e.onChange,i=Jn(),u=(0,l.useRef)(null),d=c().useState("#E60313"),_=(0,Q.Z)(d,2),m=_[0],p=_[1],h=c().useState(10),f=(0,Q.Z)(h,2),g=f[0],v=f[1],b=c().useState(Xn.Tools.Pencil),x=(0,Q.Z)(b,2),y=x[0],j=x[1],C=c().useState($n),k=(0,Q.Z)(C,2),w=k[0],S=k[1],A=c().useState(!1),N=(0,Q.Z)(A,2),B=N[0],P=N[1],E=c().useState({undo:!1,redo:!1}),F=(0,Q.Z)(E,2),O=F[0],T=F[1],L=c().useState(""),D=(0,Q.Z)(L,2),R=D[0],W=D[1],z=c().useState(0),q=(0,Q.Z)(z,2),U=q[0],V=q[1],G=["#E60313","#F5A101","#FED900","#3DB135","#02FCFC","#0068B7","#A6569D","#E73C8D","#9F4500","#000000","#BAC769"],H=function(e){P(e)};(0,l.useImperativeHandle)(t,(function(){return{isTraces:X,dataURLtoObject:K,chooseImage:Y}})),c().useEffect((function(){s&&r&&sr(s,r).then((function(e){V(e.widthImg),Y(e.bases64)}))}),[s,r]);var K=function(e,t){for(var n=u.current.toDataURL(),r=atob(n.split(",")[1]),s=n.split(",")[0].split(":")[1].split(";")[0],a=new ArrayBuffer(r.length),o=new Uint8Array(a),i=0;i<r.length;i++)o[i]=r.charCodeAt(i);if("obj"===t)return new File([o],e,{type:s});var l=new Blob([a],{type:s}),c=new FormData;return c.append("upfile",l,e+".png"),c},Y=function(e){u.current.setBackgroundFromDataUrl(e,{stretchedY:!0})},X=(0,l.useMemo)((function(){return O.undo}),[O]);return(0,I.jsxs)(re.Z,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[!U&&(0,I.jsx)("div",{style:{height:r,display:"flex",alignItems:"center"},children:(0,I.jsx)(M.Z,{})}),(0,I.jsx)(Xn.SketchField,{ref:u,style:{display:U?"block":"none"},onChange:function(e){o&&"mouseup"===e.type&&o({isTraces:u.current.canUndo()}),T({undo:u.current.canUndo(),redo:u.current.canRedo()})},lineColor:m,tool:y,width:U||n,height:r,lineWidth:g}),(0,I.jsxs)("div",{className:i.toolsBar,style:{width:n},children:[(0,I.jsx)(I.Fragment,{children:G.map((function(e){return(0,I.jsx)("div",{className:i.fieldItem,onClick:function(){p(e),j(Xn.Tools.DefaultTool),setTimeout((function(){j(y)}))},style:{border:"1px solid ".concat(e)},children:(0,I.jsx)("div",{style:{backgroundColor:e,boxShadow:"0px 0px 8px 0px ".concat(e)}},e)},e)}))}),(0,I.jsx)(Rn.Z,{orientation:"vertical",flexItem:!0}),(0,I.jsxs)("div",{className:i.sliderBox,children:[(0,I.jsx)(se.Z,{id:"discrete-slider",gutterBottom:!0,children:"Weight"}),(0,I.jsx)(Mn.Z,{defaultValue:g,getAriaValueText:rr,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:10,marks:!0,min:10,max:100,onChange:function(e,t){v(t),j(Xn.Tools.DefaultTool),setTimeout((function(){j(y)}))}})]}),(0,I.jsx)(Wn.ZP,{title:"Pen",children:(0,I.jsx)(qn.Z,{style:{color:m,border:w===$n?"1px dashed black":"none"},onClick:function(){S($n),j(Xn.Tools.Pencil)}})}),(0,I.jsx)(Wn.ZP,{title:"Select",children:(0,I.jsx)(Kn.Z,{style:{border:w===er?"1px dashed black":"none"},onClick:function(){S(er),j(Xn.Tools.Select),H(!1)}})}),(0,I.jsx)(Wn.ZP,{title:"Pan",children:(0,I.jsx)(Vn.Z,{style:{border:w===nr?"1px dashed black":"none"},onClick:function(){S(nr),j(Xn.Tools.Pan),H(!1)}})}),(0,I.jsx)(Wn.ZP,{title:"Text",children:(0,I.jsx)(Hn.Z,{style:{border:w===tr?"1px dashed black":"none"},onClick:function(){S(tr),j(Xn.Tools.Select),H(!0)}})}),B&&(0,I.jsxs)("div",{className:i.textField,children:[(0,I.jsx)(Z.Z,{id:"standard-basic",size:"small",label:"Text",onChange:function(e){W(e.target.value)}}),(0,I.jsx)(zn.Z,{style:{color:"blue",marginLeft:"10px"},onClick:function(){u.current.addText(R)}}),(0,I.jsx)(Qn.Z,{style:{color:"red",marginLeft:"10px"},onClick:function(){H(!1)}})]}),(0,I.jsx)(Wn.ZP,{title:"Undo",children:(0,I.jsx)(Yn.Z,{style:{color:O.undo?"black":"darkgray"},onClick:function(){u.current.canUndo()&&u.current.undo()}})}),(0,I.jsx)(Wn.ZP,{title:"Redo",children:(0,I.jsx)(Gn.Z,{style:{color:O.redo?"black":"darkgray"},onClick:function(){u.current.canRedo()&&u.current.redo()}})}),(0,I.jsx)(Wn.ZP,{title:"Clean",children:(0,I.jsx)(Un.Z,{onClick:function(){V(0),T({undo:!1,redo:!1}),u.current.clear(),o&&o({isTraces:!1}),sr(null!==a&&void 0!==a?a:s,r).then((function(e){V(e.widthImg),Y(e.bases64)}))}})})]})]})})),or=n(35152),ir=n(31769),lr=n(94049),cr=n(83376),ur=n(33833),dr=n(55607),_r=n(8731),mr=n(31279),pr=n(40103),hr=n(70963);function fr(e){var t=e.ctx,n=e.height,r=e.width,s=e.bars,a=e.barColor;return function(e){if(t.clearRect(0,0,r,n),Array.isArray(a)){var o=t.createLinearGradient(0,0,0,n),i=a.length;a.forEach((function(e,t){o.addColorStop(t/(i-1),e)})),t.fillStyle=o}else t.fillStyle=a;for(var l=r/s,c=.5*l,u=Math.min(c,10),d=0;d<s;d++){var _=e[d]/256*n,m=e[d]>0?Math.min(_+40,n-u):0;t.fillRect(l*d,n-_,c,_),t.fillRect(l*d,n-(m+u),c,u)}}}var gr=n(43144),vr=n(15671),br=(0,gr.Z)((function e(t){var n=this,r=t.draw,s=t.size,a=t.volume;(0,vr.Z)(this,e),this.source=void 0,this.count=void 0,this.ac=void 0,this.size=void 0,this.gainNode=void 0,this.analyser=void 0,this.rafId=void 0,this.draw=void 0,this.load=function(e,t){var n=new XMLHttpRequest;n.abort(),n.open("GET",e),n.responseType="arraybuffer",n.onload=function(){t(n.response)},n.send()},this.play=function(e,t){var r=++n.count;n.source&&n.source.stop();var s=function(e){if(r===n.count){var s=n.ac.createBufferSource();s.buffer=e,s.connect(n.analyser),s.loop=!0,s.start(n.ac.currentTime,t,(null===e||void 0===e?void 0:e.duration)-t),n.source=s,n.visualize()}};e instanceof ArrayBuffer?n.ac.decodeAudioData(e,s):n.load(e,(function(e){n.ac.decodeAudioData(e,s)}))},this.updateVolume=function(e){n.gainNode.gain.value=e},this.visualize=function(){var e=new Uint8Array(n.analyser.frequencyBinCount),t=window.requestAnimationFrame;!function r(){n.analyser.getByteFrequencyData(e),n.draw(e),n.rafId=t(r)}()},this.pause=function(){n.ac.suspend(),window.cancelAnimationFrame(n.rafId)},this.resume=function(){n.ac.resume(),n.visualize()},this.stop=function(){n.ac.close(),window.cancelAnimationFrame(n.rafId)},this.source=null,this.count=0,this.ac=new window.AudioContext,this.draw=r,this.size=s,this.rafId=0,this.gainNode=this.ac.createGain(),this.gainNode.gain.value=a,this.gainNode.connect(this.ac.destination),this.analyser=this.ac.createAnalyser(),this.analyser.fftSize=2*this.size,this.analyser.connect(this.gainNode)})),xr=(0,L.Z)((function(e){return(0,D.Z)({progress:{flex:1,marginLeft:"10px",marginRight:"10px",color:"#0E78D5"},itemTool:{cursor:"pointer",color:"#0E78D5"},tools:{width:"100%",display:"flex",justifyContent:"space-around"}})})),yr=function(e){var t=xr(),n=e.src,r=e.bars,s=e.barColor,a=e.height,o=e.width,i=e.volume,c=(0,l.useState)(),u=(0,Q.Z)(c,2),d=u[0],_=u[1],m=(0,l.useRef)(null),p=(0,l.useState)(0),h=(0,Q.Z)(p,2),f=h[0],g=h[1],v=(0,l.useReducer)((function(){return!0}),!1),b=(0,Q.Z)(v,2),x=b[0],y=b[1],j=(0,l.useState)(0),Z=(0,Q.Z)(j,2),C=Z[0],k=Z[1],w=(0,l.useState)(!1),S=(0,Q.Z)(w,2),A=S[0],N=S[1],B=(0,l.useRef)(null);(0,l.useEffect)((function(){if(x){var e,t=null===(e=m.current)||void 0===e?void 0:e.getContext("2d"),n=new br({size:r,draw:fr({ctx:t,height:a,width:o,bars:r,barColor:s}),volume:i});_(n)}}),[x]),(0,l.useEffect)((function(){return function(){d&&d.stop()}}),[d]);var P=function(){var e=B.current;e&&(N(!A),A?(g(e.currentTime),e.pause(),null===d||void 0===d||d.pause()):(e.play(),0===e.currentTime?null===d||void 0===d||d.play(n,e.currentTime):Math.abs(e.currentTime-f)<3e-4?null===d||void 0===d||d.resume():(null===d||void 0===d||d.resume(),null===d||void 0===d||d.play(n,e.currentTime))))};return(0,I.jsxs)("div",{children:[!x&&(0,I.jsx)("p",{children:"Loading..."}),x&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("canvas",{ref:m,width:o,height:a}),(0,I.jsxs)("div",{className:t.tools,children:[(0,I.jsx)(Mn.Z,{className:t.progress,value:C,onChange:function(e,t){var r=B.current;r&&(k(t),r.currentTime=r.duration*t*.01,A&&(null===d||void 0===d||d.play(n,r.currentTime)))},"aria-labelledby":"continuous-slider"}),A?(0,I.jsx)(pr.Z,{className:t.itemTool,onClick:P}):(0,I.jsx)(hr.Z,{className:t.itemTool,onClick:P})]})]}),(0,I.jsx)("audio",{id:"audio",muted:!0,src:n,onCanPlay:function(){var e=B.current;e&&(Number.isFinite(null===e||void 0===e?void 0:e.duration)?y():(e.currentTime=Number.MAX_SAFE_INTEGER,e.currentTime=0))},onTimeUpdate:function(){var e=B.current;e&&(Number.isFinite(null===e||void 0===e?void 0:e.duration)?k(e.currentTime/e.duration*100):(e.currentTime=Number.MAX_SAFE_INTEGER,e.currentTime=0),Number(null===e||void 0===e?void 0:e.currentTime)>=e.duration&&N(!1))},ref:B})]})},jr=n(73939),Zr=function(e){var t=e.userId,n=e.roomId,r=e.h5pId,s=e.h5pSubId,a=navigator.userAgent,o=a.indexOf("Safari")>-1&&a.indexOf("Chrome")<0&&a.indexOf("CriOS")<0,i=(0,jr.eg)({userId:t,roomId:n,h5pId:r,h5pSubId:s||void 0,mediaType:"audio",mimeType:"audio/webm"}),l=i.loading,c=i.error,u=i.src;return o?(0,I.jsx)("p",{children:(0,S.d)("Please use another browser (Chrome) for a better experience.").t("assessment_audio_suggest_browser")}):c?(0,I.jsx)("p",{children:(0,S.d)("Server request failed").t("general_error_unknown")}):l?(0,I.jsx)("p",{children:"Loading ..."}):u?(0,I.jsx)("div",{children:(0,I.jsx)(yr,{src:u,bars:32,barColor:["#6B9AF6","#61C2CD","#B499F7","#BDD2F7"],height:150,width:350,volume:.6})}):(0,I.jsx)("p",{children:(0,S.d)("Audio data is not successfully stored by student.").t("assessment_audio_no_data")})};function Cr(e){var t=e.userId,n=e.roomId,r=e.h5pId,s=e.h5pSubId,a=(0,jr.eg)({userId:t,roomId:n,h5pId:r,h5pSubId:s||void 0,mediaType:"image",mimeType:"image/jpeg"}),o=a.loading,i=a.error,l=a.src;return i?(0,I.jsx)("p",{children:(0,S.d)("Server request failed").t("general_error_unknown")}):o?(0,I.jsx)("p",{children:"Loading ..."}):l?(0,I.jsx)("div",{style:{width:"100%",height:"auto",marginTop:10},children:(0,I.jsx)("img",{style:{width:"100%",height:"auto"},src:l,alt:"screenshorts"})}):(0,I.jsx)("p",{children:(0,S.d)("Sorry, the screenshot is not available for this lesson material.").t("assessment_detail_screenshot_no_result")})}var kr=(0,L.Z)((function(e){return(0,D.Z)({closeBtn:{position:"absolute",top:e.spacing(1),right:e.spacing(1)},title:{borderBottom:"1px solid #eeeeee"},detailView:{padding:"12px",lineHeight:"30px",overflow:"auto",textAlign:"center",wordBreak:"break-all","&::-webkit-scrollbar":{width:"3px"},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0,0,0,0.3)"},"&::-webkit-scrollbar-thumb":{borderRadius:"3px",backgroundColor:"rgb(220, 220, 220)",boxShadow:"inset 0 0 3px rgba(0,0,0,0.5)"},"&::-webkit-scrollbar-thumb:window-inactive":{backgroundColor:"rgba(220,220,220,0.4)"}},screenShortsContent:{backgroundColor:"#E9F2FA"},screenShortsCon:{maxHeight:"750px",textAlign:"center"},imgCon:{maxHeight:"650px",minWidth:"400px",display:"flex",alignItems:"center",justifyContent:"center",margin:"20px 0"},okBtn:{marginLeft:"40px !important"},titleBar:{fontWeight:600,display:"flex",justifyContent:"space-between"}})})),wr=function(e){return["AudioRecorder","SpeakTheWordsSet","SpeakTheWords"].indexOf(e)>=0},Sr=function(e,t){return["Summary","SingleChoiceSet","ArithmeticQuiz","Flashcards","Dictation","Dialogcards"].indexOf(e)>=0?!!t:["AdvancedBlanks","DragQuestion","DragText","Blanks","ImageMultipleHotspotQuestion","ImageHotspotQuestion","FindTheWords","ImagePair","ImageSequencing","DictationSentence","DialogcardsCard","ArithmeticQuizPage"].indexOf(e)>=0};function Ar(e){var t=kr(),n=e.resourceType,s=e.open,a=e.answer,o=e.comment,i=e.studentId,l=e.h5pId,c=e.roomId,u=e.userId,d=e.h5pSubId,_=e.score,p=e.assignments,h=e.dialogType,f=e.contentSubType,x=e.onChangeComment,y=e.onClose,j=e.onChangeScore,A=e.onOpenDrawFeedback,N=n!==Me.editScore&&n!==Me.selectImg,B=n===Me.editComment||n===Me.editScore||n===Me.selectImg,P=n===Me.viewScreenshots,E=(0,w.cI)(),F=E.control,O=E.getValues;return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(g.Z,{open:s,fullWidth:!0,maxWidth:P?"md":"sm",children:[(0,I.jsxs)(v.Z,{className:n===Me.editScore?"":t.title,children:[(n===Me.essay||wr(n))&&(0,S.d)("Detailed Answer").t("assess_popup_detailed_answer"),n===Me.viewComment&&(0,S.d)("View Comments").t("assess_popup_view_comments"),n===Me.editComment&&(0,S.d)("Add Comments").t("assess_popup_add_comments"),n===Me.viewWritingFeedback&&(0,S.d)("View Writing Feedback").t("assessment_hfs_view_writing_feedback"),n===Me.selectImg&&(0,S.d)("Select a file to provide feedback").t("assessment_hfs_select_file"),P&&(0,S.d)("Results Screen").t("assessment_detail_screenshot_result_screen"),N&&(0,I.jsx)(gt.Z,{onClick:y,className:t.closeBtn,children:(0,I.jsx)(bt.Z,{})})]}),(0,I.jsxs)(b.Z,{className:P?t.screenShortsContent:"",children:[n===Me.essay&&(0,I.jsx)("div",{className:t.detailView,children:a||(0,S.d)("An answer has not been submitted by the student.").t("assessment_detail_essay_no_result")}),n===Me.viewComment&&(0,I.jsx)("div",{className:t.detailView,children:o}),n===Me.viewWritingFeedback&&(0,I.jsx)("div",{className:t.detailView,children:o||(0,S.d)("No feedback has been provided to this file.").t("assessment_hfs_no_teacher_feedback")}),wr(n)&&(0,I.jsx)("div",{className:t.detailView,children:(0,I.jsx)(r.e,{client:m.a8,children:(0,I.jsx)(Zr,{resourceType:n,userId:u,roomId:c,h5pId:l,h5pSubId:d,client:m.a8})})}),P&&(0,I.jsx)("div",{className:t.screenShortsCon,children:(0,I.jsx)(r.e,{client:m.a8,children:(0,I.jsx)(Cr,{resourceType:f,userId:u,roomId:c,h5pId:l,h5pSubId:d})})}),n===Me.editComment&&(0,I.jsx)("div",{className:t.detailView,children:(0,I.jsx)(w.Qr,{style:{width:"100%"},name:"comment",as:Z.Z,control:F,defaultValue:o,multiline:!0,minRows:8,maxRows:8,variant:"outlined",placeholder:(0,S.d)("Leave a message to your student!").t("assess_popup_leave_msg"),inputProps:{maxLength:500},InputProps:{startAdornment:(0,I.jsx)(vt.Z,{position:"start",children:(0,I.jsx)(mr.Z,{style:{fontSize:"15px",position:"absolute",top:"20px",left:"5px"}})})}})}),n===Me.editScore&&(0,I.jsx)(w.Qr,{name:"assess_score",control:F,defaultValue:_,render:function(e){var t=e.value,n=e.onChange;return(0,I.jsx)(Tr,{disabled:!1,optionNames:[(0,S.d)("Poor").t("assess_score_poor"),(0,S.d)("Fair").t("assess_score_fair"),(0,S.d)("Average").t("assess_score_average"),(0,S.d)("Good").t("assess_score_good"),(0,S.d)("Excellent").t("assess_score_excellent")],optionValues:[1,2,3,4,5],optionColors:["#d32f2f","#DC6F17","#FFC107","#A1CC41","#4CAF50"],optionIcons:[or.Z,or.Z,ir.Z,lr.Z,cr.Z],value:t,onChange:function(e){return n(Number(e.target.value))}})}},"assess_score:".concat(_)),n===Me.selectImg&&(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(w.Qr,{name:"assignments",control:F,defaultValue:p?p[0].attachment_id:"",render:function(e){var t=e.value,n=e.onChange;return(0,I.jsx)(Rr,{assignments:p,value:t,onChange:function(e){return n(e.target.value)}})}})})]}),B&&(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(k.Z,{autoFocus:!0,onClick:y,color:"primary",variant:"outlined",children:(0,S.d)("CANCEL").t("general_button_CANCEL")}),(0,I.jsx)(k.Z,{onClick:function(){if(y(),n===Me.editComment){var e=O().comment;x&&x(i,e)}if(n===Me.editScore){var t=O().assess_score;j&&j(i,t)}if(n===Me.selectImg){var r=O().assignments,s=null===p||void 0===p?void 0:p.find((function(e){return e.attachment_id===r}));A&&A(h,i,s)}},color:"primary",variant:"contained",className:t.okBtn,children:(0,S.d)("OK").t("general_button_OK")})]})]})})}function Nr(){var e=(0,l.useState)(!1),t=(0,Q.Z)(e,2),n=t[0],r=t[1],s=(0,l.useState)(0),a=(0,Q.Z)(s,2),o=a[0],i=a[1];return(0,l.useMemo)((function(){return{resourceViewShowIndex:o,resourceViewActive:n,openResourceView:function(){i(o+1),r(!0)},closeResourceView:function(){return r(!1)}}}),[n,o])}function Br(e){var t=kr(),n=e.open,r=e.attachment,s=e.studentId,a=e.dialogType,o=e.onClose,i=e.onOpenSelectImage,c=e.onSaveDrawFeedback,u=e.onClickExit,d=(0,l.useRef)(null),_=(0,l.useState)(!1),m=(0,Q.Z)(_,2),p=m[0],h=m[1],f=(0,l.useState)(!1),x=(0,Q.Z)(f,2),y=x[0],j=x[1],Z=null!==r&&void 0!==r&&r.review_attachment_id?r.review_attachment_id:null===r||void 0===r?void 0:r.attachment_id,C=null===r||void 0===r?void 0:r.attachment_id,w=(0,l.useState)(),A=(0,Q.Z)(w,2),N=A[0],B=A[1],P=(0,l.useState)(),E=(0,Q.Z)(P,2),F=E[0],O=E[1],T=(0,Ie.Z)().breakpoints;(0,Pe.Z)(T.down(900));return(0,l.useEffect)((function(){(0,X.Z)($().mark((function e(){var t,n;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Z){e.next=5;break}return e.next=3,(0,ee.SY)(Z);case 3:t=e.sent,B(t);case 5:if(!C){e.next=10;break}return e.next=8,(0,ee.SY)(C);case 8:n=e.sent,O(n);case 10:case"end":return e.stop()}}),e)})))()}),[Z,C]),(0,I.jsxs)(g.Z,{open:n,fullWidth:!0,maxWidth:"edit"===a||null!==r&&void 0!==r&&r.review_attachment_id?"lg":"sm",children:[(0,I.jsx)(v.Z,{children:(0,I.jsxs)("div",{className:t.titleBar,children:[(0,I.jsx)("span",{children:null===r||void 0===r?void 0:r.attachment_name}),"edit"===a?(0,I.jsxs)("div",{children:[(0,I.jsx)(k.Z,{startIcon:(0,I.jsx)(ur.Z,{}),onClick:function(){i&&i(s,!y&&p)},children:(0,S.d)("Select Image").t("assessmeng_hfs_select_image")}),(0,I.jsx)(k.Z,{disabled:!!y||!p,startIcon:(0,I.jsx)(dr.Z,{}),onClick:function(){j(!0);var e=d.current.dataURLtoObject(null===r||void 0===r?void 0:r.attachment_name,"obj");c&&c(s,e)},children:(0,S.d)("Done").t("assessment_hfs_drawing_feedback_done")}),(0,I.jsx)(k.Z,{startIcon:(0,I.jsx)(_r.Z,{}),onClick:function(){u&&u(!y&&p)},children:(0,S.d)("Exit").t("assessment_hfs_drawing_feedback_exit")})]}):(0,I.jsx)(gt.Z,{onClick:o,className:t.closeBtn,children:(0,I.jsx)(bt.Z,{})})]})}),(0,I.jsx)(b.Z,{children:"edit"===a?(0,I.jsx)(ar,{ref:d,width:1e3,height:650,pictureUrl:N,pictureInitUrl:F,onChange:function(e){var t=e.isTraces;j(!1),h(t)}}):(0,I.jsx)("div",{className:t.imgCon,children:null!==r&&void 0!==r&&r.review_attachment_id?(0,I.jsx)(Dn,{src:N}):(0,S.d)("No feedback has been provided to this file.").t("assessment_hfs_no_teacher_feedback")})})]})}var Ir=(0,L.Z)({tableBar:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",cursor:"pointer",backgroundColor:"#F2F5F7",height:48,boxSizing:"content-box","& div":{display:"flex",justifyContent:"space-between",alignItems:"center","& a":{fontSize:"14px",color:"#006CCF"}},marginBottom:20},tableContainer:{marginTop:5,maxHeight:830,marginBottom:20},table:{minWidth:900,fontSize:"14px !important"},tableCellLine:{wordBreak:"break-all","&:not(:last-child)":{}},assignmentTableContainer:{paddingBottom:40},assignmentTable:{},assignmentTableHeader:{backgroundColor:"#f2f5f7"},assignmentTableHeaderItem:{height:48,color:"#666666",fontSize:15,fontFamily:"Helvetica, Helvetica-Bold",fontWeight:700},assignmentTableBodyItem:{borderRight:"1px solid rgba(224, 224, 224, 1)","&:last-child":{borderRight:"none"}},assignmentDownloadRow:{padding:"11px 24px 10px 20px",display:"flex",justifyContent:"space-between",fontSize:16,fontFamily:"Helvetica",alignItems:"center"},scoreInput:{marginTop:30,marginBottom:30,width:"100%",display:"flex",justifyContent:"space-around"},scoreInputLabel:{display:"flex",flexDirection:"column",alignItems:"center"},scoreInputTitle:{marginTop:6,fontSize:18},scoreIcon:{fontSize:30},scoreInputFormControlLabel:{},comment:{marginTop:32,marginBottom:120,borderRadius:7},commentInput:{minHeight:200},actionWords:{color:"#006CCF",cursor:"pointer"},disableClick:{color:"#999aaa",pointerEvents:"none",cursor:"default"},title:{height:56,lineHeight:"56px",width:"100%",background:"#F3F3F3",textAlign:"center",borderBottom:"1px solid #CCCCCC"},imgSelect:{marginTop:30,marginBottom:30,width:"100%",display:"flex"},imgLable:{display:"flex",alignItems:"center",wordBreak:"break-all"},svgicon:{marginRight:"5px"},imgName:{wordBreak:"break-all"},nameCon:{display:"flex",alignItems:"center"}});function Pr(e){var t=Ir(),n=(0,u.I0)(),r=e.editable,s=e.students,a=e.subDimension,o=e.onChangeHomefunStudent,i=e.onSaveDrawFeedback,c=Nr(),d=c.resourceViewActive,_=c.resourceViewShowIndex,m=c.openResourceView,p=c.closeResourceView,h=function(){var e=(0,l.useState)(!1),t=(0,Q.Z)(e,2),n=t[0],r=t[1],s=(0,l.useState)(0),a=(0,Q.Z)(s,2),o=a[0],i=a[1];return(0,l.useMemo)((function(){return{drawingFeedbackIndex:o,drawingFeedbackActive:n,openDrawingFeedback:function(){i(o+1),r(!0)},closeDrawingFeedback:function(){return r(!1)}}}),[n,o])}(),g=h.drawingFeedbackActive,v=h.drawingFeedbackIndex,b=h.openDrawingFeedback,x=h.closeDrawingFeedback,y=(0,l.useState)(),j=(0,Q.Z)(y,2),Z=j[0],C=j[1],k=(0,l.useState)(),w=(0,Q.Z)(k,2),N=w[0],B=w[1],P=(0,l.useState)(),E=(0,Q.Z)(P,2),F=E[0],O=E[1],T=(0,l.useState)(Me.selectImg),L=(0,Q.Z)(T,2),D=L[0],R=L[1],M=(0,l.useState)(),W=(0,Q.Z)(M,2),z=W[0],q=W[1],U=(0,l.useState)(),V=(0,Q.Z)(U,2),G=V[0],H=V[1],K=(0,l.useState)(!0),Y=(0,Q.Z)(K,2),J=Y[0],ee=Y[1],te=(0,l.useState)("edit"),ne=(0,Q.Z)(te,2),se=ne[0],ae=ne[1],oe=(0,l.useMemo)((function(){return a.length?a.map((function(e){return e.id})):[]}),[a]),ie=(0,l.useMemo)((function(){return a.map((function(e){return!0}))||[]}),[a]),le=(0,l.useState)(ie),ce=(0,Q.Z)(le,2),ue=ce[0],de=ce[1],_e=a.findIndex((function(e){return"all"===e.id}))>=0,me=function(e,t){m(),R(Me.editScore),C(e),B(t)},pe=function(e,t){m(),R(Me.editComment),C(e),O(t)},he=function(e,t){m(),R(Me.viewWritingFeedback),C(e),O(t)},fe=function(e,t,n){var r=(0,Ae.cloneDeep)(s);null===r||void 0===r||r.forEach((function(r){var s,a;r.student_id===n&&(r.results&&(null===(s=r.results[0])||void 0===s||null===(a=s.outcomes)||void 0===a||a.forEach((function(n){n.outcome_id===t&&(n.status=e)}))))})),o(r)},ge=function(e,t,n){m(),R(Me.selectImg),C(t),q(n),ae(e)},ve=function(){var e=(0,X.Z)($().mark((function e(t,r){var a,o,i,l,c,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=10;break}return a=(0,S.d)("Discard unsaved changes?").t("assess_msg_discard"),e.t0=Se.SI,e.next=5,n((0,A.xC)({content:a,cancelText:(0,S.d)("Cancel").t("assess_button_cancel"),confirmText:(0,S.d)("Discard").t("assess_button_discard")}));case 5:if(e.t1=e.sent,o=(0,e.t0)(e.t1),o.isConfirmed){e.next=10;break}return e.abrupt("return",Promise.reject());case 10:x(),m(),R(Me.selectImg),C(t),i=null===s||void 0===s?void 0:s.find((function(e){return e.student_id===t})),(l=i&&i.results)&&l.length&&(c=l[0].student_feed_backs)&&c.length&&(u=c[0].assignments,q(u));case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),be=function(){var e=(0,X.Z)($().mark((function e(t){var r,a,o,i,l,c;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return r=(0,S.d)("Discard unsaved changes?").t("assess_msg_discard"),e.t0=Se.SI,e.next=5,n((0,A.xC)({content:r,cancelText:(0,S.d)("Cancel").t("assess_button_cancel"),confirmText:(0,S.d)("Discard").t("assess_button_discard")}));case 5:if(e.t1=e.sent,a=(0,e.t0)(e.t1),a.isConfirmed){e.next=10;break}return e.abrupt("return",Promise.reject());case 10:x(),o=null===s||void 0===s?void 0:s.find((function(e){return e.student_id===Z})),(i=o&&o.results)&&i.length&&(l=i[0].student_feed_backs)&&l.length&&(c=l[0].assignments,ge("edit",Z,c));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,I.jsxs)(I.Fragment,{children:[null===s||void 0===s?void 0:s.filter((function(e){return e.status===Le.Participate})).map((function(e,n){var s,a,o,i,l,c,u;return(!!_e||oe.indexOf(e.student_id)>=0)&&(0,I.jsxs)(an.Z,{style:{marginBottom:"20px"},children:[(0,I.jsxs)(re.Z,{className:t.tableBar,onClick:function(e){return function(e){var t=(0,Ae.cloneDeep)(ue);void 0===t[e]?t[e]=!1:t[e]=!ue[e],de((0,f.Z)(t))}(n)},children:[(0,I.jsxs)("div",{children:[e.results&&e.results.length&&e.results[0].student_feed_backs&&e.results[0].student_feed_backs.length?(0,I.jsx)(on.Z,{component:Fn}):(0,I.jsx)(on.Z,{component:Nn}),(0,I.jsx)("span",{style:{padding:"0 18px 0 18px"},children:e.student_name})]}),void 0===ue[n]||ue[n]?(0,I.jsx)(gn.Z,{}):(0,I.jsx)(fn.Z,{})]}),(0,I.jsxs)(ln.Z,{in:void 0===ue[n]||ue[n],children:[(0,I.jsx)(Er,{editable:r,outcomes:e.results&&(null===(s=e.results[0])||void 0===s?void 0:s.outcomes),studentId:e.student_id,onUpdateOutcomeStatus:fe}),(0,I.jsx)(Fr,{editable:r,title:"",feedbacks:e.results&&(null===e||void 0===e||null===(a=e.results[0])||void 0===a||null===(o=a.student_feed_backs)||void 0===o?void 0:o.slice(0,1)),studentName:e.student_name,studentReviewerComment:e.reviewer_comment,assess_score:e.results&&(null===e||void 0===e||null===(i=e.results[0])||void 0===i?void 0:i.assess_score),studentId:e.student_id,onOpenEditScore:me,onOpenWritingFeedback:pe,onOpenSelectImg:ge,onOpenViewWritingFeedback:he}),(0,I.jsx)(Fr,{editable:r,title:(0,S.d)("Submission History").t("assess_submission_history"),feedbacks:e.results&&(null===(l=e.results[0])||void 0===l?void 0:l.student_feed_backs)&&(null===(c=e.results[0])||void 0===c?void 0:c.student_feed_backs.slice(1)),studentName:e.student_name,assess_score:e.results&&(null===(u=e.results[0])||void 0===u?void 0:u.assess_score)})]})]},e.student_id)})),(0,I.jsx)(Ar,{open:d,resourceType:D,studentId:Z,score:N,comment:F,assignments:z,hasSaved:J,dialogType:se,onChangeScore:function(e,t){var n=(0,Ae.cloneDeep)(s);null===n||void 0===n||n.forEach((function(n){n.student_id===e&&n.results&&(n.results[0].assess_score=t)})),o(n)},onClose:p,onChangeComment:function(e,t){var n=(0,Ae.cloneDeep)(s);null===n||void 0===n||n.forEach((function(n){n.student_id===e&&(n.reviewer_comment=t)})),o(n)},onOpenDrawFeedback:function(e,t,n){b(),C(t),H(n),ae(e)}},D+_),(0,I.jsx)(Br,{open:g,studentId:Z,attachment:G,dialogType:se,onClose:x,onOpenSelectImage:ve,onSaveDrawFeedback:function(e,t){ee(!0),i(e,null===G||void 0===G?void 0:G.id,t)},onClickExit:be},v)]})}function Er(e){var t=Ir(),n=e.editable,r=e.outcomes,s=e.studentId,a=e.onUpdateOutcomeStatus,o=[{align:"center",style:{backgroundColor:"#F3F3F3"},width:250,value:"name",text:(0,S.d)("Learning Outcomes").t("library_label_learning_outcomes")},{align:"center",style:{backgroundColor:"#F3F3F3"},width:100,value:"assumed",text:(0,S.d)("Assumed").t("assess_label_assumed")},{align:"center",style:{backgroundColor:"#F3F3F3"},value:"actions",text:(0,S.d)("Assessing Actions").t("assess_option_assessing_actions")}],i=null===r||void 0===r?void 0:r.map((function(e){return(0,I.jsxs)(Xt.Z,{children:[(0,I.jsx)(Kt.Z,{align:"center",children:e.outcome_name}),(0,I.jsx)(Kt.Z,{align:"center",children:e.assumed?(0,S.d)("Yes").t("assess_label_yes"):""}),(0,I.jsx)(Kt.Z,{align:"center",children:(0,I.jsx)(cn.Z,{component:"fieldset",children:(0,I.jsxs)(un.Z,{"aria-label":"position",row:!0,children:[(0,I.jsx)(y.Z,{value:"end",control:(0,I.jsx)(j.Z,{onChange:function(t){a(t.target.value,e.outcome_id,s)},value:De.Achieved,checked:e.status===De.Achieved,color:"primary",disabled:!n}),label:(0,S.d)("Achieved").t("report_label_achieved")}),(0,I.jsx)(y.Z,{value:"end",control:(0,I.jsx)(j.Z,{onChange:function(t){a(t.target.value,e.outcome_id,s)},value:De.NotAchieved,checked:e.status===De.NotAchieved,color:"primary",disabled:!n}),label:(0,S.d)("Not Achieved").t("report_label_not_achieved")}),(0,I.jsx)(y.Z,{value:"end",control:(0,I.jsx)(j.Z,{onChange:function(t){a(t.target.value,e.outcome_id,s)},value:De.NotCovered,checked:e.status===De.NotCovered,color:"primary",disabled:!n}),label:(0,S.d)("Not Covered").t("assess_option_not_attempted")})]})})})]},e.outcome_id)}));return(0,I.jsx)(an.Z,{className:t.tableContainer,children:(0,I.jsxs)(dn.Z,{className:t.table,stickyHeader:!0,children:[(0,I.jsx)($t,{fields:o,style:{height:40}}),(0,I.jsx)(_n.Z,{children:i})]})})}function Fr(e){var t=e.editable,n=e.feedbacks,r=e.title,s=e.studentName,a=e.assess_score,o=e.studentId,i=e.studentReviewerComment,l=e.onOpenEditScore,c=e.onOpenWritingFeedback,u=e.onOpenSelectImg,d=e.onOpenViewWritingFeedback,_=Ir(),m=[{align:"center",style:{backgroundColor:"#F3F3F3"},width:"30%",value:"name",text:(0,S.d)("Assignment Uploaded").t("assess_assignment_uploaded")},{align:"center",style:{backgroundColor:"#F3F3F3"},width:"20%",value:"comment",text:(0,S.d)("Comment").t("assess_comment")},{align:"center",style:{backgroundColor:"#F3F3F3"},width:"15%",value:"submittime",text:(0,S.d)("Submit Time").t("assess_column_submit_time")},{align:"center",style:{backgroundColor:"#F3F3F3"},width:"20%",value:"assessment",text:(0,S.d)("Assessment").t("assessment_hfs_student_assessment")},{align:"center",style:{backgroundColor:"#F3F3F3"},width:"15%",value:"feedback",text:(0,S.d)("Feedback").t("assessment_hfs_student_feedback")}],p=null===n||void 0===n?void 0:n.map((function(e){var n,m=e.id,p=e.comment,h=e.create_at,f=e.assignments;return(0,I.jsxs)(Xt.Z,{children:[(0,I.jsx)(Kt.Z,{align:"center",className:_.assignmentTableBodyItem,children:null===f||void 0===f?void 0:f.map((function(e){return(0,I.jsx)(Or,{downloadName:"HFS_".concat(s,"_").concat(e.attachment_name),name:e.attachment_name,resourceId:e.attachment_id,reviewId:e.review_attachment_id},e.attachment_id)}))}),(0,I.jsx)(Kt.Z,{align:"center",className:(0,Je.default)(_.assignmentTableBodyItem,_.tableCellLine),children:p}),(0,I.jsx)(Kt.Z,{align:"center",className:_.assignmentTableBodyItem,children:_t(h)}),!r&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(Kt.Z,{align:"center",className:_.assignmentTableBodyItem,children:[(n=a,n?1===n?"1-".concat((0,S.d)("Poor").t("assess_score_poor")):2===n?"2-".concat((0,S.d)("Fair").t("assess_score_fair")):3===n?"3-".concat((0,S.d)("Average").t("assess_score_average")):4===n?"4-".concat((0,S.d)("Good").t("assess_score_good")):5===n?"5-".concat((0,S.d)("Excellent").t("assess_score_excellent")):void 0:""),(0,I.jsxs)("span",{className:t?_.actionWords:_.disableClick,onClick:function(e){return l&&l(o,a)},children:["(",(0,S.d)("Click to Edit").t("assessment_hfs_score_edit"),")"]})]}),(0,I.jsxs)(Kt.Z,{align:"center",className:_.assignmentTableBodyItem,children:[t?(0,I.jsx)("p",{className:_.actionWords,onClick:function(e){return c&&c(o,i)},children:(0,S.d)("Writing Feedback").t("assessment_hfs_writing_feedback")}):(0,I.jsx)("p",{className:_.actionWords,onClick:function(e){return d&&d(o,i)},children:(0,S.d)("View Writing Feedback").t("assessment_hfs_view_writing_feedback")}),t?Dr(f)&&(0,I.jsx)("p",{className:_.actionWords,onClick:function(e){return u&&u("edit",o,f)},children:(0,S.d)("Drawing Feedback").t("assessment_hfs_drawing_feedback")}):Dr(f)&&(0,I.jsx)("p",{className:_.actionWords,onClick:function(e){return u&&u("view",o,f)},children:(0,S.d)("View Drawing Feedback").t("assessment_hfs_view_drawing_feedback")})]})]})]},m)}));return(0,I.jsxs)("div",{className:_.assignmentTableContainer,children:[r&&(0,I.jsx)(se.Z,{className:_.title,children:r}),(0,I.jsxs)(dn.Z,{className:_.assignmentTable,children:[(0,I.jsx)($t,{fields:r?m.slice(0,3):m,style:{height:40}}),(0,I.jsx)(_n.Z,{children:p})]})]})}function Or(e){var t=e.name,n=e.downloadName,r=e.resourceId,s=e.reviewId,a=Ir();return(0,I.jsxs)("div",{className:a.assignmentDownloadRow,children:[(0,I.jsxs)("div",{className:a.nameCon,children:[s&&(0,I.jsx)(on.Z,{className:a.svgicon,component:Zn}),(0,I.jsx)("span",{className:a.imgName,children:t})]}),(0,I.jsx)(Vt,{resourceId:r,fileName:n,children:(0,I.jsx)(gt.Z,{size:"small",children:(0,I.jsx)(hn.Z,{fontSize:"inherit"})})})]})}function Tr(e){var t=Ir(),n=e.optionColors,r=e.optionNames,s=e.optionIcons,a=e.optionValues,o=e.value,i=e.onChange,c=e.disabled,u=r.map((function(e,o){return(0,I.jsx)(y.Z,{className:t.scoreInputFormControlLabel,value:a[o],label:(0,I.jsxs)("div",{className:t.scoreInputLabel,children:[(0,l.createElement)(s[o],{className:t.scoreIcon,style:{color:n[o]}}),(0,I.jsx)("div",{className:t.scoreInputTitle,children:r[o]})]}),labelPlacement:"top",control:(0,I.jsx)(mn.Z,{color:"primary",disabled:c})},a[o])}));return(0,I.jsx)(cn.Z,{component:"fieldset",className:t.scoreInput,children:(0,I.jsx)(pn.Z,{row:!0,value:o,onChange:i,children:u})})}function Lr(e){if(!e)return!1;var t=e.lastIndexOf("."),n=e.substr(t+1);return["jpg","jpeg","png","gif","bmp"].indexOf(n.toLowerCase())>-1}function Dr(e){return!!e&&e.some((function(e){return Lr(e.attachment_name)}))}function Rr(e){var t=Ir(),n=e.assignments,r=e.value,s=e.onChange,a=null===n||void 0===n?void 0:n.filter((function(e){return Lr(e.attachment_name)})).map((function(e){return(0,I.jsx)(y.Z,{value:e.attachment_id,label:(0,I.jsxs)("div",{className:t.imgLable,children:[e.review_attachment_id&&(0,I.jsx)(on.Z,{className:t.svgicon,component:Zn}),e.attachment_name]}),labelPlacement:"end",control:(0,I.jsx)(mn.Z,{color:"primary"})},e.attachment_id)}));return(0,I.jsx)(cn.Z,{component:"fieldset",className:t.imgSelect,children:(0,I.jsx)(pn.Z,{value:r,onChange:s,children:a})})}var Mr=n(42953),Wr=n(17937),zr=(0,L.Z)({tooltip:{fontSize:14,display:"flex",flexDirection:"column","& .assessment-MuiFormControlLabel-root":{marginRight:0,"& .assessment-MuiCheckbox-root":{padding:"5px 9px"}},"& .assessment-MuiTypography-root":{fontSize:14}},partially_checked:{width:15,height:15,margin:2.4,borderRadius:3,backgroundColor:"#0E78D5",boxShadow:"0 0 2px #0E78D5"}}),Qr=(0,Mr.Z)((function(e){return{tooltip:{backgroundColor:e.palette.common.white,color:"rgba(0, 0, 0, 0.87)",boxShadow:e.shadows[1],fontSize:11,margin:"10px 0",padding:"6px 18px"}}}))(Wn.ZP);function qr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{showPartially:!1},t=e.showPartially,n=zr();return(0,I.jsx)(Qr,{placement:"top",title:(0,I.jsxs)("div",{className:n.tooltip,children:[(0,I.jsx)(y.Z,{label:(0,S.d)("All Achieved").t("assess_option_all_achieved"),control:(0,I.jsx)(j.Z,{name:"checked",color:"primary",size:"small",readOnly:!0,checked:!0})}),t&&(0,I.jsx)(y.Z,{label:(0,S.d)("Partially Achieved").t("assessment_partially_achieved"),control:(0,I.jsx)(j.Z,{name:"checkedP",color:"primary",size:"small",indeterminateIcon:(0,I.jsx)("div",{className:n.partially_checked}),readOnly:!0,indeterminate:!0,defaultChecked:!0})}),(0,I.jsx)(y.Z,{label:(0,S.d)("Not Achieved").t("report_label_not_achieved"),control:(0,I.jsx)(j.Z,{name:"unchecked",color:"primary",size:"small",readOnly:!0})})]}),children:(0,I.jsx)(Wr.Z,{style:{marginLeft:"10px",color:"gray",cursor:"pointer"}})})}var Ur=(0,L.Z)({scoreEditBox:{display:"flex",justifyContent:"center",alignItems:"center"}});function Vr(e){var t=e.fileType,n=e.score,r=e.onChangeScore,s=e.editable,a=e.maxScore,o=e.attempted,i=e.studentId,l=e.contentId,c=e.subType,d=(0,u.I0)(),_=Ur(),m=t===Re.Unknown||t===Re.NotChildContainer||t===Re.NotSupportScoreStandAlone;return(0,I.jsx)("div",{className:_.scoreEditBox,children:m?(0,S.d)("Not Applicable").t("assessment_not_applicable"):o?t===Re.HasChildContainer?(0,S.d)("Attempted").t("assessment_activity_attempted"):s&&function(e){return["Essay","AudioRecorder","SpeakTheWordsSet","SpeakTheWords"].includes(null!==e&&void 0!==e?e:"")}(c)?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Z.Z,{style:{width:"59px",transform:"scale(0.8)"},value:n,size:"small",onChange:function(e){var t=e.target.value.replace(/^(.*\..{1}).*$/,"$1");t>a?d((0,V.WQ)((0,S.d)("The score you entered cannot exceed the maximum score.").t("assess_msg_exceed_maximum"))):Number(t)+""!=="NaN"&&r(t,i,l)}}),"/",a]}):0===a?(0,S.d)("Attempted").t("assessment_activity_attempted"):"".concat(n," / ").concat(a):(0,S.d)("Not Attempted").t("assess_detail_not_attempted")})}var Gr=(0,L.Z)({tableBar:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",cursor:"pointer",backgroundColor:"#F2F5F7",height:48,marginTop:20,"& div":{display:"flex",justifyContent:"space-between",alignItems:"center","& a":{fontSize:"14px",color:"#006CCF"}}},table:{minWidth:650,marginTop:20},assessActionline:{borderLeft:"1px solid #ebebeb"},disabled:{"& $partially_checked":{backgroundColor:"#ababab",boxShadow:"0 0 2px #ababab"}},tableCell:{wordBreak:"break-all"}});function Hr(e){var t=Gr(),n=[{align:"center",width:150,value:"Learning_Outcomes",text:(0,S.d)("Learning Outcomes").t("library_label_learning_outcomes")},{align:"center",width:120,value:"Assumed",text:(0,S.d)("Assumed").t("assess_label_assumed")},{align:"center",value:"Assessing_Actions",text:(0,I.jsxs)("div",{className:"flex_align_center flex_justify_center",children:[(0,I.jsx)("span",{children:(0,S.d)("Assessing Actions").t("assess_option_assessing_actions")}),(0,I.jsx)(qr,{})]})}],r=[{align:"center",width:"25%",value:"Learning_Outcomes",text:(0,S.d)("Student Name").t("assessment_student_name")},{align:"center",width:"25%",value:"Answer",text:(0,S.d)("Answer").t("assess_detail_answer")},{align:"center",width:"25%",value:"Results",text:(0,S.d)("Results").t("assessment_detail_screenshot_results")},{align:"center",width:"25%",value:"Score_FullMarks",text:(0,S.d)("Score / Full Marks").t("assess_detail_score_full_marks")},{align:"center",width:"25%",value:"Percentage",text:(0,S.d)("Percentage").t("assess_detail_percentage")}],s=(0,l.useState)(Me.essay),a=(0,Q.Z)(s,2),o=a[0],i=a[1],c=(0,l.useState)(""),u=(0,Q.Z)(c,2),d=u[0],_=u[1],m=(0,l.useState)(""),h=(0,Q.Z)(m,2),g=h[0],v=h[1],b=(0,l.useState)(""),x=(0,Q.Z)(b,2),Z=x[0],C=x[1],k=(0,l.useState)(""),w=(0,Q.Z)(k,2),A=w[0],N=w[1],B=(0,l.useState)(""),P=(0,Q.Z)(B,2),E=P[0],F=P[1],O=(0,l.useState)(""),T=(0,Q.Z)(O,2),L=T[0],D=T[1],R=Nr(),M=R.resourceViewActive,W=R.openResourceView,z=R.closeResourceView,q=e.studentViewItems,U=e.students,V=e.editable,G=e.subDimension,H=e.roomId,K=e.onChangeMaterialAllAchieved,Y=e.onChangeMaterialNoneAchieved,X=e.onChangeMatarialStudentStatus,J=e.onChangeComputedStudentViewItems,$=(0,l.useMemo)((function(){return G.map((function(e){return e.id}))}),[G]),ee=G.findIndex((function(e){return"all"===e.id}))>=0,te=(0,l.useMemo)((function(){return null===U||void 0===U?void 0:U.filter((function(e){return"Participate"===e.status}))}),[U]),ne=(0,l.useMemo)((function(){return Ge(q)}),[q]),se=(0,l.useState)(ne.map((function(e){return!0}))),ae=(0,Q.Z)(se,2),oe=ae[0],ie=ae[1],le=function(e,t,n){var r=null===q||void 0===q?void 0:q.map((function(r){var s;return r.student_id===t?(0,p.Z)((0,p.Z)({},r),{},{results:null===(s=r.results)||void 0===s?void 0:s.map((function(t){return t.content_id===n?(0,p.Z)((0,p.Z)({},t),{},{score:e}):(0,p.Z)({},t)}))}):(0,p.Z)({},r)}));J(r)};return(0,I.jsxs)(I.Fragment,{children:[ne&&ne.map((function(e,s){var a,o;return(!!ee||($.indexOf(e.content_id)>=0||$.indexOf(e.parent_id)>=0))&&"Covered"===e.status&&(0,I.jsx)(l.Fragment,{children:(0,I.jsxs)(an.Z,{style:{marginBottom:"20px"},children:[(0,I.jsxs)(re.Z,{className:t.tableBar,onClick:function(e){return function(e){var t=(0,Ae.cloneDeep)(oe);t[e]=!oe[e],ie((0,f.Z)(t))}(s)},children:[(0,I.jsxs)("div",{style:{color:oe[s]?"black":"#666666"},children:[(0,I.jsx)("span",{children:"".concat(e.number,".").concat(e.content_name)}),(0,I.jsx)("span",{style:{padding:"0 18px 0 18px",color:"gray"},children:e.content_subtype?"(".concat(e.content_subtype,")"):""})]}),oe[s]?(0,I.jsx)(gn.Z,{}):(0,I.jsx)(fn.Z,{})]}),(0,I.jsx)(ln.Z,{in:oe[s],children:(0,I.jsxs)(I.Fragment,{children:[e.outcomes&&e.outcomes.length?!e.parent_id&&(0,I.jsxs)(dn.Z,{className:t.table,children:[(0,I.jsx)($t,{fields:n,style:{backgroundColor:"#F7F7F2",height:35}}),(0,I.jsx)(_n.Z,{children:e.outcomes.map((function(n){var r;return(0,I.jsxs)(Xt.Z,{children:[(0,I.jsx)(Kt.Z,{align:"center",className:t.tableCell,children:n.outcome_name}),(0,I.jsx)(Kt.Z,{align:"center",children:n.assumed?(0,S.d)("Yes").t("assess_label_yes"):""}),(0,I.jsx)(Kt.Z,{align:"center",children:(0,I.jsxs)(re.Z,{display:"flex",alignItems:"center",p:2,pb:0,children:[(0,I.jsxs)(re.Z,{width:180,fontSize:14,style:{flex:"none",textAlign:"left"},children:[(0,I.jsx)(y.Z,{control:(0,I.jsx)(j.Z,{checked:n.status!==De.NotCovered&&(n.attendance_ids&&(null===(r=n.attendance_ids)||void 0===r?void 0:r.length)===(null===te||void 0===te?void 0:te.length)),onChange:function(t){return r=t,s=e.content_id,a=n.outcome_id,void K(r.target.checked,s,a);var r,s,a},name:"award",color:"primary"}),label:(0,S.d)("All Achieved").t("assess_option_all_achieved"),disabled:!!e.parent_id||!V}),(0,I.jsx)(y.Z,{control:(0,I.jsx)(j.Z,{checked:n.status===De.NotAchieved,color:"primary",onChange:function(t){return r=t,s=e.content_id,a=n.outcome_id,void Y(r.target.checked,s,a);var r,s,a}}),label:(0,S.d)("None Achieved").t("assess_option_none_achieved"),disabled:!!e.parent_id||!V})]}),(0,I.jsx)(re.Z,{px:3,className:t.assessActionline,children:null===te||void 0===te?void 0:te.map((function(r){var s;return(0,I.jsx)(y.Z,{control:(0,I.jsx)(j.Z,{onChange:function(t){return s=t,a=r.student_id,o=e.content_id,i=n.outcome_id,void X(s.target.checked,a,o,i);var s,a,o,i},color:"primary",checked:n.attendance_ids&&(null===(s=n.attendance_ids)||void 0===s?void 0:s.indexOf(r.student_id))>=0}),label:r.student_name,disabled:!!e.parent_id||!V,className:V?"":t.disabled},r.student_id)}))})]})})]},n.outcome_id)}))})]}):"",(0,I.jsx)("div",{style:{marginTop:24},children:(0,I.jsxs)(dn.Z,{className:t.table,children:[(0,I.jsx)($t,{fields:r,style:{backgroundColor:"#F7F2F3",height:35}}),(0,I.jsx)(_n.Z,{children:null===(a=e.students)||void 0===a||null===(o=a.filter((function(e){return e.status===Le.Participate})))||void 0===o?void 0:o.map((function(t){return(0,I.jsxs)(Xt.Z,{children:[(0,I.jsx)(Kt.Z,{align:"center",children:t.student_name?t.student_name:"unknow"}),(0,I.jsxs)(Kt.Z,{align:"center",children:[t.attempted&&"Essay"===e.content_subtype&&(0,I.jsx)("span",{style:{color:"#006CCF",cursor:"pointer"},onClick:function(e){var n;return function(e){W(),i(Me.essay),v(e)}(null!==(n=t.answer)&&void 0!==n?n:"")},children:(0,S.d)("Click to View").t("assess_detail_click_to_view")}),e.file_type!==Re.HasChildContainer&&t.attempted&&wr(e.content_subtype)&&(0,I.jsx)("span",{style:{color:"#006CCF",cursor:"pointer"},onClick:function(n){return function(e,t,n,r,s){W(),i(s),C(e),N(t),F(r),D(n)}(H,e.h5p_id,e.h5p_sub_id,t.student_id,e.content_subtype)},children:(0,S.d)("Click to View").t("assess_detail_click_to_view")})]}),(0,I.jsx)(Kt.Z,{align:"center",children:e.file_type!==Re.HasChildContainer&&t.attempted&&Sr(e.content_subtype)&&(0,I.jsx)("span",{style:{color:"#006CCF",cursor:"pointer"},onClick:function(n){return function(e,t,n,r,s){W(),i(Me.viewScreenshots),_(s),C(e),N(t),F(r),D(n)}(H,e.h5p_id,e.h5p_sub_id,t.student_id,e.content_subtype)},children:(0,S.d)("Click to View").t("assess_detail_click_to_view")})}),(0,I.jsx)(Kt.Z,{children:(0,I.jsx)(Vr,{fileType:e.file_type,score:t.score,editable:V,maxScore:e.max_score,attempted:t.attempted,studentId:t.student_id,contentId:e.content_id,isSubjectiveActivity:!0,subType:e.content_subtype,onChangeScore:le})}),(0,I.jsx)(Kt.Z,{align:"center",children:t.attempted?""===e.parent_id&&e.file_type===Re.HasChildContainer?"100%":0===(null===e||void 0===e?void 0:e.max_score)?"":Math.ceil((null===t||void 0===t?void 0:t.score)/(null===e||void 0===e?void 0:e.max_score)*100)+"%":""})]},t.student_id)}))})]})})]})})]})},e.content_id)})),(0,I.jsx)(Ar,{open:M,resourceType:o,answer:g,onClose:z,roomId:Z,userId:E,h5pId:A,h5pSubId:L,contentSubType:d})]})}var Kr=(0,L.Z)({tableContainer:{marginTop:5,maxHeight:830,marginBottom:20},table:{minWidth:900,fontSize:"14px !important"},checkBoxUi:{fontSize:"14px !important"},tableCellLine:{wordBreak:"break-all","&:not(:last-child)":{}},assessActionline:{borderLeft:"1px solid #ebebeb"},tablecellError:{padding:0,paddingBottom:16},partially_checked:{width:18,height:18,margin:3,borderRadius:3,backgroundColor:"#0E78D5",boxShadow:"0 0 2px #0E78D5"},disabled:{"& $partially_checked":{backgroundColor:"#ababab",boxShadow:"0 0 2px #ababab"}}});function Yr(e){var t=Kr(),n=e.attendanceList,r=e.overallOutcomes,s=e.editable,a=e.onChangeAllAchieved,o=e.onChangeNoneAchieved,i=e.onChangeStudentStatus,c=e.onChangeNotCovered,u=[{align:"center",style:{backgroundColor:"#F2F5F7"},width:150,value:"name",text:(0,S.d)("Learning Outcomes").t("library_label_learning_outcomes")},{align:"center",style:{backgroundColor:"#F2F5F7"},width:120,value:"assignTo",text:(0,S.d)("Assigned to").t("assessment_assigned_to")},{align:"center",style:{backgroundColor:"#F2F5F7"},width:100,value:"assumed",text:(0,S.d)("Assumed").t("assess_label_assumed")},{align:"center",style:{backgroundColor:"#F2F5F7"},value:"actions",text:(0,I.jsxs)("div",{className:"flex_align_center flex_justify_center",children:[(0,I.jsx)("span",{children:(0,S.d)("Assessing Actions").t("assess_option_assessing_actions")}),(0,I.jsx)(qr,{showPartially:!0})]})}],d=(0,l.useMemo)((function(){return null===n||void 0===n?void 0:n.filter((function(e){return e.status===Le.Participate}))}),[n]),_=r.map((function(e,r){var l,u;return(0,I.jsxs)(Xt.Z,{style:{},children:[(0,I.jsxs)(Kt.Z,{className:t.tableCellLine,align:"center",children:["\u2002 ",e.outcome_name," \u2002"]}),(0,I.jsxs)(Kt.Z,{className:t.tableCellLine,align:"center",children:["\u2002"," ",null===(l=e.assigned_to)||void 0===l?void 0:l.map((function(e){return(0,I.jsx)("div",{children:"LessonMaterial"===e?(0,S.d)("Lesson Material").t("library_label_lesson_material"):(0,S.d)("Lesson Plan").t("library_label_lesson_plan")},e)}))," ","\u2002"]}),(0,I.jsxs)(Kt.Z,{className:t.tableCellLine,align:"center",children:["\u2002 ",e.assumed?(0,S.d)("Yes").t("assess_label_yes"):""," \u2002"]}),(0,I.jsx)(Kt.Z,{className:t.tablecellError,children:(0,I.jsxs)(re.Z,{display:"flex",alignItems:"center",p:2,pb:0,children:[(0,I.jsxs)(re.Z,{width:180,fontSize:14,style:{flex:"none"},children:[(0,I.jsx)(y.Z,{control:(0,I.jsx)(j.Z,{checked:!e.skip&&(e.attendance_ids&&(null===(u=e.attendance_ids)||void 0===u?void 0:u.length)===(null===d||void 0===d?void 0:d.length)),onChange:function(t){return n=t,r=e.outcome_id,void a(n.target.checked,r);var n,r},name:"award",color:"primary"}),label:(0,S.d)("All Achieved").t("assess_option_all_achieved"),disabled:!s}),(0,I.jsx)(y.Z,{control:(0,I.jsx)(j.Z,{checked:e.none_achieved,color:"primary",onChange:function(t){return n=t,r=e.outcome_id,void o(n.target.checked,r);var n,r}}),label:(0,S.d)("None Achieved").t("assess_option_none_achieved"),disabled:!s}),(0,I.jsx)(y.Z,{control:(0,I.jsx)(j.Z,{checked:e.skip,color:"primary",onChange:function(t){return n=t,r=e.outcome_id,void c(n.target.checked,r);var n,r}}),label:(0,S.d)("Not Covered").t("assess_option_not_attempted"),disabled:!s})]}),(0,I.jsx)(re.Z,{px:3,className:t.assessActionline,children:null===n||void 0===n?void 0:n.map((function(n){var r,a;return(0,I.jsx)(y.Z,{control:(0,I.jsx)(j.Z,{onChange:function(t){return r=t,s=n.student_id,a=e.outcome_id,void i(r.target.checked,s,a);var r,s,a},indeterminate:null===(r=e.partial_attendance_ids)||void 0===r?void 0:r.some((function(e){return e===n.student_id})),indeterminateIcon:(0,I.jsx)("div",{className:t.partially_checked}),color:"primary",checked:e.attendance_ids&&(null===(a=e.attendance_ids)||void 0===a?void 0:a.indexOf(n.student_id))>=0}),label:n.student_name?n.student_name:(0,S.d)("Unknown User").t("assessment_summary_label_attendance_unknown"),disabled:e.skip||!s,className:e.skip||!s?t.disabled:""},n.student_id)}))})]})})]},e.outcome_id)}));return(0,I.jsx)(an.Z,{className:t.tableContainer,children:(0,I.jsxs)(dn.Z,{className:t.table,stickyHeader:!0,children:[(0,I.jsx)($t,{fields:u,style:{height:80}}),(0,I.jsx)(_n.Z,{children:_})]})})}var Xr=n(79756),Jr=(0,L.Z)({tableBar:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",cursor:"pointer",backgroundColor:"#F2F5F7",height:48,boxSizing:"content-box","& div":{display:"flex",justifyContent:"space-between",alignItems:"center","& a":{fontSize:"14px",color:"#006CCF"}},marginBottom:20},table:{minWidth:650},student_lo:{display:"flex",flexDirection:"column",alignItems:"flex-start",textAlign:"left",wordBreak:"break-all","& .assessment-MuiFormControlLabel-root":{display:"flex",alignItems:"flex-start",paddingTop:9,"& .assessment-MuiIconButton-root":{paddingTop:0}}},totalScoreCon:{width:"100px",fontSize:16,fontWeight:600}}),$r=function(e){return function(t){if(t.stopPropagation(),e)return e(t)}};function es(e){var t=Jr(),n=e.studentViewItems,r=e.editable,s=e.subDimension,a=e.roomId,o=e.assessment_type,i=e.is_anyone_attempted,c=e.onChangeComputedStudentViewItems,u=o===Ne.bC.review,d=Nr(),_=d.resourceViewActive,m=d.openResourceView,h=d.closeResourceView,g=(0,l.useState)(Me.essay),v=(0,Q.Z)(g,2),b=v[0],x=v[1],Z=(0,l.useState)(""),C=(0,Q.Z)(Z,2),k=C[0],w=C[1],A=(0,l.useState)(""),N=(0,Q.Z)(A,2),B=N[0],P=N[1],E=(0,l.useState)(""),F=(0,Q.Z)(E,2),O=F[0],T=F[1],L=(0,l.useState)(""),D=(0,Q.Z)(L,2),R=D[0],M=D[1],W=(0,l.useState)(""),z=(0,Q.Z)(W,2),q=z[0],U=z[1],V=(0,l.useState)(""),G=(0,Q.Z)(V,2),H=G[0],K=G[1],Y=(0,l.useState)(""),X=(0,Q.Z)(Y,2),J=X[0],$=X[1],ee=(0,l.useState)(""),te=(0,Q.Z)(ee,2),ne=te[0],se=te[1],ae=(0,l.useMemo)((function(){return s.length?s.map((function(e){return e.id})):[]}),[s]),oe=(0,l.useState)(s.map((function(e){return!0}))),ie=(0,Q.Z)(oe,2),le=ie[0],ce=ie[1],ue=s.findIndex((function(e){return"all"===e.id}))>=0,de=function(){var e=[{align:"center",style:{backgroundColor:"#fff"},value:"idx",text:"".concat((0,S.d)("No").t("assess_detail_no"),".")},{align:"center",style:{backgroundColor:"#fff",minWidth:100},value:"name",text:(0,S.d)("Lesson Material Name").t("assess_detail_lesson_material_name")},{align:"center",style:{backgroundColor:"#fff"},value:"type",text:(0,S.d)("Lesson Material Type").t("assess_detail_lesson_material_type")},{align:"center",style:{backgroundColor:"#fff",minWidth:100},value:"answer",text:(0,S.d)("Answer").t("assess_detail_answer")},{align:"center",style:{backgroundColor:"#fff",minWidth:100},value:"result",text:(0,S.d)("Results").t("assessment_detail_screenshot_results")},{align:"center",style:{backgroundColor:"#fff",minWidth:100},value:"score",text:(0,S.d)("Score / Full Marks").t("assess_detail_score_full_marks")}];return u?e.push({align:"center",style:{backgroundColor:"#fff",maxWidth:400},value:"percentage",text:(0,S.d)("Percentage").t("assess_detail_percentage")}):e.push({align:"center",style:{backgroundColor:"#fff",maxWidth:400,minWidth:150},value:"LO",text:(0,S.d)("Learning Outcomes").t("library_label_learning_outcomes")}),e},_e=function(e,t,r){var s=null===n||void 0===n?void 0:n.map((function(n){var s;return n.student_id===t?(0,p.Z)((0,p.Z)({},n),{},{results:null===(s=n.results)||void 0===s?void 0:s.map((function(t){return t.h5p_sub_id&&t.h5p_sub_id===r||t.content_id===r?(0,p.Z)((0,p.Z)({},t),{},{score:e}):(0,p.Z)({},t)}))}):(0,p.Z)({},n)}));c(s)};return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(an.Z,{style:{marginBottom:"20px"},children:null===n||void 0===n?void 0:n.filter((function(e){return e.status===Le.Participate})).map((function(e,s){var o,d,_;return(!!ue||ae.indexOf(e.student_id)>=0)&&(0,I.jsxs)(l.Fragment,{children:[(0,I.jsxs)(re.Z,{className:t.tableBar,onClick:function(e){return function(e){var t=(0,Ae.cloneDeep)(le);void 0===t[e]?t[e]=!1:t[e]=!le[e],ce((0,f.Z)(t))}(s)},children:[(0,I.jsxs)("div",{style:{color:le[s]?"black":"#666666"},children:[(0,I.jsx)(Xr.Z,{}),(0,I.jsx)("span",{style:{padding:"0 18px 0 18px"},children:e.student_name?e.student_name:(0,S.d)("Unknown User").t("assessment_summary_label_attendance_unknown")}),r&&i&&(0,I.jsx)("span",{onClick:$r((function(t){var n;return function(e,t){m(),x(Me.editComment),T(e),M(t)}(null!==(n=e.reviewer_comment)&&void 0!==n?n:"",e.student_id)})),style:{display:void 0===le[s]||le[s]?"block":"none",color:"rgb(0, 108, 207)"},children:(0,S.d)("Click to add comments").t("assess_detail_click_to_add_comments")}),!r&&(null===e||void 0===e?void 0:e.reviewer_comment)&&(0,I.jsx)("span",{onClick:$r((function(t){var n;return function(e){m(),x(Me.viewComment),T(e)}(null!==(n=e.reviewer_comment)&&void 0!==n?n:"")})),style:{display:void 0===le[s]||le[s]?"block":"none",color:"rgb(0, 108, 207)"},children:(0,S.d)("Click to view comments").t("assess_detail_click_to_view_comments")})]}),void 0===le[s]||le[s]?(0,I.jsx)(gn.Z,{}):(0,I.jsx)(fn.Z,{})]}),(0,I.jsx)(ln.Z,{in:void 0===le[s]||le[s],children:(0,I.jsx)(an.Z,{style:{maxHeight:800},children:(0,I.jsxs)(dn.Z,{className:t.table,"aria-label":"simple table",stickyHeader:!0,children:[(0,I.jsx)($t,{fields:de(),style:{height:35}}),(0,I.jsxs)(_n.Z,{children:[null===(o=e.results)||void 0===o?void 0:o.map((function(s){var o,i,l;return("LessonMaterial"===s.content_type||"Unknown"===s.content_type)&&(!!u||"Covered"===s.status)&&(0,I.jsxs)(Xt.Z,{children:[(0,I.jsx)(Kt.Z,{align:"center",children:s.number}),(0,I.jsx)(Kt.Z,{align:"center",children:(0,I.jsx)(Wn.ZP,{title:null!==(o=s.content_name)&&void 0!==o?o:"",placement:"top-start",children:(0,I.jsx)("span",{children:(l=s.content_name,l?function(e,t){for(var n=0,r="",s=0,a=e.length;s<a&&!((n+=e.charCodeAt(s)>255?2:1)>t);s++)r=e.substring(0,s+1);return n>t?"".concat(r," ...."):r}(l,36):"")})})}),(0,I.jsx)(Kt.Z,{align:"center",children:s.content_subtype}),(0,I.jsxs)(Kt.Z,{align:"center",children:[s.attempted&&"Essay"===s.content_subtype&&(0,I.jsx)("span",{style:{color:"#006CCF",cursor:"pointer"},onClick:function(e){var t;return function(e){m(),x(Me.essay),P(e)}(null!==(t=s.answer)&&void 0!==t?t:"")},children:(0,S.d)("Click to View").t("assess_detail_click_to_view")}),s.file_type!==Re.HasChildContainer&&s.attempted&&wr(s.content_subtype)&&(0,I.jsx)("span",{style:{color:"#006CCF",cursor:"pointer"},onClick:function(t){return function(e,t,n,r,s){m(),x(s),U(e),K(t),$(r),se(n)}(a,s.h5p_id,s.h5p_sub_id,e.student_id,s.content_subtype)},children:(0,S.d)("Click to View").t("assess_detail_click_to_view")})]}),(0,I.jsx)(Kt.Z,{align:"center",children:s.file_type!==Re.HasChildContainer&&s.attempted&&Sr(s.content_subtype,s.h5p_sub_id)&&(0,I.jsx)("span",{style:{color:"#006CCF",cursor:"pointer"},onClick:function(t){return function(e,t,n,r,s){m(),x(Me.viewScreenshots),w(s),U(e),K(t),$(r),se(n)}(a,s.h5p_id,s.h5p_sub_id,e.student_id,s.content_subtype)},children:(0,S.d)("Click to View").t("assess_detail_click_to_view")})}),(0,I.jsx)(Kt.Z,{align:"center",children:(0,I.jsx)(Vr,{fileType:s.file_type,score:s.score,editable:r,maxScore:s.max_score,attempted:s.attempted,studentId:e.student_id,contentId:s.h5p_sub_id?s.h5p_sub_id:s.content_id,isSubjectiveActivity:!0,subType:s.content_subtype,onChangeScore:_e})}),!u&&(0,I.jsx)(Kt.Z,{align:"center",children:(0,I.jsx)("div",{className:t.student_lo,children:null===(i=s.outcomes)||void 0===i?void 0:i.map((function(t){return(0,I.jsx)(y.Z,{label:t.outcome_name,disabled:!!s.parent_id||(!r||t.status===De.NotCovered),control:(0,I.jsx)(j.Z,{value:t.outcome_id,color:"primary",checked:t.status===De.Achieved,onChange:function(r){return function(e,t,r,s){var a=null===n||void 0===n?void 0:n.map((function(n){var a;return n.student_id===t?(0,p.Z)((0,p.Z)({},n),{},{results:null===(a=n.results)||void 0===a?void 0:a.map((function(t){var n;return t.content_id===r||t.parent_id===r?(0,p.Z)((0,p.Z)({},t),{},{outcomes:null===(n=t.outcomes)||void 0===n?void 0:n.map((function(t){return t.outcome_id===s?(0,p.Z)((0,p.Z)({},t),{},{status:e.target.checked?De.Achieved:De.Unknown}):(0,p.Z)({},t)}))}):(0,p.Z)({},t)}))}):(0,p.Z)({},n)}));c(a)}(r,e.student_id,s.content_id,t.outcome_id)}})},t.outcome_id)}))})}),u&&(0,I.jsx)(Kt.Z,{align:"center",children:s.attempted?""===s.parent_id&&s.file_type===Re.HasChildContainer?"100%":0===(null===s||void 0===s?void 0:s.max_score)?"":Math.ceil((null===s||void 0===s?void 0:s.score)/(null===s||void 0===s?void 0:s.max_score)*100)+"%":""})]},s.h5p_sub_id?s.h5p_sub_id:s.content_id)})),(0,I.jsxs)(Xt.Z,{children:[(0,I.jsx)(Kt.Z,{align:"center",className:t.totalScoreCon,children:(0,S.d)("Total Score").t("assessment_detail_total_score")}),(0,I.jsx)(Kt.Z,{}),(0,I.jsx)(Kt.Z,{}),(0,I.jsx)(Kt.Z,{}),(0,I.jsx)(Kt.Z,{}),(0,I.jsx)(Kt.Z,{align:"center",className:t.totalScoreCon,children:e.attempted?"".concat(null===(d=e.results)||void 0===d?void 0:d.filter((function(e){return e.file_type!==Re.HasChildContainer})).reduce((function(e,t){return(100*e+100*Number(null===t||void 0===t?void 0:t.score))/100}),0),"\n                                   / \n                                  ").concat(null===(_=e.results)||void 0===_?void 0:_.filter((function(e){return e.file_type!==Re.HasChildContainer&&e.attempted})).reduce((function(e,t){return e+Number(t.max_score)}),0)):"-"}),(0,I.jsx)(Kt.Z,{})]})]})]})})})]},e.student_id)}))}),(0,I.jsx)(Ar,{open:_,resourceType:b,answer:B,comment:O,studentId:R,onChangeComment:function(e,t){var r=null===n||void 0===n?void 0:n.map((function(n){return n.student_id===e?(0,p.Z)((0,p.Z)({},n),{},{reviewer_comment:t}):(0,p.Z)({},n)}));c(r)},onClose:h,roomId:q,userId:J,h5pId:H,h5pSubId:ne,contentSubType:k})]})}function ts(){var e,t=(0,u.I0)(),n=(0,_.k6)(),r=(0,u.v9)((function(e){return e.assessments})),s=r.assessmentDetailV2,a=r.my_id,o=r.attachment_id,i=function(){var e=ke(),t=e.id,n=e.editindex,r=e.querys.get("assessment_type")||Ne.bC.live;return(0,l.useMemo)((function(){return{assessment_type:r,editindex:n,id:t}}),[r,n,t])}(),c=i.assessment_type,d=i.editindex,m=i.id,p=c===Ne.bC.study,h=c===Ne.bC.class,g=c===Ne.bC.review,v=c===Ne.bC.homeFun,b=(0,w.cI)(),x=(0,l.useState)(),y=(0,Q.Z)(x,2),j=y[0],Z=y[1],C=(0,l.useState)(),k=(0,Q.Z)(C,2),N=k[0],B=k[1],P=(0,l.useMemo)((function(){return g?Ue(s.diff_content_students):ze(s.students,s.contents,s.outcomes,c)}),[s.contents,s.diff_content_students,s.outcomes,s.students,c,g]),E=(0,l.useState)(),F=(0,Q.Z)(E,2),O=F[0],T=F[1],L=(0,l.useMemo)((function(){return Ve(O||P)}),[O,P]),D=(0,l.useMemo)((function(){return j?null===j||void 0===j?void 0:j.filter((function(e){return e.status===Le.Participate})):null===(e=s.students)||void 0===e?void 0:e.filter((function(e){return e.status===Le.Participate}));var e}),[s.students,j]),R=(0,l.useState)(v?ge.submitted:ge.student),M=(0,Q.Z)(R,2),W=M[0],z=M[1],q=(0,l.useMemo)((function(){return He(W,O||P)}),[O,W,P]),U=(0,l.useState)(),G=(0,Q.Z)(U,2),H=G[0],K=G[1],Y=(0,l.useState)(),J=(0,Q.Z)(Y,2),ne=J[0],re=J[1],se=(0,ve.gI)([te.Z.edit_in_progress_assessment_439,te.Z.edit_attendance_for_in_progress_assessment_438]),ae=Boolean(se.edit_in_progress_assessment_439),oe=Boolean(ae||se.edit_attendance_for_in_progress_assessment_438),ie=null===(e=s.teachers)||void 0===e?void 0:e.filter((function(e){return e.id===a})),le=Boolean(ie&&ie.length>0),ce=!!s.remaining_time&&s.remaining_time>0,ue=s.status===st.T9.complete,de=p||g||v?le&&ae&&!ce&&!ue:le&&ae&&!ue&&!ce,_e=(0,l.useMemo)((function(){var e=Xe(O||P),t=e.all,n=e.attempt;return 0===t?(0,S.d)("N/A").t("assess_column_n_a"):0===n?"0":"".concat(Math.round(n/t*100),"%")}),[O,P]),me=(0,l.useMemo)((function(){return j||(g?s.diff_content_students:s.students)}),[s.diff_content_students,s.students,g,j]),pe=function(){var e=(0,X.Z)($().mark((function e(){var r,a,o,i,l,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=8;break}return r=Ke(c,N||s.contents,O||P),a=r._contents,o=r._students,i={action:"Draft",contents:g||v?void 0:(0,f.Z)(a),id:m,students:(0,f.Z)(o)},e.next=5,t((0,we.Y8)({id:m,data:i}));case 5:l=e.sent,(u=l.payload)&&(t((0,V.HY)((0,S.d)("Saved Successfully.").t("assess_msg_save_successfully"))),n.replace({search:xe(n.location.search,{id:u,editindex:d+1})}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=(0,X.Z)($().mark((function e(){var r,a,o,i,l,u,_,p,h;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!L.find((function(e){var t;return!e.skip&&!e.none_achieved&&(null===e||void 0===e?void 0:e.attendance_ids)&&0===(null===e||void 0===e?void 0:e.attendance_ids.length)&&0===(null===(t=e.partial_attendance_ids)||void 0===t?void 0:t.length)}))){e.next=3;break}return e.abrupt("return",Promise.reject(t((0,V.WQ)((0,S.d)("Please fill in all the information.").t("assess_msg_missing_infor")))));case 3:if(c!==Ne.bC.study){e.next=15;break}if(!Ye(O)){e.next=15;break}return r=(0,S.d)("You cannot change the assessment after clicking Complete.").t("assess_msg_cannot_delete"),e.t0=Se.SI,e.next=10,t((0,A.xC)({content:r,hideCancel:!1}));case 10:if(e.t1=e.sent,a=(0,e.t0)(e.t1),a.isConfirmed){e.next=15;break}return e.abrupt("return",Promise.reject());case 15:if(!v){e.next=20;break}if(!(null===(o=O||P)||void 0===o?void 0:o.some((function(e){return e.results&&e.results[0]&&e.results[0].outcomes&&e.results[0].outcomes.some((function(e){return e.status===De.Unknown}))})))){e.next=20;break}return e.abrupt("return",Promise.reject(t((0,V.WQ)((0,S.d)("Please fill in all the information.").t("assess_msg_missing_infor")))));case 20:if(!m){e.next=28;break}return i=Ke(c,N||s.contents,O||P),l=i._contents,u=i._students,_={action:"Complete",contents:g?void 0:(0,f.Z)(l),id:m,students:(0,f.Z)(u)},e.next=25,t((0,we.Y8)({id:m,data:_}));case 25:p=e.sent,(h=p.payload)&&(t((0,V.HY)((0,S.d)("Completed Successfully.").t("assess_msg_compete_successfully"))),n.replace({search:xe(n.location.search,{id:h,editindex:d+1})}));case 28:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(e){e&&T((0,f.Z)(e))},ye=function(){var e=(0,X.Z)($().mark((function e(n,r,s){var a,o,i,l,c,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.name.split(".").pop(),e.next=3,t((0,we.WF)({partition:"drawing_feedback",extension:a}));case 3:o=e.sent,i=o.payload,l=i.path,(c=i.resource_id)&&((0,ee.cT)(l,s),null===(u=(0,Ae.cloneDeep)(O||P))||void 0===u||u.forEach((function(e){if(e.student_id===n){var t=e.results;if(t&&t[0]&&t[0].student_feed_backs&&t[0].student_feed_backs[0]){var s=t[0].student_feed_backs[0];s&&null!==s&&void 0!==s&&s.assignments&&s.assignments.forEach((function(e){e.id===r&&(e.review_attachment_id=c)}))}}})),T(u));case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),je=(0,I.jsxs)(I.Fragment,{children:[v&&(0,I.jsx)(Te,{text:(0,S.d)("Learning Outcome Assessment").t("assessment_learning_outcome_assessment")}),!h&&(0,I.jsx)(Oe,{mainDimension:v?[{label:(0,S.d)("Submitted").t("assessment_hfs_submitted"),value:ge.submitted},{label:(0,S.d)("Not Submitted").t("assessment_hfs_not_submitted"),value:ge.notSubmitted},{label:(0,S.d)("All").t("assessment_hfs_all"),value:ge.all}]:[{label:(0,S.d)("View by Students").t("assess_detail_view_by_students"),value:ge.student},{label:(0,S.d)("View by Lesson Material").t("assess_detail_view_by_lesson_material"),value:ge.material}],assessment_type:c,onChangeDimension:function(e){z(e);var t=He(e,O||P);K(t),re(t)},dimension:W,subDimension:H||(q||[]),onChangeSubdimension:function(e){re(e)}}),!g&&!v&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Te,{text:W===ge.student?(0,S.d)("Learning Outcome Assessment").t("assessment_learning_outcome_assessment"):(0,S.d)("Lesson Plan Assessment").t("assess_detail_lesson_plan_assessment")}),L&&L.length?(0,I.jsx)(Yr,{attendanceList:D,overallOutcomes:L,editable:de,onChangeAllAchieved:function(e,t){var n=O?(0,Ae.cloneDeep)(O):(0,Ae.cloneDeep)(P);null===n||void 0===n||n.forEach((function(n){var r;null===n||void 0===n||null===(r=n.results)||void 0===r||r.forEach((function(n){var r;null===n||void 0===n||null===(r=n.outcomes)||void 0===r||r.forEach((function(n){n.outcome_id===t&&(n.status=e?De.Achieved:De.Unknown)}))}))})),T(n)},onChangeNoneAchieved:function(e,t){var n=O?(0,Ae.cloneDeep)(O):(0,Ae.cloneDeep)(P);null===n||void 0===n||n.forEach((function(n){var r;null===n||void 0===n||null===(r=n.results)||void 0===r||r.forEach((function(n){var r;null===n||void 0===n||null===(r=n.outcomes)||void 0===r||r.forEach((function(n){n.outcome_id===t&&(n.status=e?De.NotAchieved:De.Unknown)}))}))})),T(n)},onChangeStudentStatus:function(e,t,n){var r=O?(0,Ae.cloneDeep)(O):(0,Ae.cloneDeep)(P);null===r||void 0===r||r.forEach((function(r){var s;r.student_id===t&&(null===r||void 0===r||null===(s=r.results)||void 0===s||s.forEach((function(t){var r;null===t||void 0===t||null===(r=t.outcomes)||void 0===r||r.forEach((function(t){t.outcome_id===n&&(t.status=e?De.Achieved:De.Unknown)}))})))})),T(r)},onChangeNotCovered:function(e,t){var n=O?(0,Ae.cloneDeep)(O):(0,Ae.cloneDeep)(P);null===n||void 0===n||n.forEach((function(n){var r;null===n||void 0===n||null===(r=n.results)||void 0===r||r.forEach((function(n){var r;null===n||void 0===n||null===(r=n.outcomes)||void 0===r||r.forEach((function(n){n.outcome_id===t&&(n.status=e?De.NotCovered:De.Unknown)}))}))})),T(n)}}):(0,I.jsx)(fe,{})]}),!h&&!v&&W===ge.student&&(0,I.jsxs)(I.Fragment,{children:[!g&&(0,I.jsx)(Te,{text:(0,S.d)("Score Assessment").t("assess_detail_score_assessment")}),(0,I.jsx)(es,{dimension:W,subDimension:ne||(q||[]),studentViewItems:O||P,editable:de,roomId:s.room_id,assessment_type:c,is_anyone_attempted:s.is_anyone_attempted,onChangeComputedStudentViewItems:be})]}),!h&&!v&&!g&&W===ge.material&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Te,{text:(0,S.d)("Lesson Material Assessment").t("assessment_lesson_material_assessment")}),(0,I.jsx)(Hr,{dimension:W,subDimension:ne||(q||[]),studentViewItems:O||P,students:j||s.students,contents:N||s.contents,editable:de,roomId:s.room_id,onChangeMaterialAllAchieved:function(e,t,n){var r=O?(0,Ae.cloneDeep)(O):(0,Ae.cloneDeep)(P);null===r||void 0===r||r.forEach((function(r){var s;null===r||void 0===r||null===(s=r.results)||void 0===s||s.forEach((function(r){var s;r.content_id===t&&(null===r||void 0===r||null===(s=r.outcomes)||void 0===s||s.forEach((function(t){t.outcome_id===n&&(t.status=e?De.Achieved:De.Unknown)})))}))})),T(r)},onChangeMaterialNoneAchieved:function(e,t,n){var r=O?(0,Ae.cloneDeep)(O):(0,Ae.cloneDeep)(P);null===r||void 0===r||r.forEach((function(r){var s;null===r||void 0===r||null===(s=r.results)||void 0===s||s.forEach((function(r){var s;r.content_id===t&&(null===r||void 0===r||null===(s=r.outcomes)||void 0===s||s.forEach((function(t){t.outcome_id===n&&(t.status=e?De.NotAchieved:De.Unknown)})))}))})),T(r)},onChangeMatarialStudentStatus:function(e,t,n,r){var s=O?(0,Ae.cloneDeep)(O):(0,Ae.cloneDeep)(P);null===s||void 0===s||s.forEach((function(s){var a;s.student_id===t&&(null===s||void 0===s||null===(a=s.results)||void 0===a||a.forEach((function(t){var s;t.content_id===n&&(null===t||void 0===t||null===(s=t.outcomes)||void 0===s||s.forEach((function(t){t.outcome_id===r&&(t.status=e?De.Achieved:De.Unknown)})))})))})),T(s)},onChangeComputedStudentViewItems:be})]}),v&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Te,{text:(0,S.d)("Comments & Ratings").t("assessment_hfs_comment_rating")}),(0,I.jsx)(Pr,{editable:de,dimension:W,attachment_id:o,subDimension:ne||(q||[]),students:O||P,onChangeHomefunStudent:function(e){T(e)},onSaveDrawFeedback:ye})]})]});return(0,l.useEffect)((function(){t((0,we.O8)({id:m,metaLoading:!0}))}),[t,m,d]),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(qt,{name:(0,S.d)("Assessment Details").t("assess_assessment_details"),onBack:function(){n.goBack()},onComplete:he,onSave:pe,editable:de}),(0,I.jsxs)(rt,{breakpoint:1536,leftWidth:603,rightWidth:1205,spacing:32,basePadding:0,padding:40,children:[(0,I.jsx)(Bt,{assessmentDetail:s,students:me,contents:N||s.contents,assessmentType:c,formMethods:b,editable:de,onChangeStudent:function(e){var t;if(e&&Z((0,f.Z)(e)),g){var n=Ue(e);t=qe(n,O||P)}else t=qe(e,O||P);T(t);var r=He(W,t);K(r),re(r)},onChangeContents:function(e){e&&B((0,f.Z)(e));var t=Qe(O||P,e);T(t);var n=He(W,t);K(n),re(n)},completeRate:_e,hasEditPerm:oe}),je]})]})}ts.routeBasePath="/assessments/details";var ns=n(1288),rs=n(25939),ss=n(1370),as=n(38192),os=n(71838),is=n(54975),ls=n(66240),cs=n(9337),us=(0,L.Z)((function(e){var t;return{dialogContainer:{"& .assessment-MuiPaper-root":(t={padding:"30px 40px 20px 40px",position:"relative"},(0,ne.Z)(t,e.breakpoints.down("sm"),{padding:"20px 0px 20px 10px"}),(0,ne.Z)(t,e.breakpoints.down(600),{padding:"0px"}),t)},dialogContainer1:{"& .assessment-MuiDialog-paperWidthSm":{maxWidth:"1000px"}},header:{paddingTop:"40px"},center:{padding:"20px 30px 20px 30px !important"},content:{padding:"0 !important"}}}));function ds(e){var t=us(),n=e.modalDate,r=n.openStatus,s=n.handleClose,a=n.customizeTemplate,o=n.handleChange,i=n.radioValue,l=n.title,c=n.text,u=n.radios,d=n.buttons,_=n.enableCustomization,m=n.showScheduleInfo;return(0,I.jsx)("div",{children:(0,I.jsx)(g.Z,{open:r,onClose:s,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",style:{zIndex:1e3},className:m?t.dialogContainer1:t.dialogContainer,children:_?(0,I.jsx)(b.Z,{className:t.content,children:a}):(0,I.jsxs)(I.Fragment,{children:[l&&(0,I.jsx)(v.Z,{className:t.header,id:"alert-dialog-title",children:l}),(0,I.jsx)(b.Z,{className:t.center,children:u?(0,I.jsx)(cn.Z,{component:"fieldset",children:(0,I.jsx)(pn.Z,{"aria-label":"gender",name:"gender1",value:i,onChange:function(e){return o(e.target.value)},children:u.map((function(e,t){return(0,I.jsx)(y.Z,{value:e.value,control:(0,I.jsx)(mn.Z,{}),label:e.label},t)}))})}):(0,I.jsx)(x.Z,{id:"alert-dialog-description",children:c})}),(0,I.jsx)(C.Z,{children:d.map((function(e,t){return(0,I.jsx)(k.Z,{onClick:function(){return e.event("cancel")},color:"primary",children:e.label},t)}))})]})})})}var _s=n(80908),ms=n(65919),ps=n(37954),hs=["ref"],fs=(0,L.Z)((function(e){return{addSetsCon:{fontSize:18,color:"#666666",lineHeight:"22px",marginBottom:10},searchTextCon:{width:"calc(100% - 131px)"},searchBtn:{width:"111px",height:"40px",backgroundColor:"#0E78D5",marginLeft:"20px"},outcomeSetCon:{width:250,maxHeight:312,boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.20), 0px 3px 14px 2px rgba(0,0,0,0.12), 0px 8px 10px 1px rgba(0,0,0,0.14)",borderRadius:"4px",boxSizing:"border-box",paddingTop:5,background:"#fff","& .assessment-MuiFormControlLabel-root":{marginTop:10,fontSize:16,lineHeight:"19px",marginLeft:10}},itemSet:{fontSize:16,cursor:"pointer",overflow:"hidden",wordBreak:"break-all"},createCon:{color:"#0e78d5",marginBottom:10,marginLeft:10,marginTop:10},action:{textAlign:"right",borderTop:"1px solid #eeeeee",height:56,lineHeight:"56px","& .assessment-MuiButton-containedPrimary":{marginRight:10}},outComeSets:{width:"100%",maxHeight:181,overflowY:"scroll"},chip:{borderRadius:"4px",fontSize:16,margin:e.spacing(.5)},selectedSetsCon:{marginTop:10,marginBottom:10},positionCss:{position:"absolute",top:163}}}));function gs(e){var t=fs(),n=e.showChipList,r=void 0!==n&&n,s=e.showSetList,a=e.onSearchOutcomeSet,o=e.onCreateOutcomeSet,i=e.onSetOutcomeSet,c=e.selectedOutcomeSet,u=e.outcomeSetList,d=e.onDeleteSet,_=e.title,m=e.defaultSelectOutcomeset,f=e.onInputChange,g=(0,w.cI)(),v=g.control,b=g.getValues,x=g.watch,C=g.setValue,A=x("OUTCOME_SET_NAME")?x("OUTCOME_SET_NAME").trim():x("OUTCOME_SET_NAME"),N=function(e){d(e)};return(0,l.useEffect)((function(){C("outcomesets",[m])}),[m,C]),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{children:[(0,I.jsx)(se.Z,{className:t.addSetsCon,children:_}),(0,I.jsx)(w.Qr,{className:t.searchTextCon,as:Z.Z,control:v,name:"OUTCOME_SET_NAME",size:"small",placeholder:(0,S.d)("Search").t("assess_label_search"),defaultValue:"",inputProps:{maxLength:36},onInput:f}),(0,I.jsxs)(k.Z,{variant:"contained",color:"primary",className:t.searchBtn,onClick:function(){a(A)},children:[(0,I.jsx)(ms.Z,{})," ",(0,S.d)("Search").t("assess_label_search")]})]}),r&&(0,I.jsx)("div",{className:t.selectedSetsCon,children:c.map((function(e){return(0,I.jsx)(_s.Z,{deleteIcon:(0,I.jsx)(ps.Z,{}),label:e.set_name,className:t.chip,onDelete:N},e.set_id)}))}),s&&(0,I.jsxs)("div",{className:(0,Je.default)(t.outcomeSetCon,r?t.positionCss:""),children:[(0,I.jsx)(w.Qr,{name:"outcomesets",control:v,defaultValue:[m],render:function(e){var n=e.ref,r=(0,h.Z)(e,hs);return(0,I.jsx)(B,(0,p.Z)((0,p.Z)({},r),{},{render:function(e){return(0,I.jsx)("div",{ref:n,className:t.outComeSets,children:u&&u.map((function(t,n){return(0,I.jsx)(y.Z,{style:{display:"block",overflow:"hidden",wordBreak:"break-all",background:e.hashValue[t.set_id]?"#ccc":""},control:(0,I.jsx)(j.Z,{style:{display:"none"},color:"primary",value:t.set_id,checked:e.hashValue[t.set_id]||!1,onChange:e.registerChange}),label:t.set_name},t.set_id)}))})}}))}}),A&&function(e){return!(u&&u.length>0&&e)||!(u.findIndex((function(t){return t.set_name===e}))>=0)}(A)&&(0,I.jsxs)(Mt,{className:(0,Je.default)(t.itemSet,t.createCon),onClick:function(){if(A)return o(A)},children:[(0,S.d)("Create").t("assess_label_create")," ",'"'.concat(A,'"')]}),(0,I.jsx)("div",{className:t.action,children:(0,I.jsx)(k.Z,{color:"primary",variant:"contained",onClick:function(){var e=b().outcomesets;i(e)},children:(0,S.d)("OK").t("general_button_OK")})})]})]})}var vs=(0,L.Z)((function(e){return(0,D.Z)({okBtn:{marginLeft:"40px !important"},dialogContent:{height:350,boxSizing:"border-box",borderBottom:"none"},title:{"& .assessment-MuiTypography-root":{fontSize:"24px !important",fontWeight:700}}})}));function bs(e){var t=vs(),n=e.open,r=e.onClose,s=e.onAddSet,a=e.showSetList,o=e.onSearchOutcomeSet,i=e.onCreateOutcomeSet,l=e.onSetOutcomeSet,c=e.selectedOutcomeSet,u=e.outcomeSetList,d=e.onDeleteSet,_=e.defaultSelectOutcomeset,m=e.onInputChange;return(0,I.jsxs)(g.Z,{maxWidth:"sm",fullWidth:!0,open:n,children:[(0,I.jsx)(v.Z,{className:t.title,children:(0,S.d)("Add to Set").t("assess_set_add_to_set")}),(0,I.jsx)(b.Z,{className:t.dialogContent,dividers:!0,children:(0,I.jsx)(gs,{title:(0,S.d)("Select or create a new one").t("assess_set_select_create"),showChipList:!0,showSetList:a,onSearchOutcomeSet:o,onCreateOutcomeSet:i,onSetOutcomeSet:function(e){return l(e)},selectedOutcomeSet:c,outcomeSetList:u,onDeleteSet:function(e){d(e)},defaultSelectOutcomeset:_,onInputChange:m})}),(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(k.Z,{onClick:r,disableRipple:!0,color:"primary",variant:"outlined",children:(0,S.d)("CANCEL").t("general_button_CANCEL")}),(0,I.jsx)(Mt,{color:"primary",variant:"contained",className:t.okBtn,onClick:s,children:(0,S.d)("CONFIRM").t("general_button_CONFIRM")})]})]})}var xs=(0,L.Z)((function(e){return{fieldsCon:{width:"100%",display:"flex",flexWrap:"wrap",marginBottom:20},fieldsItem:{width:"48%"},title:{borderBottom:"1px solid #eeeeee"},okBtn:{marginLeft:"40px !important"},downloadA:{display:"block",textDecoration:"none",color:"#fff",width:"calc(100% + 16px)",height:"calc(100% + 6px)"},closeBtn:{position:"absolute",top:e.spacing(1),right:e.spacing(1)}}}));function ys(e){var t=xs(),n=e.open,r=e.list,s=e.defaultFields,a=e.onClose,o=e.onBulkDownload,i=(e.onChangeFields,(0,w.cI)()),c=(i.control,i.watch),u=c().FIELDS,d=(0,l.useMemo)((function(){return[{label:"Learning Outcome Name",value:"outcome_name",checked:!0,readonly:!1},{label:"Short Code",value:"shortcode",checked:!0,readonly:!1},{label:"Assumed",value:"assumed",checked:!1,readonly:!1},{label:"Score Threshold",value:"score_threshold",checked:!0,readonly:!1},{label:"Program",value:"program",checked:!0,readonly:!0},{label:"Subject",value:"subject",checked:!0,readonly:!0},{label:"Category",value:"category",checked:!0,readonly:!0},{label:"Subcategory",value:"subcategory",checked:!0,readonly:!0},{label:"Learning Outcome Set",value:"sets",checked:!1,readonly:!1},{label:"Age",value:"age",checked:!1,readonly:!1},{label:"Grade",value:"grade",checked:!1,readonly:!1},{label:"Keywords",value:"keywords",checked:!1,readonly:!1},{label:"Description",value:"description",checked:!1,readonly:!1},{label:"Author",value:"author",checked:!1,readonly:!1},{label:"Created On",value:"updated_at",checked:!0,readonly:!1},{label:"Milestones",value:"milestones",checked:!1,readonly:!1}]}),[]),_=(0,l.useMemo)((function(){return d.map((function(e){var t=u||s;return(0,p.Z)((0,p.Z)({},e),{},{checked:t.indexOf(e.value)>=0})}))}),[s,d,u]);return(0,I.jsxs)(g.Z,{open:n,fullWidth:!0,maxWidth:"sm",children:[(0,I.jsxs)(v.Z,{className:t.title,children:[(0,S.d)("Download").t("assessment_lo_download"),(0,I.jsx)(gt.Z,{onClick:a,className:t.closeBtn,children:(0,I.jsx)(bt.Z,{})})]}),(0,I.jsx)(b.Z,{children:(0,I.jsxs)("div",{className:t.fieldsCon,children:[(0,I.jsx)(se.Z,{children:(0,S.t)("assessment_lo_download_object_quantity",{quantity:r.length.toString()})}),!1]})}),(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(k.Z,{autoFocus:!0,onClick:a,color:"primary",variant:"outlined",children:(0,S.d)("CANCEL").t("general_button_CANCEL")}),(0,I.jsx)(js,{list:r,fields:_,label:(0,S.d)("CONFIRM").t("general_button_CONFIRM"),onClick:o})]})]})}function js(e){var t,n=xs(),r=e.list,s=e.fields,a=e.label,o=e.onClick,i=r[0]&&(null===(t=r[0].outcome_name)||void 0===t?void 0:t.split(" ").join("_").slice(0,20)),c="".concat(function(e){var t=e?new Date(1e3*Number(e)):new Date,n=t.getFullYear(),r=t.getMonth()+1,s=r<10?"0".concat(r):r,a=t.getDate(),o=a<10?"0".concat(a):a,i=t.getHours(),l=i<10?"0".concat(i):i,c=t.getMinutes(),u=c<10?"0".concat(c):c;return"".concat(n).concat(s).concat(o).concat(l).concat(u)}(),"_").concat(i),u=(0,l.useMemo)((function(){var e="";s.forEach((function(t){t.checked&&(e+="".concat(t.label,","))}));var t=r.map((function(e){var t={};return s.forEach((function(n){if(n.checked){var r=n.value;t[r]=e[r]}})),(0,p.Z)({},t)})),n="".concat(e,"\n");return t.forEach((function(e){Object.keys(e).forEach((function(t){var r=e[t];n+=r instanceof Array?'"'.concat(r.join(";"),'",'):"updated_at"===t?"\t".concat(dt(r),","):"score_threshold"===t?"".concat((100*r).toFixed(0),"%,"):'"\t'.concat(r,'",')})),n+="\n"})),"data:text/csv;charset=utf-8,\ufeff"+encodeURIComponent(n)}),[s,r]);return(0,I.jsx)(k.Z,{color:"primary",variant:"contained",className:n.okBtn,href:u,download:"".concat(c,".csv"),onClick:function(e){o()||e.preventDefault()},children:a})}var Zs=n(34005),Cs=n(54585),ks=n(54241),ws=n(23057),Ss=n(63594),As=n(29798),Ns=n(51625),Bs=n(84149),Is=n(944),Ps=["ref"],Es=(0,Mr.Z)((function(e){return{tooltip:{backgroundColor:e.palette.common.white,color:"rgba(0, 0, 0, 0.87)",boxShadow:e.shadows[1],fontSize:12}}}))(Wn.ZP),Fs=(0,L.Z)((function(e){return(0,D.Z)({iconColor:{color:"#D32F2F",padding:"0 0 0 10px"},approveIconColor:{color:"#4CAF50",padding:"0 0 0 10px"},rePublishColor:{color:"#0E78D5",padding:"0 0 0 10px"},pagination:{marginBottom:40},paginationUl:{justifyContent:"center",marginTop:30},checkbox:{padding:0,borderRadius:5,backgroundColor:"white"},tableHead:{height:80,backgroundColor:"#f2f5f7"},tableCell:{textAlign:"center",maxWidth:200,wordWrap:"break-word",wordBreak:"normal"},outcomeSet:{overflow:"hidden",display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:3,maxHeight:93},liCon:{textAlign:"left",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",listStylePosition:"inside"},disableTableRow:{"& td":{color:"rgba(0, 0, 0, 0.26)",backgroundColor:"transparent"}},disableTableCell:{position:"relative",zIndex:100,color:"rgba(0, 0, 0, 0.26)",backgroundColor:"transparent"},disableBtn:{opacity:.6,filter:"alpha(opacity=60)",pointerEvents:"none",cursor:"default"},lockWrap:{position:"absolute",top:0,left:0},trapezoidCon:{width:"27px",borderTop:"3px solid #d8e9f8",borderLeft:"2px solid #fff",borderRight:"2px solid #fff",height:0},lockCon:{width:0,height:0,borderTop:"22px solid #d8e9f8",borderLeft:"13.5px solid #d8e9f8",borderRight:"13.5px solid #d8e9f8",borderBottom:"5px solid #fff",textAlign:"center",borderRadius:"1px",position:"absolute",marginTop:1,marginLeft:2},lockTitle:{fontWeight:700},lockInfoWrap:{fontSize:14,height:28,lineHeight:"28px",color:"#000"},lockIcon:{fontSize:16,color:"#0f78d5",position:"absolute",top:-20,left:-8},lightGrayColor:{color:"#666"}})})),Os=function(e){return function(t){if(t.stopPropagation(),e)return e(t)}};function Ts(e){var t,n,r,s=Fs(),a=e.outcome,o=e.queryCondition,i=e.selectedContentGroupContext,l=e.onDelete,c=e.onClickOutcome,u=e.userId,d=e.onApprove,_=e.onReject,m=i.registerChange,p=i.hashValue,h=!(!a.locked_by||"-"===a.locked_by),f=a.score_threshold?Math.floor(100*a.score_threshold):0;return(0,I.jsxs)(Xt.Z,{className:h?s.disableTableRow:"",onClick:function(e){return c(a.outcome_id)},children:[(0,I.jsxs)(Kt.Z,{onClick:Os(),className:h?s.disableTableCell:"",style:{width:100},align:"center",padding:"checkbox",children:[h&&(0,I.jsx)(Es,{title:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:(0,Je.default)(s.lockInfoWrap,s.lockTitle),children:(0,S.d)("Lock Status").t("assess_in_lock_status")}),(0,I.jsxs)("div",{className:s.lockInfoWrap,children:[(0,I.jsxs)("span",{children:[(0,S.d)("Last edited by").t("assess_last_edited_by"),": "]}),(0,I.jsx)("span",{className:s.lightGrayColor,children:a.last_edited_by})]}),(0,I.jsxs)("div",{className:s.lockInfoWrap,children:[(0,I.jsxs)("span",{children:[(0,S.d)("Locked location").t("assess_locked_location"),": "]}),(0,I.jsx)("span",{className:s.lightGrayColor,children:null===(t=a.locked_location)||void 0===t?void 0:t.join(",")})]}),(0,I.jsxs)("div",{className:s.lockInfoWrap,children:[(0,I.jsxs)("span",{children:[(0,S.d)("Date edited").t("assess_date_edited"),": "]}),(0,I.jsx)("span",{className:s.lightGrayColor,children:mt(a.last_edited_at,"date")})]}),(0,I.jsxs)("div",{className:s.lockInfoWrap,children:[(0,I.jsxs)("span",{children:[(0,S.d)("Time edited").t("assess_time_edited"),": "]}),(0,I.jsx)("span",{className:s.lightGrayColor,children:mt(a.last_edited_at,"time")})]})]}),placement:"right",children:(0,I.jsxs)("div",{className:s.lockWrap,children:[(0,I.jsx)("div",{className:s.trapezoidCon}),(0,I.jsx)("div",{className:s.lockCon,children:(0,I.jsx)(As.Z,{className:s.lockIcon})})]})}),(0,I.jsx)(j.Z,{icon:(0,I.jsx)(Zs.Z,{viewBox:"3 3 18 18"}),checkedIcon:(0,I.jsx)(Cs.Z,{viewBox:"3 3 18 18"}),size:"small",className:s.checkbox,color:"secondary",value:a.outcome_id,checked:p[a.outcome_id]||!1,onClick:Os(),onChange:function(e){m(e)},disabled:h})]}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(s.tableCell),children:a.outcome_name}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(s.tableCell),children:a.shortcode}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(s.tableCell),children:null===(n=a.program)||void 0===n?void 0:n.map((function(e){return e.program_name})).join(",")}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(s.tableCell),children:a.assumed?(0,S.d)("Yes").t("assess_label_yes"):""}),(0,I.jsx)(Kt.Z,{className:s.tableCell,children:"".concat(f,"%")}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(s.tableCell),children:a.author_name}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(s.tableCell),children:_t(a.update_at)}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(s.tableCell),children:(0,I.jsx)("ul",{children:null===(r=a.sets)||void 0===r?void 0:r.map((function(e,t){return(0,I.jsx)("li",{className:s.liCon,children:e.set_name},"".concat(t).concat(e.set_name))}))})}),(0,I.jsxs)(Kt.Z,{className:(0,Je.default)(s.tableCell,h?s.disableBtn:""),children:[a.publish_status===We.nk.published&&(0,I.jsx)(kt.y3,{value:te.Z.delete_published_learning_outcome_448,children:(0,I.jsx)(Mt,{as:gt.Z,replace:!0,className:s.iconColor,onClick:Os((function(e){return l(a.outcome_id)})),children:(0,I.jsx)(ws.Z,{})})}),u!==a.author_id&&a.publish_status===We.nk.pending&&(0,I.jsx)(kt.y3,{value:te.Z.delete_org_pending_learning_outcome_447,children:(0,I.jsx)(Mt,{as:gt.Z,replace:!0,className:s.iconColor,onClick:Os((function(e){return l(a.outcome_id)})),children:(0,I.jsx)(ws.Z,{})})}),u===a.author_id&&a.publish_status===We.nk.pending&&(0,I.jsx)(kt.y3,{value:te.Z.delete_my_pending_learning_outcome_446,children:(0,I.jsx)(Mt,{as:gt.Z,replace:!0,className:s.iconColor,onClick:Os((function(e){return l(a.outcome_id)})),children:(0,I.jsx)(ws.Z,{})})}),a.publish_status===We.nk.pending&&!(0,Is.rl)(o)&&(0,I.jsx)(kt.y3,{value:te.Z.approve_pending_learning_outcome_481,children:(0,I.jsx)(Mt,{as:gt.Z,replace:!0,className:s.approveIconColor,onClick:Os((function(e){return d(a.outcome_id)})),children:(0,I.jsx)(Ss.Z,{})})}),a.publish_status===We.nk.pending&&!(0,Is.rl)(o)&&(0,I.jsx)(kt.y3,{value:te.Z.reject_pending_learning_outcome_482,children:(0,I.jsx)(Mt,{as:gt.Z,replace:!0,className:s.iconColor,onClick:Os((function(e){return _(a.outcome_id)})),children:(0,I.jsx)(ks.Z,{})})}),u!==a.author_id&&(a.publish_status===We.nk.draft||a.publish_status===We.nk.rejected)&&(0,I.jsx)(kt.y3,{value:te.Z.delete_org_unpublished_learning_outcome_445,children:(0,I.jsx)(Mt,{as:gt.Z,replace:!0,className:s.iconColor,onClick:Os((function(e){return l(a.outcome_id)})),children:(0,I.jsx)(ws.Z,{})})}),u===a.author_id&&(a.publish_status===We.nk.draft||a.publish_status===We.nk.rejected)&&(0,I.jsx)(kt.y3,{value:te.Z.delete_my_unpublished_learning_outcome_444,children:(0,I.jsx)(Mt,{as:gt.Z,replace:!0,className:s.iconColor,onClick:Os((function(e){return l(a.outcome_id)})),children:(0,I.jsx)(ws.Z,{})})})]})]})}function Ls(e){var t,n=Fs(),r=e.formMethods,s=e.list,a=e.total,o=e.userId,i=e.queryCondition,c=e.onPublish,u=e.onDelete,d=e.onChangePage,_=e.onClickOutcome,m=e.onApprove,f=e.onReject,g=null!==(t=e.amountPerPage)&&void 0!==t?t:20,v=(0,l.useMemo)((function(){return s.filter((function(e){return!e.locked_by||"-"===e.locked_by})).map((function(e){return e.outcome_id}))}),[s]),b=r.control;return(0,I.jsxs)(Bs.Z,{holderMin:40,holderBase:202,mainBase:1517,overflowX:"auto",children:[(0,I.jsx)(w.Qr,{name:be.Wk.CHECKED_BULK_IDS,control:b,defaultValue:[],render:function(e){var t=e.ref,r=(0,h.Z)(e,Ps);return(0,I.jsx)(B,(0,p.Z)((0,p.Z)({allValue:v},r),{},{render:function(e){return(0,I.jsx)(an.Z,{children:(0,I.jsxs)(dn.Z,{ref:t,children:[(0,I.jsx)(Yt.Z,{className:n.tableHead,children:(0,I.jsxs)(Xt.Z,{children:[(0,I.jsx)(Kt.Z,{align:"center",padding:"checkbox",children:(0,I.jsx)(j.Z,{icon:(0,I.jsx)(Zs.Z,{viewBox:"3 3 18 18"}),checkedIcon:(0,I.jsx)(Cs.Z,{viewBox:"3 3 18 18"}),size:"small",className:n.checkbox,color:"secondary",checked:e.isAllvalue,onChange:e.registerAllChange})}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(n.tableCell),children:(0,S.d)("Learning Outcomes").t("library_label_learning_outcomes")}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(n.tableCell),children:(0,S.d)("Short Code").t("assess_label_short_code")}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(n.tableCell),children:(0,S.d)("Program").t("assess_label_program")}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(n.tableCell),children:(0,S.d)("Assumed").t("assess_label_assumed")}),(0,I.jsx)(Kt.Z,{className:n.tableCell,children:(0,S.d)("Score Threshold").t("learning_outcome_label_threshold")}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(n.tableCell),children:(0,S.d)("Author").t("library_label_author")}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(n.tableCell),children:(0,S.d)("Created On").t("library_label_created_on")}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(n.tableCell),children:(0,S.d)("Learning Outcome Set").t("assess_set_learning_outcome_set")}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(n.tableCell),children:(0,S.d)("Actions").t("assess_label_actions")})]})}),(0,I.jsx)(_n.Z,{children:s.map((function(t,n){return(0,I.jsx)(Ts,{userId:o,outcome:t,onPublish:c,onDelete:u,queryCondition:i,selectedContentGroupContext:e,onClickOutcome:_,onApprove:m,onReject:f},t.outcome_id)}))})]})})}}))}}),(0,I.jsx)(Ns.Z,{page:i.page,className:n.pagination,classes:{ul:n.paginationUl},onChange:function(e,t){return d(t)},count:Math.ceil(a/g),color:"primary"})]})}var Ds=n(75321),Rs=n(73325),Ms=(0,L.Z)((function(e){return{searchText:{"& .assessment-MuiOutlinedInput-notchedOutline":{border:0,borderRadius:0}},exectSearchInput:{maxWidth:128,marignRgiht:-10,height:40,boxSizing:"border-box",background:"#F0F0F0","& .assessment-MuiOutlinedInput-notchedOutline":{border:0}},searchCon:{display:"inline-flex",border:"1px solid rgba(0,0,0,0.23)",borderRadius:4,boxSizing:"border-box",verticalAlign:"top"},searchBtn:{width:"120px",height:"40px",backgroundColor:"#0E78D5",marginLeft:"20px"}}}));function Ws(e){var t,n=Ms(),r=e.searchFieldList,s=e.searchFieldDefaultValue,a=e.searchTextDefaultValue,o=e.onSearch,i=e.formMethods.control;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:n.searchCon,children:[(0,I.jsx)(w.Qr,{as:Z.Z,name:"EXECT_SEARCH",control:i,className:n.exectSearchInput,size:"small",defaultValue:s,select:!0,SelectProps:{MenuProps:{transformOrigin:{vertical:-40,horizontal:"left"}}},children:(t=r,t.map((function(e){return(0,I.jsx)(Be.Z,{value:e.value,children:e.label},e.label)})))}),(0,I.jsx)(w.Qr,{style:{borderLeft:0},as:Z.Z,name:"SEARCH_TEXT_KEY",control:i,size:"small",className:n.searchText,onKeyPress:function(e){"Enter"===e.key&&o()},defaultValue:a,placeholder:(0,S.d)("Search").t("assess_label_search")})]}),(0,I.jsxs)(k.Z,{variant:"contained",color:"primary",className:n.searchBtn,onClick:o,children:[(0,I.jsx)(ms.Z,{})," ",(0,S.d)("Search").t("assess_label_search")]})]})}var zs=(0,L.Z)((function(e){return{root:{flexGrow:1,marginBottom:"20px"},createBtn:{width:"125px",borderRadius:"23px",height:"48px",backgroundColor:"#0E78D5",textTransform:"capitalize"},nav:{cursor:"pointer",fontWeight:"bold",marginRight:"3px",textTransform:"capitalize"},searchBtn:{width:"111px",height:"40px",backgroundColor:"#0E78D5",marginLeft:"20px"},formControl:{minWidth:136,marginLeft:"20px"},selectEmpty:{marginTop:e.spacing(2)},switch:{display:"none",marginRight:"22px"},navigation:{padding:"20px 0px 10px 0px"},actives:{color:"#0E78D5"},tabMb:{textAlign:"right",position:"relative"},switchBtn:{width:"60px",height:"40px"},capitalize:{textTransform:"capitalize"},tabs:{minHeight:"42px",height:"42px"}}})),Qs=function(e){return e.publish_status===We.nk.pending&&!e.is_unpub},qs=function(){return[{label:(0,S.d)("All").t("assess_filter_all"),value:be.n7.all},{label:(0,S.d)("Author").t("assess_label_author"),value:be.n7.author},{label:(0,S.d)("Description").t("assess_label_description"),value:be.n7.description},{label:(0,S.d)("Keywords").t("assess_label_keywords"),value:be.n7.keyWord},{label:(0,S.d)("Learning Outcome Name").t("assess_label_learning_outcome_name"),value:be.n7.loName},{label:(0,S.d)("Learning Outcome Set").t("assess_set_learning_outcome_set"),value:be.n7.loSet},{label:(0,S.d)("Short Code").t("assess_label_short_code"),value:be.n7.shortCode}]};function Us(e){var t=zs(),n=e.value,r=e.onChange,s=e.formMethods,a=(0,w.cI)().reset,o=(0,l.useState)(null),i=(0,Q.Z)(o,2),c=i[0],u=i[1];return(0,l.useEffect)((function(){a()}),[n.search_key,a]),(0,I.jsx)("div",{className:t.root,children:(0,I.jsx)(Bs.Z,{holderMin:40,holderBase:202,mainBase:1517,children:(0,I.jsx)(Pt.Z,{only:["md","lg","xl"],children:(0,I.jsxs)(ns.Z,{container:!0,spacing:3,children:[(0,I.jsx)(ns.Z,{item:!0,xs:8,sm:8,children:(0,I.jsx)(kt.y3,{value:te.Z.create_learning_outcome_421,children:(0,I.jsxs)(k.Z,{variant:"contained",color:"primary",className:t.createBtn,href:"#".concat(wa.routeBasePath),children:[(0,S.d)("Create").t("assess_label_create")," +"]})})}),(0,I.jsx)(ns.Z,{container:!0,item:!0,xs:4,sm:4,justifyContent:"flex-end",alignItems:"center",style:{fontSize:"24px"},children:!Qs(n)&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Rs.Z,{onClick:function(e){u(e.currentTarget)}}),(0,I.jsx)(Ds.Z,{anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:function(){u(null)},children:(0,I.jsx)(Be.Z,{selected:n.author_name===We.S3.self,onClick:function(e){u(null);var t=n.author_name===We.S3.self?void 0:We.S3.self;r((0,N.ZP)(n,(function(e){t?e.author_name=t:delete e.author_name})))},children:(0,S.d)("Show My Content").t("assess_label_my_only")})})]})}),(0,I.jsx)(ns.Z,{item:!0,xs:12,sm:12,style:{textAlign:"center"},children:(0,I.jsx)(Ws,{searchFieldList:qs(),searchFieldDefaultValue:n.exect_search||be.n7.all,searchTextDefaultValue:n.search_key||"",onSearch:function(){r((0,p.Z)((0,p.Z)({},n),{},{page:1}))},formMethods:s})})]})})})})}function Vs(e){var t=zs(),n=e.value,r=e.onChange,s=e.formMethods,a=(0,w.cI)().reset;return(0,l.useEffect)((function(){a()}),[n.search_key,a]),(0,I.jsx)("div",{className:t.root,children:(0,I.jsx)(Bs.Z,{holderMin:40,holderBase:202,mainBase:1517,children:(0,I.jsx)(Pt.Z,{only:["xs","sm"],children:(0,I.jsxs)(ns.Z,{container:!0,spacing:3,style:{marginTop:"6px"},children:[(0,I.jsx)(ns.Z,{item:!0,md:10,lg:8,xl:8,children:(0,I.jsx)(Ws,{searchFieldList:qs(),searchFieldDefaultValue:n.exect_search||be.n7.all,searchTextDefaultValue:n.search_key||"",onSearch:function(){r((0,p.Z)((0,p.Z)({},n),{},{page:1}))},formMethods:s})}),(0,I.jsx)(ns.Z,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",item:!0,md:2,lg:4,xl:4,children:Qs(n)?"":(0,I.jsx)(y.Z,{value:"end",control:(0,I.jsx)(j.Z,{color:"primary",checked:n.author_name===We.S3.self,onChange:function(e){var t=e.target.checked?We.S3.self:null;r((0,N.ZP)(n,(function(e){t?e.author_name=t:delete e.author_name})))}}),label:(0,S.d)("Show My Content").t("assess_label_my_only"),labelPlacement:"end"})})]})})})})}var Gs=n(36512),Hs=(0,L.Z)((function(e){return(0,D.Z)({tableCon:{backgroundColor:e.palette.common.white,width:"100%",height:"100%",overflow:"auto"},table:{borderSpacing:0,borderCollapse:"collapse"},cellSticky:{position:"sticky",top:-1,left:-1},cellBase:{minWidth:100,maxWidth:175,tableLayout:"fixed",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},topSticky:{position:"sticky",top:0,left:0},firstCell:{width:60,textAlign:"center"},fixCell:{backgroundColor:"rgb(242, 245, 247)",width:200,textAlign:"center",paddingTop:"16px",paddingBottom:"16px",zIndex:233},headCell:{minWidth:100,maxWidth:150,textAlign:"center"},leftCell:{textAlign:"left"},cell:{position:"relative",boxShadow:"inset -1px -1px 0px #F3F3F3",padding:e.spacing(1,2),backgroundColor:e.palette.common.white},errorIcon:{position:"absolute",top:"5px",right:"5px"},errorItem:{backgroundColor:"#FDF2F2"},rowItem:{borderBottom:"1px solid #ccc"},firstColumn:{boxShadow:"inset -1px -1px 0px #F3F3F3"}})})),Ks=(0,Mr.Z)({tooltip:{whiteSpace:"pre-wrap"}})(Wn.ZP);function Ys(e){var t=Hs(),n=e.headers,r=e.rows,s=e.errorInfo;return(0,I.jsx)("div",{className:t.tableCon,children:(0,I.jsxs)("table",{className:t.table,children:[(0,I.jsx)("thead",{children:(0,I.jsxs)("tr",{children:[(0,I.jsx)("th",{className:(0,Je.default)(t.cellSticky,t.fixCell,t.firstColumn),style:{zIndex:236},children:(0,I.jsx)("div",{className:t.firstCell,children:"Row"})}),n.map((function(e,n){var r=s.errorColumnsIndex.indexOf(n)>=0;return(0,I.jsx)("th",{className:(0,Je.default)(t.cellSticky,t.fixCell,t.headCell,r?t.errorItem:""),children:e.title},e.title)}))]})}),(0,I.jsx)("tbody",{children:r.map((function(e,r){var a=s.errorRowsIndex.indexOf(r)>=0;return(0,I.jsxs)("tr",{className:t.rowItem,children:[(0,I.jsx)("td",{className:(0,Je.default)(t.cellSticky,t.fixCell,t.firstColumn,a?t.errorItem:""),children:e.row_number}),n.map((function(n,r){var o,i,l,c,u=e[n.key],d=u instanceof Array,_=u instanceof Object,m=d?u:null===u||void 0===u||null===(o=u.value)||void 0===o?void 0:o.toString(),p=d?!!u.length&&u.filter((function(e){return!!e.error})).length:!!_&&(u.items?!!u.error:u.error instanceof Array?u.error.filter((function(e){return!!e})).length:!!u.error),h=p?d?(0,I.jsx)(I.Fragment,{children:u.map((function(e,t){var n=JSON.stringify(e.error)+t;return(0,I.jsx)("div",{children:e.error},n)}))}):u.error instanceof Array?u.error.length?(0,I.jsx)(I.Fragment,{children:u.error.map((function(e,t){return(0,I.jsx)("div",{children:e},e.toString()+t)}))}):"":u.error:"",f=s.errorColumnsIndex.indexOf(r)>=0,g=p||a||f;return(0,I.jsxs)("td",{className:(0,Je.default)(t.cell,g?t.errorItem:""),children:[!!p&&(0,I.jsx)(Ks,{title:h,children:(0,I.jsx)(Gs.Z,{className:t.errorIcon,color:"error"})}),d?(0,I.jsx)(I.Fragment,{children:u.map((function(e,n){var r=e instanceof Object?e.value:e;return!!r&&r.toString().length>0?(0,I.jsx)(Wn.ZP,{title:r,placement:"top-start",children:(0,I.jsx)("li",{className:(0,Je.default)(t.cellBase,t.leftCell),children:r})},"".concat(e.value+"","-").concat(n)):(0,I.jsx)("li",{className:(0,Je.default)(t.cellBase,t.leftCell),children:r},"".concat(e.value+"","-").concat(n))}))}):null!==u&&void 0!==u&&u.items?(0,I.jsx)(I.Fragment,{children:u.items.map((function(e,n){var r=e instanceof Object?e.value:e;return!!r&&r.toString().length>0?(0,I.jsx)(Wn.ZP,{title:r,placement:"top-start",children:(0,I.jsx)("li",{className:(0,Je.default)(t.cellBase,t.leftCell),children:r})},"".concat(e.value+"","-").concat(n)):(0,I.jsx)("li",{className:(0,Je.default)(t.cellBase,t.leftCell),children:r},"".concat(e.value+"","-").concat(n))}))}):(0,I.jsx)(I.Fragment,{children:m&&m.toString().length>0?(0,I.jsx)(Wn.ZP,{title:_?null===(i=u.value)||void 0===i?void 0:i.toString():u,placement:"top-start",children:(0,I.jsx)("div",{className:t.cellBase,children:_?null===(l=u.value)||void 0===l?void 0:l.toString():u})}):(0,I.jsx)("div",{className:t.cellBase,children:_?null===(c=u.value)||void 0===c?void 0:c.toString():u})})]},"".concat(n.key,"-").concat(r))}))]},"row-".concat(r))}))})]})})}var Xs=n(74337);var Js=n(19778).Buffer;function $s(e){var t=e.variant,n=void 0===t?"contained":t,r=e.label,s=e.onUploadSuccess,a=e.onUploadFail;return(0,I.jsxs)("label",{children:[(0,I.jsx)("input",{style:{display:"none"},accept:".csv",type:"file",onChange:function(e){var t=e.target.files,n=t&&t[0];if(n){if(n.type.includes("csv"))return new Promise((function(t){var r=new FileReader;r.readAsArrayBuffer(n),r.onload=function(e){null===(n=e.target)||void 0===n||n.result;var n,r,a=Js.from(null===(r=e.target)||void 0===r?void 0:r.result),o=function(e){for(var t=[],n=[],r="",s=!1,a=0,o=function(){n.push(r),r=""},i=function(){o(),t.push(n),n=[]},l=function(t){var n=e.charAt(t);if(","===n)o();else if("\r"===n)"\n"===e.charAt(t+1)&&a++,i();else{if("\n"!==n)return!1;i()}return!0};a<e.length;){var c=e.charAt(a),u=e.charAt(a+1);if(s||r||'"'!==c)if(s){if('"'!==c)r+=c;else if('"'===u)r+=c,a++;else if(s=!1,!l(++a))throw new Error("Wrong CSV format!")}else l(a)||(r+=c);else s=!0;a++}return r&&i(),n.length&&i(),t}(function(e){for(var t=0;t<e.length;)if(9===e[t]||10===e[t]||13===e[t]||32<=e[t]&&e[t]<=126)t+=1;else if(194<=e[t]&&e[t]<=223&&128<=e[t+1]&&e[t+1]<=191)t+=2;else if(224===e[t]&&160<=e[t+1]&&e[t+1]<=191&&128<=e[t+2]&&e[t+2]<=191||(225<=e[t]&&e[t]<=236||238===e[t]||239===e[t])&&128<=e[t+1]&&e[t+1]<=191&&128<=e[t+2]&&e[t+2]<=191||237===e[t]&&128<=e[t+1]&&e[t+1]<=159&&128<=e[t+2]&&e[t+2]<=191)t+=3;else{if(!(240===e[t]&&144<=e[t+1]&&e[t+1]<=191&&128<=e[t+2]&&e[t+2]<=191&&128<=e[t+3]&&e[t+3]<=191||241<=e[t]&&e[t]<=243&&128<=e[t+1]&&e[t+1]<=191&&128<=e[t+2]&&e[t+2]<=191&&128<=e[t+3]&&e[t+3]<=191||244===e[t]&&128<=e[t+1]&&e[t+1]<=143&&128<=e[t+2]&&e[t+2]<=191&&128<=e[t+3]&&e[t+3]<=191))return!1;t+=4}return!0}(new Uint8Array(a))?Xs.decode(a,"utf-8"):Xs.decode(a,"gbk")),i=o[0].filter((function(e){return!!e})),l=[];o.filter((function(e){return!!Object.values(e).join("")})).forEach((function(e){var t={},n=e.map((function(e){return e.replace(/\\\u201c/,"").replace(/\t/,"").replace(/"/g,"")})).map((function(e){return e.indexOf(";")>0?e.split(";"):e.indexOf("\uff1b")>0?e.split("\uff1b"):e}));i.forEach((function(e,r){e&&(t[e]=n[r])})),l.push(t)})),t({headers:i,contentsArray:l}),s(i,l)},e.target.files=null,e.target.value=""}));a(),e.target.files=null,e.target.value=""}}}),(0,I.jsx)(k.Z,{variant:n,color:"primary",component:"span",children:r})]})}var ea=(0,L.Z)((function(e){return(0,D.Z)({downloadA:{fontSize:"14px",color:"#0E78D5",textDecoration:"none"}})}));function ta(){var e=ea(),t=(0,l.useMemo)((function(){return[{label:"Learning Outcome Name",value:"outcome_name",checked:!0,readonly:!1},{label:"Short Code",value:"shortcode",checked:!0,readonly:!1},{label:"Assumed",value:"assumed",checked:!1,readonly:!1},{label:"Score Threshold",value:"score_threshold",checked:!0,readonly:!1},{label:"Program",value:"program",checked:!0,readonly:!0},{label:"Subject",value:"subject",checked:!0,readonly:!0},{label:"Category",value:"category",checked:!0,readonly:!0},{label:"Subcategory",value:"subcategory",checked:!0,readonly:!0},{label:"Learning Outcome Set",value:"sets",checked:!1,readonly:!1},{label:"Age",value:"age",checked:!1,readonly:!1},{label:"Grade",value:"grade",checked:!1,readonly:!1},{label:"Keywords",value:"keywords",checked:!1,readonly:!1},{label:"Description",value:"description",checked:!1,readonly:!1},{label:"Author",value:"author",checked:!1,readonly:!1},{label:"Created On",value:"updated_at",checked:!0,readonly:!1},{label:"Milestones",value:"milestones",checked:!1,readonly:!1}]}),[]),n=(0,l.useMemo)((function(){var e="";return t.forEach((function(t){e+="".concat(t.label,",")})),"data:text/csv;charset=utf-8,\ufeff"+encodeURIComponent(e)}),[t]),r="".concat(function(){var e=new Date,t=e.getMonth()+1,n=t<10?"0".concat(t):t,r=e.getDate(),s=r<10?"0".concat(r):r;return"".concat(n).concat(s)}(),"-Template-Bulk-Upload.csv");return(0,I.jsx)("a",{className:e.downloadA,download:r,href:n,children:(0,S.d)("Download CSV Template").t("assessment_lo_bulk_upload_template")})}var na=(0,L.Z)((function(e){return(0,D.Z)({title:{borderBottom:"1px solid #eeeeee"},closeBtn:{position:"absolute",top:"8px",right:e.spacing(1)},uploadBtn:{position:"absolute",top:"14px",right:e.spacing(7)},downloadTemplate:{position:"absolute",top:"14px",right:e.spacing(28)},okBtn:{marginLeft:"40px !important"},contentTitle:{fontWeight:600,color:"#000"},uploadInfo:{color:"#aaa"},firstInfo:{marginTop:5},errorInfo:{color:"rgb(206, 55, 46)",marginTop:5,marginBottom:0},tableCon:{width:"100%",height:"450px",paddingBottom:"16px"}})}));function ra(e){var t=na(),n=(0,u.I0)(),r=(0,l.useState)(be.vr.create),s=(0,Q.Z)(r,2),a=s[0],o=s[1],i=e.headers,c=e.createLoList,d=e.updateLoList,_=e.open,m=e.onClose,p=e.onUploadSuccess,h=e.onConfirm,f=d.length,x=c.length,y=f+x,j=(0,l.useMemo)((function(){var e=0,t=new Set,n=new Set;c.forEach((function(r,s){i.forEach((function(a,o){var i=r[a.key];i instanceof Array?i.some((function(e){return!!e.error}))&&(e+=1,t.add(s),n.add(o)):i&&i.error instanceof Array?i.error.some((function(e){return!!e}))&&(e+=1,t.add(s),n.add(o)):i&&i.error&&(e+=1,t.add(s),n.add(o))}))}));var r=Array.from(t),s=Array.from(n);return{errorCount:e,errorRowsIndex:r,errorColumnsIndex:s}}),[c,i]),Z=(0,l.useMemo)((function(){var e=0,t=new Set,n=new Set;d.forEach((function(r,s){i.forEach((function(a,o){var i=r[a.key];i instanceof Array?i.some((function(e){return!!e.error}))&&(e+=1,t.add(s),n.add(o)):i&&i.error instanceof Array?i.error.some((function(e){return!!e}))&&(e+=1,t.add(s),n.add(o)):i&&i.error&&(e+=1,t.add(s),n.add(o))}))}));var r=Array.from(t),s=Array.from(n);return{errorCount:e,errorRowsIndex:r,errorColumnsIndex:s}}),[d,i]),w=j.errorCount+Z.errorCount,N=j.errorRowsIndex.length+Z.errorRowsIndex.length,B=function(){var e=(0,l.useState)(!1),t=(0,Q.Z)(e,2),n=t[0],r=t[1],s=(0,l.useState)(0),a=(0,Q.Z)(s,2),o=a[0],i=a[1];return(0,l.useMemo)((function(){return{confirmDialogShowIndex:o,confirmDialogActive:n,openConfirmDialog:function(){i(o+1),r(!0)},closeConfirmDialog:function(){r(!1)}}}),[n,o,i])}(),P=B.confirmDialogActive,E=B.openConfirmDialog,F=B.closeConfirmDialog,O=(0,l.useMemo)((function(){return w>0||0===y}),[w,y]),T=function(e,t){P&&F(),p(e,t)},L=function(){return n((0,V.y6)((0,S.d)("Unsupported Format").t("library_error_unsupported_format")))},D=function(){var e=(0,X.Z)($().mark((function e(){var t,r,s;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(y>1)){e.next=13;break}return t=(0,S.d)("Are you discarding current data and leave?").t("assessment_lo_bulk_upload_discard_warning"),e.t0=Se.SI,e.next=5,n((0,A.xC)({content:t,confirmText:(0,S.d)("DISCARD").t("assessment_lo_bulk_upload_discard"),hideCancel:!1}));case 5:if(e.t1=e.sent,r=(0,e.t0)(e.t1),(s=r.isConfirmed)&&m(),s){e.next=11;break}return e.abrupt("return",Promise.reject());case 11:e.next=14;break;case 13:m();case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(g.Z,{open:_,fullWidth:!0,maxWidth:"lg",children:[(0,I.jsxs)(v.Z,{className:t.title,children:[(0,I.jsx)("span",{children:"Bulk Upload"}),(0,I.jsx)("span",{className:t.downloadTemplate,children:(0,I.jsx)(ta,{})}),(0,I.jsx)("div",{className:t.uploadBtn,children:y?(0,I.jsx)(k.Z,{color:"primary",variant:"contained",onClick:function(){E()},children:(0,S.d)("Upload CSV File").t("assessment_lo_bulk_upload_csv_file")}):(0,I.jsx)($s,{label:(0,S.d)("Upload CSV File").t("assessment_lo_bulk_upload_csv_file"),onUploadSuccess:T,onUploadFail:L})}),(0,I.jsx)(gt.Z,{onClick:D,className:t.closeBtn,children:(0,I.jsx)(bt.Z,{})})]}),(0,I.jsxs)(b.Z,{children:[(0,I.jsxs)("p",{className:t.firstInfo,children:[(0,I.jsx)("span",{className:t.contentTitle,children:(0,S.d)("Check all learning outcomes to upload.").t("assessment_lo_bulk_upload_check_notice")}),"\xa0\xa0\xa0\xa0\xa0",(0,I.jsx)("span",{className:t.uploadInfo,children:(0,S.t)("assessment_lo_bulk_upload_result",{count1:y,count2:x,count3:f})})]}),w>0&&(0,I.jsx)("p",{className:t.errorInfo,children:(0,S.t)("assessment_lo_bulk_upload_error_notice",{count:w,value:N})}),(0,I.jsxs)(as.Z,{value:a,onChange:function(e,t){o(t)},indicatorColor:"primary",textColor:"primary",centered:!0,children:[(0,I.jsx)(ss.Z,{label:(0,S.d)("Create").t("assessment_lo_bulk_upload_create"),value:be.vr.create}),(0,I.jsx)(ss.Z,{label:(0,S.d)("Modify").t("assessment_lo_bulk_upload_modify"),value:be.vr.modify})]}),(0,I.jsx)("div",{className:t.tableCon,children:a===be.vr.create?c.length?(0,I.jsx)(Ys,{headers:i||[],rows:c,errorInfo:j,requiredColumns:[6]}):pe:d.length?(0,I.jsx)(Ys,{headers:i||[],rows:d,errorInfo:Z,requiredColumns:[6]}):pe})]}),(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(k.Z,{onClick:D,disableRipple:!0,color:"primary",variant:"outlined",children:(0,S.d)("Cancel").t("assessment_lo_bulk_upload_cancel")}),(0,I.jsx)(k.Z,{color:"primary",variant:"contained",disabled:O,className:t.okBtn,onClick:function(){h()},children:(0,S.d)("Confirm").t("assessment_lo_bulk_upload_confirm")})]})]}),(0,I.jsx)(sa,{open:P,onClose:F,onUpload:T,onUploadFail:L})]})}function sa(e){var t=e.open,n=e.onClose,r=e.onUpload,s=e.onUploadFail;return(0,I.jsxs)(g.Z,{open:t,children:[(0,I.jsx)(v.Z,{}),(0,I.jsx)(b.Z,{children:(0,I.jsx)(x.Z,{children:(0,S.d)("Are you uploading another CSV file and discarding current data?").t("assessment_lo_bulk_reupload")})}),(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(k.Z,{onClick:n,disableRipple:!0,color:"primary",children:(0,S.d)("CANCEL").t("general_button_CANCEL")}),(0,I.jsx)($s,{variant:"text",label:(0,S.d)("UPLOAD").t("assessment_lo_bulk_upload_popup_upload"),onUploadSuccess:r,onUploadFail:s})]})]})}function aa(){var e=function(){var e=ke(),t=e.querys,n=e.search_key,r=e.publish_status,s=e.author_name,a=e.page,o=e.is_unpub,i=t.get("order_by")||void 0,c=t.get("exect_search")||be.n7.all;return(0,l.useMemo)((function(){return ye({search_key:n,publish_status:r,author_name:s,page:a,order_by:i,is_unpub:o,exect_search:c})}),[n,r,s,a,i,o,c])}(),t=(0,_.k6)(),n=(0,u.I0)(),r=function(){var e=(0,l.useState)(0),t=(0,Q.Z)(e,2),n=t[0],r=t[1],s=(0,l.useRef)(!1),a=(0,l.useMemo)((function(){return function(e){return e.then((function(e){return r(n+1),e}))}}),[n]);return(0,l.useEffect)((function(){return s.current=!0,function(){s.current=!1}})),{refreshKey:n,refreshWithDispatch:a}}(),s=r.refreshKey,a=r.refreshWithDispatch,o=(0,w.cI)(),i=o.watch,d=o.reset,m=o.getValues,h=i(be.Wk.CHECKED_BULK_IDS),g=(0,u.v9)((function(e){return e.outcome})),v=g.outcomeList,b=g.total,x=g.user_id,y=g.outcomeSetList,j=g.defaultSelectOutcomeset,Z=g.selectedIdsMap,C=g.downloadOutcomes,k=g.updateLoList,A=g.createLoList,B=(0,l.useState)(),P=(0,Q.Z)(B,2),E=P[0],F=P[1],O=(0,l.useMemo)((function(){var e=v.map((function(e){return e.outcome_id})),t=(0,Ae.cloneDeep)(Z);return e.forEach((function(e){t[e]=!!h&&!!(h.indexOf(e)>=0)})),n((0,cs.oT)(t)),Object.keys(t).filter((function(e){return t[e]}))}),[h,v,n]),T=(0,l.useState)((0,f.Z)(be.hQ)),L=(0,Q.Z)(T,2),D=L[0],R=L[1],M=(0,ve.gI)([te.Z.view_my_unpublished_learning_outcome_410,te.Z.view_org_unpublished_learning_outcome_411,te.Z.view_my_pending_learning_outcome_412,te.Z.view_org_pending_learning_outcome_413]),W=M.view_my_unpublished_learning_outcome_410||M.view_org_unpublished_learning_outcome_411||M.view_my_pending_learning_outcome_412||M.view_org_pending_learning_outcome_413,z=(0,l.useMemo)((function(){return void 0===M.view_my_unpublished_learning_outcome_410}),[M.view_my_unpublished_learning_outcome_410]),q=c().useState(!1),U=(0,Q.Z)(q,2),G=U[0],H=U[1],K=c().useState([]),Y=(0,Q.Z)(K,2),J=Y[0],ee=Y[1],re=function(){var e=(0,l.useState)(!1),t=(0,Q.Z)(e,2),n=t[0],r=t[1],s=(0,l.useState)(0),a=(0,Q.Z)(s,2),o=a[0],i=a[1];return(0,l.useMemo)((function(){return{addSetShowIndex:o,addSetActive:n,openAddSet:function(){i(o+1),r(!0)},closeAddSet:function(){r(!1)}}}),[n,o])}(),se=re.addSetActive,ae=re.openAddSet,oe=re.closeAddSet,ie=function(){var e=(0,l.useState)(!1),t=(0,Q.Z)(e,2),n=t[0],r=t[1],s=(0,l.useState)(0),a=(0,Q.Z)(s,2),o=a[0],i=a[1];return(0,l.useMemo)((function(){return{loFieldsShowIndex:o,loFieldsActive:n,openLoFields:function(){i(o+1),r(!0)},closeLoFields:function(){r(!1)}}}),[n,o])}(),le=ie.loFieldsActive,ce=ie.openLoFields,ue=ie.closeLoFields,de=function(){var e=(0,l.useState)(!1),t=(0,Q.Z)(e,2),n=t[0],r=t[1],s=(0,l.useState)(0),a=(0,Q.Z)(s,2),o=a[0],i=a[1];return(0,l.useMemo)((function(){return{uploadOutcomeShowIndex:o,uploadOutcomeActive:n,openUploadOutcome:function(){i(o+1),r(!0)},closeUploadOutcome:function(){r(!1)}}}),[n,o])}(),_e=de.uploadOutcomeActive,he=de.openUploadOutcome,fe=de.closeUploadOutcome,ge=function(){return n((0,cs.Ph)({})),a(n((0,cs.E_)(h)).then(Se.SI))},xe=function(){return n((0,cs.Ph)({})),a(n((0,cs.nM)(h)).then(Se.SI))},Ze=function(e){n((0,cs.Ph)({}));var r=(0,N.ZP)(e,(function(e){var t=m()[be.Wk.SEARCH_TEXT_KEY];t?e.search_key=t:delete e.search_key;var n=m()[be.Wk.EXECT_SEARCH];e.exect_search=n}));t.push({search:je(ye(r))})},Ce=function(){return n((0,cs.Ph)({})),a(n((0,cs.to)(h)).then(Se.SI))},we=function(){return n((0,cs.Ph)({})),a(n((0,cs.tB)(h)).then(Se.SI))},Ne=function(){if(!h||!h.length)return n((0,V.WQ)((0,S.d)("At least one learning outcome should be selected.").t("assess_msg_remove_select_one")));var t=function(e,t,n){return!(t.filter((function(t){return e.indexOf(t.outcome_id)>=0})).findIndex((function(e){return e.author_id!==n}))>=0)}(h,v,x);if((e.publish_status===We.nk.draft||e.publish_status===We.nk.rejected)&&!t)return n((0,V.WQ)((0,S.d)("You can only do bulk action to your own learning outcomes.").t("assess_msg_set_myonly")));ee([]),ae(),H(!1)},Be=function(){var e=(0,X.Z)($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((0,cs.Ph)({})),t=J.map((function(e){return e.set_id})),e.next=4,a(n((0,cs.$c)({outcome_ids:h,set_ids:t})).then(Se.SI));case 4:oe();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=(0,X.Z)($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.trim()){e.next=3;break}return H(!1),e.abrupt("return");case 3:return e.next=5,n((0,cs.El)({set_name:t}));case 5:H(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=(0,X.Z)($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n((0,cs.RG)({set_name:t}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=(0,X.Z)($().mark((function e(){var t,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={is_locked:!1,page:1,page_size:50},e.next=3,n((0,cs.ez)((0,p.Z)((0,p.Z)({},t),{},{metaLoading:!0})));case 3:r=e.sent,r.payload&&ce();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=(0,X.Z)($().mark((function e(){var t,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O.length){e.next=2;break}return e.abrupt("return",n((0,V.WQ)((0,S.d)("At least one learning outcome should be selected.").t("assess_msg_remove_select_one"))));case 2:return t={outcome_ids:O,is_locked:!1,page:1,page_size:50},e.next=5,n((0,cs.ez)((0,p.Z)((0,p.Z)({},t),{},{metaLoading:!0})));case 5:r=e.sent,r.payload&&ce();case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){n((0,cs.ZF)()),he()},Te=function(){var r=(0,X.Z)($().mark((function r(){var s;return $().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n((0,cs.PH)({metaLoading:!0}));case 2:s=r.sent,s.payload.exist_error||(fe(),t.push({search:je((0,p.Z)((0,p.Z)({},e),{},{publish_status:"pending",page:1,is_unpub:""}))}));case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return(0,l.useEffect)((function(){var n=e.page;0===v.length&&b&&b>1&&(n=1,t.push({search:je((0,p.Z)((0,p.Z)({},e),{},{page:n}))}))}),[e,e.page,t,v.length,b]),(0,l.useEffect)((function(){(0,X.Z)($().mark((function t(){var r,s,a;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n((0,cs.G5)((0,p.Z)((0,p.Z)({},e),{},{metaLoading:!0})));case 2:s=Object.keys(Z).filter((function(e){return Z[e]})),r={},(0,ne.Z)(r,be.Wk.CHECKED_BULK_IDS,s),(0,ne.Z)(r,be.Wk.SEARCH_TEXT_KEY,""),(0,ne.Z)(r,be.Wk.EXECT_SEARCH,be.n7.all),a=r,setTimeout((function(){d(a)}),100);case 5:case"end":return t.stop()}}),t)})))()}),[e,d,n,s]),(0,I.jsxs)("div",{children:[(0,I.jsx)(ii,{}),(0,I.jsx)(li,{}),W&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Vs,{formMethods:o,value:e,onChange:Ze}),(0,I.jsx)(Us,{formMethods:o,value:e,onChange:Ze}),(0,I.jsx)(Is.y8,{value:e,selectedIdsLength:O.length,onChange:Ze,onBulkPublish:ge,onBulkDelete:xe,onBulkApprove:Ce,onBulkReject:we,onBulkAddSet:Ne,onBulkDownloadAll:Ee,onBulkDownloadSelected:Fe,onUpload:Oe}),(0,I.jsx)(Is.rz,{value:e,selectedIdsLength:O.length,onChange:Ze,onBulkPublish:ge,onBulkDelete:xe,onBulkApprove:Ce,onBulkReject:we,onBulkAddSet:Ne,onBulkDownloadAll:Ee,onBulkDownloadSelected:Fe,onUpload:Oe})]}),z?"":W?void 0===b?"":v&&v.length>0?(0,I.jsx)(Ls,{formMethods:o,list:v,total:b,userId:x,queryCondition:e,onChangePage:function(n){t.push({search:je((0,p.Z)((0,p.Z)({},e),{},{page:n}))})},onClickOutcome:function(r){n((0,cs.Ph)({})),t.push({pathname:wa.routeBasePath,search:je(ye({outcome_id:r,is_unpub:e.is_unpub}))})},onPublish:function(e){return n((0,cs.Ph)({})),a(n((0,cs.Bb)(e)).then(Se.SI))},onDelete:function(e){return n((0,cs.Ph)({})),a(n((0,cs.g2)(e)).then(Se.SI))},onApprove:function(e){return n((0,cs.Ph)({})),a(n((0,cs.dE)(e)).then(Se.SI))},onReject:function(e){return n((0,cs.Ph)({})),a(n((0,cs.yn)({id:e})).then(Se.SI))}}):pe:me,(0,I.jsx)(bs,{open:se,onClose:oe,onAddSet:Be,showSetList:G,onSearchOutcomeSet:Ie,onCreateOutcomeSet:Pe,onSetOutcomeSet:function(e){var t=ct(e,J),n=it(t,y),r=J.concat(n);ee(r||[]),H(!1)},selectedOutcomeSet:J,outcomeSetList:y,onDeleteSet:function(e){var t=lt(e,J),n=(0,Ae.cloneDeep)(J);n.splice(t,1),ee(n)},defaultSelectOutcomeset:j,onInputChange:function(){G&&H(!1)}}),(0,I.jsx)(ys,{open:le,list:null!==C&&void 0!==C?C:[],defaultFields:D,onClose:ue,onBulkDownload:function(){var t;n((0,cs.Ph)({}));var r=(t={},(0,ne.Z)(t,be.Wk.CHECKED_BULK_IDS,[]),(0,ne.Z)(t,be.Wk.SEARCH_TEXT_KEY,e.search_key),(0,ne.Z)(t,be.Wk.EXECT_SEARCH,e.exect_search),t);return d(r),ue(),!0},onChangeFields:function(e){R(e)}}),(0,I.jsx)(ra,{open:_e,headers:E||[],createLoList:A,updateLoList:k,onClose:fe,onUploadSuccess:function(e,t){var r=Object.values({outcome_name:"Learning Outcome Name",shortcode:"Short Code",assumed:"Assumed",score_threshold:"Score Threshold",program:"Program",subject:"Subject",category:"Category",subcategory:"Subcategory",sets:"Learning Outcome Set",age:"Age",grade:"Grade",keywords:"Keywords",description:"Description",author:"Author",updated_at:"Created On",milestones:"Milestones"});if(!e.every((function(e,t){return e===r[t]})))return n((0,cs.ZF)()),n((0,V.y6)((0,S.d)("Error in parsing columns! Please use the CSV template file and upload again.").t("assessment_lo_bulk_upload_parse_error")));if(!t.length||t.length>201)return n((0,cs.ZF)()),n((0,V.y6)((0,S.d)("The CSV file must contain 1~200 learning outcomes! Please check the CSV file and upload again.").t("assessment_lo_bulk_upload_limit")));var s=function(e,t){var n={outcome_name:"Learning Outcome Name",shortcode:"Short Code",assumed:"Assumed",score_threshold:"Score Threshold",program:"Program",subject:"Subject",category:"Category",subcategory:"Subcategory",sets:"Learning Outcome Set",age:"Age",grade:"Grade",keywords:"Keywords",description:"Description",author:"Author",updated_at:"Created On",milestones:"Milestones"};return{headers:e.filter((function(e){return!!e})).map((function(e){var t=Object.entries(n).find((function(t){return t[1]===e}));return{title:e,key:t?t[0]:""}})),loArray:t.filter((function(e,t){return 0!==t})).map((function(e,t){var r,s,a,o,i,l;return{row_number:t+2,outcome_name:null===(r=e[n.outcome_name])||void 0===r?void 0:r.trim(),shortcode:null===(s=e[n.shortcode])||void 0===s?void 0:s.trim(),assumed:null===(a=e[n.assumed])||void 0===a?void 0:a.trim(),score_threshold:null===(o=e[n.score_threshold])||void 0===o?void 0:o.trim(),program:ft(e[n.program]),subject:ht(e[n.subject]),category:ft(e[n.category]),subcategory:ht(e[n.subcategory]),sets:ht(e[n.sets]),age:ht(e[n.age]),grade:ht(e[n.grade]),keywords:ht(e[n.keywords]),description:ft(e[n.description]),author:null===(i=e[n.author])||void 0===i?void 0:i.trim(),updated_at:null===(l=e[n.updated_at])||void 0===l?void 0:l.trim(),milestones:ht(e[n.milestones])}}))}}(e,t),a=s.headers,o=s.loArray;F(a),n((0,cs.P1)({loArray:o,metaLoading:!0}))},onConfirm:Te})]})}aa.routeBasePath="/assessments/outcome-list",aa.routeRedirectDefault="/assessments/outcome-list?publish_status=published&page=1&order_by=".concat(We.if._updated_at);var oa=["encode","decode","value","defaultValue","onChange"],ia=(0,l.forwardRef)((function(e,t){var n=e.encode,r=void 0===n?String:n,s=e.decode,a=e.value,o=e.defaultValue,i=e.onChange,c=(0,h.Z)(e,oa),u=(0,l.useMemo)((function(){return function(e){i&&i(s(e.target.value))}}),[i,s]),d=c;return null!=a&&(d.value=r(a)),null!=o&&(d.defaultValue=r(o)),(0,I.jsx)(Z.Z,(0,p.Z)((0,p.Z)({},d),{},{ref:t,onChange:u}))})),la=function(e){return e.split(",")},ca=function(e){return e[0]||""},ua=function(e){return e?[e]:[]},da=function(e){return e.replace(/^[\s\n\t]+/g,"")},_a=(0,L.Z)((function(e){return{outcomings_container:{width:"100%",boxSizing:"border-box"},marginItem:{marginBottom:"40px"},middleBox:{padding:"50px 20%"},checkBox:{width:"100%",border:"1px solid #bbb",borderRadius:"4px",display:"flex",justifyContent:"flex-end",position:"relative"},checkLabel:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",margin:0,padding:0},chip:{borderRadius:"4px",fontSize:16,margin:e.spacing(.5)},outcomesetCon:{"& .assessment-MuiInputAdornment-root":{display:"flex",flexWrap:"wrap",height:"auto",maxHeight:"fit-content",padding:"8px 0"},"& .assessment-MuiInputBase-input":{width:0}},milestoneCon:{"& .assessment-MuiInputBase-input":{wordBreak:"break-all"}}}}));function ma(e){var t,n=e.outcome_id,r=e.showEdit,s=e.formMethods,a=s.control,o=s.errors,i=e.outcomeDetail,c=e.onChangeProgram,u=e.onChangeDevelopmental,d=e.handleCheckBoxChange,_=e.onChangeSubject,m=e.isAssumed,h=e.newOptions,f=e.showSetList,g=e.onSearchOutcomeSet,v=e.onCreateOutcomeSet,b=e.onSetOutcomeSet,x=e.selectedOutcomeSet,y=e.outcomeSetList,C=e.onDeleteSet,k=e.defaultSelectOutcomeset,A=e.onInputChange,N=_a(),B=(0,l.useState)(""),P=(0,Q.Z)(B,2),E=P[0],F=P[1],O=function(e){return e.map((function(e){return(0,I.jsx)(Be.Z,{value:e.id,children:e.name},e.id)}))},T=(0,l.useMemo)((function(){return i&&i.sets&&i.sets.length?i.sets.map((function(e){return e.set_name})).join(";"):""}),[i]),L=function(e){C(e)},D=i.shortcode?i.shortcode:"";return(0,I.jsx)(re.Z,{className:N.outcomings_container,children:(0,I.jsxs)("div",{className:N.middleBox,children:[(0,I.jsxs)(re.Z,{style:{borderBottom:"1px solid #d7d7d7",marginBottom:"40px"},children:[i.publish_status&&"rejected"===i.publish_status&&n&&(0,I.jsx)(ns.Z,{container:!0,children:(0,I.jsx)(ns.Z,{item:!0,lg:5,xl:5,md:5,sm:12,xs:12,className:N.marginItem,children:(0,I.jsx)(w.Qr,{name:"reject_reason",control:a,multiline:!0,as:Z.Z,defaultValue:i.reject_reason,fullWidth:!0,label:(0,S.d)("Reason").t("assess_label_reason"),disabled:!0})})}),(0,I.jsxs)(ns.Z,{container:!0,justifyContent:"space-between",children:[(0,I.jsx)(ns.Z,{item:!0,lg:5,xl:5,md:5,sm:12,xs:12,className:N.marginItem,children:(0,I.jsx)(w.Qr,{name:"outcome_name",as:Z.Z,control:a,fullWidth:!0,label:(0,S.d)("Learning Outcome Name").t("assess_label_learning_outcome_name"),disabled:r,defaultValue:n?i.outcome_name:"",rules:{required:!0},error:!!o.outcome_name})}),(0,I.jsx)(ns.Z,{item:!0,lg:5,xl:5,md:5,sm:12,xs:12,className:N.marginItem,children:(0,I.jsx)(w.Qr,{name:"shortcode",as:Z.Z,control:a,defaultValue:D,fullWidth:!0,label:(0,S.d)("Short Code").t("assess_label_short_code"),disabled:r,inputProps:{maxLength:5},error:!!o.shortcode,rules:{validate:function(e){var t=e.trim();if(t.length&&(t.length<5||!/^[0-9A-Z]+$/.test(t)))return!1}},helperText:(0,S.d)("The short code needs to be five characters long, 0-9, A-Z.").t("assess_msg_short_code_error")},"".concat(D,"1"))}),(0,I.jsxs)(ns.Z,{item:!0,lg:5,xl:5,md:5,sm:12,xs:12,className:"".concat(N.checkBox," ").concat(N.marginItem),children:[(0,I.jsx)(w.Qr,{name:"assumed",control:a,defaultChecked:n?i.assumed:m,disabled:r,render:function(){return(0,I.jsx)(j.Z,{checked:m,disabled:r,onChange:d})}}),(0,I.jsx)("p",{className:N.checkLabel,style:{color:r?"rgba(0, 0, 0, 0.5)":"rgba(0, 0, 0, 0.8)"},children:(0,S.d)("Assumed").t("assess_label_assumed")})]}),(0,I.jsx)(ns.Z,{item:!0,lg:5,xl:5,md:5,sm:12,xs:12,className:N.marginItem,children:(0,I.jsx)(w.Qr,{name:"score_threshold",control:a,as:Z.Z,variant:"outlined",defaultValue:n?i.score_threshold:m?0:80,fullWidth:!0,label:(0,S.d)("Score Threshold").t("learning_outcome_label_threshold"),disabled:!!m||r,InputProps:{endAdornment:(0,I.jsx)(vt.Z,{position:"end",children:"%"})},error:!!o.score_threshold,helperText:E,rules:{validate:function(e){if(!m){if("0"===e)return F((0,S.t)("learning_outcome_threshold_error_toast")),!1;if(!e)return F((0,S.t)("learning_outcome_threshold_blank_alert")),!1;if(!/^(?:\d?\d|100)$/.test(e))return F((0,S.t)("learning_outcome_threshold_error_toast")),!1;F("")}}}})}),n&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(ns.Z,{item:!0,lg:5,xl:5,md:5,sm:12,xs:12,className:N.marginItem,children:(0,I.jsx)(w.Qr,{name:"created_at",control:a,defaultValue:dt(i.update_at),fullWidth:!0,disabled:!0,size:"small",render:function(){return(0,I.jsx)(Z.Z,{value:dt(i.update_at),fullWidth:!0,label:(0,S.d)("Created On").t("assess_label_created_on"),disabled:!0,size:"small"})}})}),(0,I.jsx)(ns.Z,{item:!0,lg:5,xl:5,md:5,sm:12,xs:12,className:N.marginItem,children:(0,I.jsx)(w.Qr,{name:"author_name",control:a,as:Z.Z,defaultValue:i.author_name,fullWidth:!0,label:(0,S.d)("Author").t("assess_label_author"),disabled:!0,size:"small"})})]})]})]}),(0,I.jsxs)(re.Z,{style:{paddingBottom:"10px",borderBottom:"1px solid #d7d7d7"},children:[(0,I.jsxs)(ns.Z,{container:!0,justifyContent:"space-between",children:[(0,I.jsx)(ns.Z,{item:!0,lg:5,xl:5,md:5,sm:12,xs:12,className:N.marginItem,children:(0,I.jsx)(w.Qr,{name:"program",defaultValue:i.program,control:a,rules:{validate:function(e){return e.length>0}},render:function(e){return(0,I.jsx)(ia,(0,p.Z)((0,p.Z)({select:!0,error:!!o.program,label:(0,S.d)("Program").t("assess_label_program"),encode:ca,decode:ua},e),{},{onChange:function(t){c(t),e.onChange(t)},required:!0,fullWidth:!0,disabled:r,children:O(h.program)}))}})}),(0,I.jsx)(ns.Z,{item:!0,lg:5,xl:5,md:5,sm:12,xs:12,className:N.marginItem,children:(0,I.jsx)(w.Qr,{name:"subject",defaultValue:n?i.subject:[],control:a,rules:{validate:function(e){return e.length>0}},render:function(e){return(0,I.jsx)(Z.Z,(0,p.Z)((0,p.Z)({select:!0,error:!!o.subject,label:(0,S.d)("Subject").t("assess_label_subject")},e),{},{onChange:function(t){var n=t.target.value;n.length>0&&_(n),n.length>0&&e.onChange(n)},fullWidth:!0,disabled:r,SelectProps:{multiple:!0},required:!0,children:O(h.subject)}))}})})]}),(0,I.jsxs)(ns.Z,{container:!0,justifyContent:"space-between",children:[(0,I.jsx)(ns.Z,{item:!0,lg:5,xl:5,md:5,sm:12,xs:12,className:N.marginItem,children:(0,I.jsx)(w.Qr,{name:"developmental",defaultValue:i.developmental,control:a,rules:{validate:function(e){return e.length>0}},render:function(e){return(0,I.jsx)(ia,(0,p.Z)((0,p.Z)({select:!0,error:!!o.developmental,label:(0,S.d)("Category").t("library_label_category"),encode:ca,decode:ua},e),{},{onChange:function(t){u(t),e.onChange(t)},fullWidth:!0,required:!0,disabled:r,children:O(h.developmental)}))}})}),(0,I.jsx)(ns.Z,{item:!0,lg:5,xl:5,md:5,sm:12,xs:12,className:N.marginItem,children:(0,I.jsx)(w.Qr,{as:Z.Z,select:!0,SelectProps:{multiple:!0},label:(0,S.d)("Subcategory").t("library_label_subcategory"),name:"skills",defaultValue:n?i.skills:[],control:a,disabled:r,fullWidth:!0,children:O(h.skills)})})]}),(0,I.jsxs)(ns.Z,{container:!0,justifyContent:"space-between",children:[(0,I.jsx)(ns.Z,{item:!0,lg:5,xl:5,md:5,sm:12,xs:12,className:N.marginItem,children:(0,I.jsx)(w.Qr,{as:Z.Z,select:!0,SelectProps:{multiple:!0},label:(0,S.d)("Age").t("assess_label_age"),name:"age",defaultValue:n?i.age:[],control:a,disabled:r,fullWidth:!0,children:O(h.age)})}),(0,I.jsx)(ns.Z,{item:!0,lg:5,xl:5,md:5,sm:12,xs:12,className:N.marginItem,children:(0,I.jsx)(w.Qr,{as:Z.Z,select:!0,SelectProps:{multiple:!0},label:(0,S.d)("Grade").t("assess_label_grade"),name:"grade",defaultValue:n?i.grade:[],control:a,disabled:r,fullWidth:!0,children:O(h.grade)})})]}),(0,I.jsx)(ns.Z,{container:!0,justifyContent:"space-between",className:N.marginItem,children:(0,I.jsxs)(ns.Z,{item:!0,lg:12,xl:12,md:12,sm:12,xs:12,children:[r&&(0,I.jsx)(Z.Z,{label:(0,S.d)("Learning Outcome Set").t("assess_set_learning_outcome_set"),fullWidth:!0,disabled:!0,variant:"outlined",multiline:!0,value:T}),!r&&(0,I.jsx)(w.Qr,{name:"sets",control:a,defaultValue:x.length?x:[],disabled:r,fullWidth:!0,multiline:!0,render:function(){return(0,I.jsx)(Z.Z,{fullWidth:!0,disabled:r,className:N.outcomesetCon,label:(0,S.d)("Learning Outcome Set").t("assess_set_learning_outcome_set"),InputProps:{readOnly:!0,startAdornment:(0,I.jsx)(vt.Z,{position:"start",children:x.map((function(e){return(0,I.jsx)(_s.Z,{className:N.chip,deleteIcon:(0,I.jsx)(ps.Z,{}),label:e.set_name,onDelete:function(t){return L(e.set_id)}},e.set_id)}))})}})}})]})}),(0,I.jsxs)(ns.Z,{container:!0,justifyContent:"space-between",className:N.marginItem,children:[(0,I.jsx)(ns.Z,{item:!0,lg:5,xl:5,md:5,sm:12,xs:12,children:!r&&(0,I.jsx)(gs,{title:(0,S.d)("Add more sets").t("assess_set_add_more_sets"),showSetList:f,onSearchOutcomeSet:g,onCreateOutcomeSet:v,onSetOutcomeSet:function(e){return b(e)},selectedOutcomeSet:x,outcomeSetList:y,onDeleteSet:L,defaultSelectOutcomeset:k,onInputChange:A})}),(0,I.jsx)(ns.Z,{item:!0,lg:5,xl:5,md:5,sm:12,xs:12,style:{marginTop:"22px"},children:(0,I.jsx)(w.Qr,{as:ia,control:a,name:"keywords",decode:la,defaultValue:n?i.keywords:[],label:(0,S.d)("Keywords").t("assess_label_keywords"),helperText:"",fullWidth:!0,disabled:r})})]}),n&&(0,I.jsx)(ns.Z,{container:!0,justifyContent:"space-between",className:N.marginItem,children:(0,I.jsx)(ns.Z,{item:!0,lg:12,xl:12,md:12,sm:12,xs:12,children:(0,I.jsx)(Z.Z,{label:(0,S.t)("assess_label_milestone"),fullWidth:!0,disabled:!0,variant:"outlined",className:N.milestoneCon,multiline:!0,maxRows:3,value:(null===(t=i.milestones)||void 0===t?void 0:t.map((function(e){return e.milestone_name})).join(","))||""})})})]}),(0,I.jsx)(re.Z,{style:{marginTop:40},children:(0,I.jsx)(ns.Z,{container:!0,justifyContent:"space-between",className:N.marginItem,children:(0,I.jsx)(ns.Z,{item:!0,lg:12,xl:12,md:12,sm:12,xs:12,children:(0,I.jsx)(w.Qr,{name:"description",as:Z.Z,control:a,defaultValue:n?i.description:"",label:(0,S.d)("Description").t("assess_label_description"),disabled:r,fullWidth:!0,multiline:!0})})})})]})})}var pa=n(83797),ha=n(57209),fa=n(70034),ga=n(69492),va=n(5196),ba=function(e,t){return{color:t.common.white,backgroundColor:e.main,"&:hover":{backgroundColor:e.dark}}},xa=function(e,t){return{color:e.main,borderColor:e.light,"&:hover":{borderColor:e.main,backgroundColor:(0,It.Fq)(e.main,t.action.hoverOpacity)}}},ya=(0,L.Z)((function(e){var t=e.palette,n=e.breakpoints;return{arrowBack:(0,ne.Z)({color:t.common.black,marginRight:28},n.down("sm"),{marginRight:16}),kidsloopLogo:{width:140,marginRight:16},title:(0,ne.Z)({marginRight:"auto"},n.down("sm"),{fontSize:16}),headerButton:{fontWeight:"bold",borderRadius:27,marginLeft:50},iconButton:{marginRight:16,padding:5,border:"thin solid currentColor"},redButton:ba(t.error,t),redOutlinedButton:xa(t.error,t),greenButton:ba(t.success,t),primaryIconButton:ba(t.primary,t),radioGroup:{flexDirection:"row",padding:"7px 0",marginTop:16},radio:(0,ne.Z)({"&:not(:first-child)":{marginLeft:64}},n.down("sm"),{marginRight:0}),deleteButton:{border:"1px solid red",borderRadius:"28px",color:"red",fontWeight:700},editButton:{marginRight:"10px"},saveButton:{width:"32px !important",height:"32px",borderRadius:"50%",backgroundColor:"green",minWidth:"32px"}}}));var ja=function(e){var t=(0,_.k6)(),n=ya(),r=e.handleSave,s=e.handleReset,a=e.handleDelete,o=e.outcome_id,i=e.handelReject,c=e.handlePublish,u=e.handleApprove,d=e.publish_status,m=e.isDirty,p=e.showEdit,h=e.handleEdit,f=e.status,g=e.before,v=e.isSelf,b=e.is_unpub,x=(0,Ie.Z)().breakpoints,y=(0,Pe.Z)(x.down("sm"));return(0,I.jsxs)(l.Fragment,{children:[(0,I.jsxs)(re.Z,{display:"flex",alignItems:"center",pl:y?2:3,pr:10,height:72,boxShadow:3,children:[(0,I.jsx)(k.Z,{size:"small",className:n.arrowBack,onClick:function(){t.go(-1)},children:(0,I.jsx)(Et.Z,{fontSize:y?"small":"medium"})}),(0,I.jsx)(se.Z,{variant:"h6",className:n.title,children:y?(0,S.d)("Create New Learning Outcome").t("assess_label_create_new_learning_outcome"):(0,S.d)("For Organizations").t("assess_label_for_organizations")}),(0,I.jsx)(Pt.Z,{smDown:!0,children:(0,I.jsxs)(I.Fragment,{children:["draft"===d&&(0,I.jsxs)(I.Fragment,{children:[p&&(0,I.jsx)(I.Fragment,{children:g?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(k.Z,{variant:"contained",endIcon:(0,I.jsx)(Ft.Z,{}),className:(0,Je.default)(n.headerButton,n.redButton),onClick:s,children:(0,S.d)("Cancel").t("assess_label_cancel")}),(0,I.jsx)(Mt,{variant:"contained",endIcon:(0,I.jsx)(Ot.Z,{}),color:"primary",className:n.headerButton,onClick:r,children:(0,S.d)("Save").t("assess_label_save")}),(0,I.jsx)(Mt,{variant:"contained",endIcon:(0,I.jsx)(pa.Z,{}),className:(0,Je.default)(n.headerButton,n.greenButton),onClick:c,disabled:m,children:(0,S.d)("Publish").t("assess_label_publish")})]}):(0,I.jsxs)(I.Fragment,{children:[v?(0,I.jsx)(kt.y3,{value:te.Z.delete_my_unpublished_learning_outcome_444,render:function(e){return e&&(0,I.jsx)(k.Z,{variant:"outlined",endIcon:(0,I.jsx)(ha.Z,{}),className:(0,Je.default)(n.deleteButton),onClick:a,children:(0,S.d)("Delete").t("assess_label_delete")})}}):(0,I.jsx)(kt.P$,{value:[te.Z.delete_my_unpublished_learning_outcome_444,te.Z.delete_org_unpublished_learning_outcome_445],render:function(e){return e&&(0,I.jsx)(k.Z,{variant:"outlined",endIcon:(0,I.jsx)(ha.Z,{}),className:(0,Je.default)(n.deleteButton),onClick:a,children:(0,S.d)("Delete").t("assess_label_delete")})}}),f?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Mt,{variant:"contained",endIcon:(0,I.jsx)(Ot.Z,{}),color:"primary",className:n.headerButton,onClick:r,disabled:m,children:(0,S.d)("Save").t("assess_label_save")}),(0,I.jsx)(Mt,{variant:"contained",endIcon:(0,I.jsx)(pa.Z,{}),className:(0,Je.default)(n.headerButton,n.greenButton),onClick:c,disabled:!m,children:(0,S.d)("Publish").t("assess_label_publish")})]}):(0,I.jsx)(kt.y3,{value:te.Z.edit_my_unpublished_learning_outcome_430,render:function(e){return e&&v&&(0,I.jsx)(k.Z,{variant:"contained",endIcon:(0,I.jsx)(fa.Z,{}),color:"primary",className:(0,Je.default)(n.headerButton,n.editButton),onClick:h,children:(0,S.d)("Edit").t("library_label_edit")})}})]})}),!p&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(k.Z,{variant:"contained",endIcon:(0,I.jsx)(Ft.Z,{}),className:(0,Je.default)(n.headerButton,n.redButton),onClick:s,children:(0,S.d)("Cancel").t("assess_label_cancel")}),(0,I.jsx)(Mt,{variant:"contained",endIcon:(0,I.jsx)(Ot.Z,{}),color:"primary",className:n.headerButton,onClick:r,disabled:!m,children:(0,S.d)("Save").t("assess_label_save")}),(0,I.jsx)(Mt,{variant:"contained",endIcon:(0,I.jsx)(pa.Z,{}),className:(0,Je.default)(n.headerButton,n.greenButton),onClick:c,disabled:!o||m,children:(0,S.d)("Publish").t("assess_label_publish")})]})]}),"pending"===d&&(0,I.jsxs)(I.Fragment,{children:[v?(0,I.jsx)(kt.y3,{value:te.Z.delete_my_pending_learning_outcome_446,render:function(e){return e&&(0,I.jsx)(k.Z,{variant:"contained",endIcon:(0,I.jsx)(ga.Z,{}),className:(0,Je.default)(n.headerButton,n.redButton),onClick:a,children:(0,S.d)("Delete").t("assess_label_delete")})}}):(0,I.jsx)(kt.y3,{value:te.Z.delete_org_pending_learning_outcome_447,render:function(e){return e&&(0,I.jsx)(k.Z,{variant:"contained",endIcon:(0,I.jsx)(ga.Z,{}),className:(0,Je.default)(n.headerButton,n.redButton),onClick:a,children:(0,S.d)("Delete").t("assess_label_delete")})}}),!b&&(0,I.jsx)(kt.y3,{value:te.Z.reject_pending_learning_outcome_482,render:function(e){return e&&(0,I.jsx)(k.Z,{variant:"contained",endIcon:(0,I.jsx)(ga.Z,{}),className:(0,Je.default)(n.headerButton,n.redButton),onClick:i,children:(0,S.d)("Reject").t("assess_label_reject")})}}),!b&&(0,I.jsx)(kt.y3,{value:te.Z.approve_pending_learning_outcome_481,render:function(e){return e&&(0,I.jsx)(Mt,{variant:"contained",endIcon:(0,I.jsx)(Tt.Z,{}),className:(0,Je.default)(n.headerButton,n.greenButton),onClick:u,children:(0,S.d)("Approve").t("assess_label_approve")})}})]}),"rejected"===d&&(0,I.jsxs)(I.Fragment,{children:[p&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(k.Z,{variant:"outlined",endIcon:(0,I.jsx)(ha.Z,{}),className:(0,Je.default)(n.deleteButton),onClick:a,children:(0,S.d)("Delete").t("assess_label_delete")}),(0,I.jsx)(kt.y3,{value:te.Z.edit_my_unpublished_learning_outcome_430,render:function(e){return e&&v&&(0,I.jsx)(k.Z,{variant:"contained",endIcon:(0,I.jsx)(fa.Z,{}),color:"primary",className:(0,Je.default)(n.headerButton,n.editButton),onClick:h,children:(0,S.d)("Edit").t("library_label_edit")})}})]}),!p&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(k.Z,{variant:"contained",endIcon:(0,I.jsx)(Ft.Z,{}),className:(0,Je.default)(n.headerButton,n.redButton),onClick:s,children:(0,S.d)("Cancel").t("assess_label_cancel")}),(0,I.jsx)(Mt,{variant:"contained",endIcon:(0,I.jsx)(Ot.Z,{}),color:"primary",className:n.headerButton,onClick:r,disabled:!m,children:(0,S.d)("Save").t("assess_label_save")}),(0,I.jsx)(Mt,{variant:"contained",endIcon:(0,I.jsx)(pa.Z,{}),className:(0,Je.default)(n.headerButton,n.greenButton),onClick:c,disabled:m,children:(0,S.d)("Publish").t("assess_label_publish")})]})]}),"published"===d&&(p?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(kt.y3,{value:te.Z.edit_published_learning_outcome_436,render:function(e){return e&&(0,I.jsx)(k.Z,{variant:"contained",endIcon:(0,I.jsx)(fa.Z,{}),color:"primary",className:(0,Je.default)(n.headerButton,n.editButton),onClick:h,style:{marginRight:"30px"},children:(0,S.d)("Edit").t("library_label_edit")})}}),(0,I.jsx)(kt.y3,{value:te.Z.delete_published_learning_outcome_448,render:function(e){return e&&(0,I.jsx)(k.Z,{variant:"outlined",endIcon:(0,I.jsx)(ha.Z,{}),className:(0,Je.default)(n.deleteButton),onClick:a,children:(0,S.d)("Delete").t("assess_label_delete")})}})]}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(k.Z,{variant:"contained",endIcon:(0,I.jsx)(Ft.Z,{}),className:(0,Je.default)(n.headerButton,n.redButton),onClick:s,children:(0,S.d)("Cancel").t("assess_label_cancel")}),(0,I.jsx)(Mt,{variant:"contained",endIcon:(0,I.jsx)(Ot.Z,{}),color:"primary",className:n.headerButton,onClick:r,disabled:!m,children:(0,S.d)("Save").t("assess_label_save")}),(0,I.jsx)(Mt,{variant:"contained",endIcon:(0,I.jsx)(pa.Z,{}),className:(0,Je.default)(n.headerButton,n.greenButton),onClick:c,disabled:!o||m,children:(0,S.d)("Publish").t("assess_label_publish")})]}))]})})]}),(0,I.jsx)(Pt.Z,{smDown:!0,children:(0,I.jsx)(re.Z,{display:"flex",alignItems:"center",pl:5,pr:10,height:64,boxShadow:2,children:(0,I.jsx)(se.Z,{variant:"h6",className:n.title,children:o?(0,S.d)("Details").t("assess_label_details"):(0,S.d)("Create New Learning Outcome").t("assess_label_create_new_learning_outcome")})})}),(0,I.jsx)(Pt.Z,{mdUp:!0,children:(0,I.jsx)(re.Z,{display:"flex",justifyContent:"flex-end",pt:3,children:(0,I.jsxs)(I.Fragment,{children:["draft"===d&&(0,I.jsxs)(I.Fragment,{children:[p&&(0,I.jsx)(I.Fragment,{children:g?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.redButton),color:"primary",onClick:s,children:(0,I.jsx)(Lt.Z,{fontSize:"small"})}),(0,I.jsx)(Mt,{className:(0,Je.default)(n.iconButton,n.primaryIconButton,n.saveButton),color:"primary",onClick:r,children:(0,I.jsx)(Ot.Z,{fontSize:"small"})}),(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.greenButton),color:"primary",onClick:c,children:(0,I.jsx)(pa.Z,{fontSize:"small"})})]}):(0,I.jsxs)(I.Fragment,{children:[v?(0,I.jsx)(kt.y3,{value:te.Z.delete_my_unpublished_learning_outcome_444,render:function(e){return e&&(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.redButton),color:"primary",onClick:a,children:(0,I.jsx)(ha.Z,{fontSize:"small"})})}}):(0,I.jsx)(kt.P$,{value:[te.Z.delete_my_unpublished_learning_outcome_444,te.Z.delete_org_unpublished_learning_outcome_445],render:function(e){return e&&(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.redButton),color:"primary",onClick:a,children:(0,I.jsx)(ha.Z,{fontSize:"small"})})}}),f?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Mt,{className:(0,Je.default)(n.iconButton,n.primaryIconButton,n.saveButton),color:"primary",disabled:m,onClick:r,children:(0,I.jsx)(Ot.Z,{fontSize:"small"})}),(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.greenButton),color:"primary",disabled:!m,onClick:c,children:(0,I.jsx)(pa.Z,{fontSize:"small"})})]}):(0,I.jsx)(kt.y3,{value:te.Z.edit_my_unpublished_learning_outcome_430,render:function(e){return e&&v&&(0,I.jsx)(gt.Z,{color:"primary",className:(0,Je.default)(n.iconButton,n.editButton,n.greenButton),onClick:h,children:(0,I.jsx)(fa.Z,{fontSize:"small"})})}})]})}),!p&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.redButton),color:"primary",onClick:s,children:(0,I.jsx)(Lt.Z,{fontSize:"small"})}),(0,I.jsx)(Mt,{className:(0,Je.default)(n.iconButton,n.primaryIconButton,n.saveButton),color:"primary",disabled:!m,onClick:r,children:(0,I.jsx)(Ot.Z,{fontSize:"small"})}),(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.greenButton),color:"primary",disabled:!o||m,onClick:c,children:(0,I.jsx)(pa.Z,{fontSize:"small"})})]})]}),"pending"===d&&(0,I.jsxs)(I.Fragment,{children:[v?(0,I.jsx)(kt.y3,{value:te.Z.delete_my_pending_learning_outcome_446,render:function(e){return e&&(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.redButton),color:"primary",onClick:a,children:(0,I.jsx)(ha.Z,{fontSize:"small"})})}}):(0,I.jsx)(kt.y3,{value:te.Z.delete_org_pending_learning_outcome_447,render:function(e){return e&&(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.redButton),color:"primary",onClick:a,children:(0,I.jsx)(ha.Z,{fontSize:"small"})})}}),!b&&(0,I.jsx)(kt.y3,{value:te.Z.reject_pending_learning_outcome_482,render:function(e){return e&&(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.redButton),color:"primary",onClick:i,children:(0,I.jsx)(va.Z,{fontSize:"small"})})}}),!b&&(0,I.jsx)(kt.y3,{value:te.Z.approve_pending_learning_outcome_481,render:function(e){return e&&(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.greenButton),color:"primary",onClick:u,children:(0,I.jsx)(Tt.Z,{fontSize:"small"})})}})]}),"rejected"===d&&(0,I.jsxs)(I.Fragment,{children:[p&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.redButton),color:"primary",onClick:a,children:(0,I.jsx)(ha.Z,{fontSize:"small"})}),(0,I.jsx)(kt.y3,{value:te.Z.edit_my_unpublished_learning_outcome_430,render:function(e){return e&&v&&(0,I.jsx)(gt.Z,{color:"primary",className:(0,Je.default)(n.iconButton,n.editButton,n.greenButton),onClick:h,children:(0,I.jsx)(fa.Z,{fontSize:"small"})})}})]}),!p&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.redButton),color:"primary",onClick:s,children:(0,I.jsx)(Lt.Z,{fontSize:"small"})}),(0,I.jsx)(Mt,{className:(0,Je.default)(n.iconButton,n.primaryIconButton,n.saveButton),color:"primary",disabled:!m,onClick:r,children:(0,I.jsx)(Ot.Z,{fontSize:"small"})}),(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.greenButton),color:"primary",disabled:m,onClick:c,children:(0,I.jsx)(pa.Z,{fontSize:"small"})})]})]}),"published"===d&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(kt.y3,{value:te.Z.edit_published_learning_outcome_436,render:function(e){return e&&(0,I.jsx)(gt.Z,{color:"primary",className:(0,Je.default)(n.iconButton,n.editButton,n.greenButton),onClick:h,children:(0,I.jsx)(fa.Z,{fontSize:"small"})})}}),(0,I.jsx)(kt.y3,{value:te.Z.delete_published_learning_outcome_448,render:function(e){return e&&(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.redButton),color:"primary",onClick:a,children:(0,I.jsx)(ha.Z,{fontSize:"small"})})}})]})]})})})]})};function Za(e){var t=e.handleClose,n=e.handleReject,r=c().useState(""),s=(0,Q.Z)(r,2),a=s[0],o=s[1],i=(0,Ie.Z)().breakpoints,l=(0,Pe.Z)(i.down("sm"));return(0,I.jsxs)("div",{style:{width:l?"auto":"400px",padding:"0px 30px 0px 0px"},children:[(0,I.jsx)("h2",{style:{fontSize:"20px"},children:(0,S.d)("Reason").t("assess_label_reason")}),(0,I.jsx)("p",{children:(0,S.d)("Please specify the reason for rejection.").t("assess_msg_reject_reason")}),(0,I.jsx)("div",{children:(0,I.jsx)(Z.Z,{id:"standard-basic",label:(0,S.d)("Reason").t("assess_label_reason"),autoFocus:!0,variant:"standard",fullWidth:!0,value:a,onChange:function(e){o(e.target.value)},required:!0,error:!a})}),(0,I.jsxs)("div",{style:{marginTop:"20px",textAlign:"right"},children:[(0,I.jsx)(k.Z,{color:"primary",onClick:t,children:(0,S.d)("Cancel").t("assess_label_cancel")}),(0,I.jsx)(k.Z,{color:"primary",onClick:function(){return n(a)},children:(0,S.d)("OK").t("assess_label_ok")})]})]})}var Ca=["score_threshold"],ka=(0,L.Z)((function(){return{outcomings_container:{width:"100%",boxSizing:"border-box"}}}));function wa(){var e=ka(),t=ke(),n=t.outcome_id,r=t.status,s=t.before,a=t.readOnly,o=t.is_unpub,i=(0,ve.gI)([te.Z.view_org_pending_learning_outcome_413]).view_org_pending_learning_outcome_413,l=c().useState(!1),d=(0,Q.Z)(l,2),m=d[0],f=d[1],g=(0,u.I0)(),v=(0,_.k6)(),b=(0,u.v9)((function(e){return e.outcome})),x=b.outcomeDetail,y=b.newOptions,j=b.outcomeSetList,Z=b.defaultSelectOutcomeset,C=b.shortCode,k=c().useState(!0),A=(0,Q.Z)(k,2),N=A[0],B=A[1],P=c().useState(!0),E=(0,Q.Z)(P,2),F=E[0],O=E[1],T=c().useState("default"),L=(0,Q.Z)(T,2),D=L[0],R=L[1],M=c().useState(!1),W=(0,Q.Z)(M,2),z=W[0],q=W[1],U=c().useState(!1),G=(0,Q.Z)(U,2),H=G[0],K=G[1],Y=c().useState([]),J=(0,Q.Z)(Y,2),ee=J[0],ne=J[1],se=(0,w.cI)(),ae=se.handleSubmit,oe=se.reset,ie=se.getValues,le=se.formState.isDirty,ce=se.setValue,ue=se.watch,de=c().useMemo((function(){return function(e){var t=(0,Q.Z)(e,1)[0];R("program"),g((0,cs.m8)({program_id:t,metaLoading:!0}))}}),[g]),_e=c().useMemo((function(){return function(e){R("subject");var t=ie("program"),n=(0,Q.Z)(t,1)[0];g((0,cs.m8)({program_id:n,default_subject_ids:e.join(","),metaLoading:!0}))}}),[g,ie]),me=c().useMemo((function(){return function(e){var t=(0,Q.Z)(e,1)[0];R("development");var n=ie("program"),r=(0,Q.Z)(n,1)[0];g((0,cs.je)({developmental_id:t,metaLoading:!0,program_id:r}))}}),[g,ie]);c().useEffect((function(){x.author_id===y.user_id?q(!0):q(!1)}),[y.user_id,x.author_id]),c().useEffect((function(){n&&(B(!0),g((0,cs.cE)({id:n,metaLoading:!0})))}),[g,n,s]),c().useEffect((function(){(r||s)&&B(!1)}),[s,r]),c().useEffect((function(){oe(ot(x)),O(!n||x.assumed)}),[x,n,oe]);var pe=function(){f(!1)},he=c().useMemo((function(){return ae(function(){var e=(0,X.Z)($().mark((function e(t){var r,s,a,o,i,l,c,u;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.shortcode&&(!t.shortcode||t.shortcode.trim())){e.next=6;break}return e.next=3,g((0,cs.hK)({kind:"outcomes"}));case 3:r=e.sent,t.shortcode=r.payload.shortcode,ce("shortcode",r.payload.shortcode);case 6:if(ce("assumed",F),s=t.score_threshold,a=(0,h.Z)(t,Ca),o=s?Number(s)/100:0,i=(0,p.Z)((0,p.Z)({},a),{},{score_threshold:o}),!n){e.next=23;break}return e.next=13,g((0,cs.m_)({outcome_id:n,value:i}));case 13:if(l=e.sent,"ok"!==l.payload){e.next=21;break}return g((0,V.HY)((0,S.d)("Updated Successfully").t("assess_msg_updated_successfully"))),e.next=19,g((0,cs.cE)({id:n,metaLoading:!0}));case 19:oe(t),R("default");case 21:e.next=28;break;case 23:return e.next=25,g((0,cs.a1)(i));case 25:c=e.sent,null!==(u=c.payload)&&void 0!==u&&u.outcome_id&&(v.push("/assessments/outcome-edit?outcome_id=".concat(u.outcome_id,"&status=createDfaft")),g((0,V.HY)((0,S.d)("Saved Successfully").t("assess_msg_saved_successfully"))),R("default"));case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[g,ae,v,F,n,oe,ce]),fe=c().useState(!1),ge=(0,Q.Z)(fe,2),be=ge[0],xe=ge[1],ye=function(){var e=(0,X.Z)($().mark((function e(t){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,g((0,cs.d1)({id:n,reject_reason:t}));case 4:r=e.sent,"ok"===r.payload&&(g((0,V.HY)("Reject Success")),v.push("/assessments/outcome-list?publish_status=pending&page=1&order_by=-updated_at")),f(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je={title:"",text:(0,S.d)("Are you sure you want to delete this learning outcome?").t("assess_msg_delete_content"),openStatus:m,enableCustomization:be,buttons:[{label:(0,S.d)("Cancel").t("assess_label_cancel"),event:function(){f(!1)}},{label:(0,S.d)("Delete").t("assess_label_delete"),event:function(){var e=(0,X.Z)($().mark((function e(){var t,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g((0,cs.g2)(n));case 2:t=e.sent,r=t.payload,f(!1),"ok"===r&&v.go(-1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}],handleClose:pe,customizeTemplate:(0,I.jsx)(Za,{handleClose:pe,handleReject:ye})},Ze=function(){var e=(0,X.Z)($().mark((function e(){var t,r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g((0,cs.g2)(n));case 2:t=e.sent,r=t.payload,f(!1),"ok"===r&&v.go(-1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=c().useMemo((function(){return ae((0,X.Z)($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g((0,cs.Bb)(x.outcome_id));case 2:t=e.sent,"ok"===t.payload&&(i?v.push("/assessments/outcome-list?publish_status=pending&page=1&order_by=-updated_at"):v.push("/assessments/outcome-list?publish_status=pending&page=1&order_by=-updated_at&is_unpub=UNPUB"));case 5:case"end":return e.stop()}}),e)}))))}),[g,ae,v,x,i]),we=function(){var e=(0,X.Z)($().mark((function e(){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||"pending"!==x.publish_status){e.next=4;break}return e.next=3,g((0,cs.dE)(n));case 3:v.push("/assessments/outcome-list?publish_status=pending&page=1&order_by=-updated_at");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=(0,X.Z)($().mark((function e(){var t;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("published"!==x.publish_status){e.next=9;break}return e.next=3,g((0,cs.NR)({id:n,metaLoading:!0}));case 3:if(!(t=e.sent).label){e.next=6;break}return e.abrupt("return");case 6:t.payload.outcome_id&&(B(!N),v.push("/assessments/outcome-edit?outcome_id=".concat(t.payload.outcome_id,"&before=published"))),e.next=10;break;case 9:B(!N);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=(0,X.Z)($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,g((0,cs.El)({set_name:t}));case 4:K(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=(0,X.Z)($().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g((0,cs.RG)({set_name:t}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c().useEffect((function(){if(n){var e=x.program&&x.program[0]&&x.program[0].program_id,t=x.subject&&x.subject.map((function(e){return e.subject_id})).join(","),r=x.developmental&&x.developmental[0]&&x.developmental[0].developmental_id;e&&r&&t&&n===x.outcome_id&&g((0,cs.m8)({program_id:e,development_id:r,default_subject_ids:t,metaLoading:!0}))}}),[g,x.developmental,x.program,x.outcome_id,n,x.subject]),c().useEffect((function(){g((0,cs.R4)("")),n||(B(!1),g((0,cs.hK)({kind:"outcomes"})),g((0,cs.m8)({metaLoading:!0})))}),[n,g]),c().useEffect((function(){var e={program:[],developmental:[],subject:[],skills:[],age:[],grade:[],assumed:!0,shortcode:C,score_threshold:F?0:80};if(n){if(ne(x.sets||[]),"program"===D&&(ce("subject",e.subject),ce("developmental",e.developmental),ce("skills",[]),ce("age",[]),ce("grade",[])),"subject"===D&&(ce("developmental",e.developmental),ce("skills",[])),"development"===D&&ce("skills",[]),"default"===D){var t=ue().shortcode,r=(0,p.Z)((0,p.Z)({},x),{},{shortcode:t}),s=x.program,a=x.subject,o=x.developmental,i=null===s||void 0===s?void 0:s.filter((function(e){return y.program.find((function(t){return t.id===e.program_id}))})),l=a?null===a||void 0===a?void 0:a.filter((function(e){return y.subject.find((function(t){return t.id===e.subject_id}))})):[],c=null===o||void 0===o?void 0:o.filter((function(e){return y.developmental.find((function(t){return e.developmental_id===t.id}))}));ce("program",i,{shouldDirty:!0}),ce("subject",l),ce("developmental",c);var u=ie("score_threshold"),d=r.score_threshold?Math.floor(100*r.score_threshold):u||0,_=(0,p.Z)((0,p.Z)({},r),{},{program:i,subject:l,developmental:c,score_threshold:d});oe(ot(_))}}else n||"default"!==D||oe(e),"program"===D&&(ce("subject",e.subject),ce("developmental",e.developmental),ce("skills",[]),ce("age",[]),ce("grade",[])),"subject"===D&&(ce("developmental",e.developmental),ce("skills",[])),"development"===D&&ce("skills",[])}),[D,y.age,y.developmental,y.grade,y.program,y.skills,y.subject,x,n,C,oe,ce]),(0,I.jsxs)(re.Z,{component:"form",className:e.outcomings_container,children:[!a&&(0,I.jsx)(ja,{handleSave:he,handleReset:function(){v.push(aa.routeRedirectDefault)},handleDelete:Ze,outcome_id:n,handelReject:function(){f(!0),xe(!0)},handlePublish:Ce,handleApprove:we,publish_status:n?x.publish_status:"draft",isDirty:le,showEdit:N,handleEdit:Se,status:r,before:s,is_unpub:o,isSelf:z}),(0,I.jsx)(ma,{outcome_id:n,showEdit:N,formMethods:se,outcomeDetail:x,onChangeProgram:de,onChangeDevelopmental:me,onChangeSubject:_e,handleCheckBoxChange:function(e){ce("assumed",e.target.checked,{shouldDirty:!0}),O(e.target.checked),e.target.checked?ce("score_threshold",0):ce("score_threshold",80,{shouldValidate:!0})},isAssumed:F,newOptions:y,showSetList:H,onSearchOutcomeSet:Ne,onCreateOutcomeSet:Be,onSetOutcomeSet:function(e){var t=ct(e,ee),n=it(t,j),r=ee.concat(n);ne(r||[]),ce("sets",r,{shouldDirty:!0}),K(!1)},selectedOutcomeSet:ee,outcomeSetList:j,onDeleteSet:function(e){var t=lt(e,ee),n=(0,Ae.cloneDeep)(ee);n.splice(t,1),ne(n),ce("sets",n,{shouldDirty:!0})},defaultSelectOutcomeset:Z,shortCode:C,onInputChange:function(){H&&K(!1)}}),(0,I.jsx)(ds,{modalDate:je})]})}wa.routeBasePath="/assessments/outcome-edit";var Sa,Aa,Na=n(39521),Ba=n(49556),Ia=n(7209);!function(e){e.ByMilestoneDetail="ByMilestoneDetail",e.ByMilestoneDetailAndOptionCount="ByMilestoneDetailAndOptionCount",e.ByOptionCount="ByOptionCount"}(Sa||(Sa={})),function(e){e.details="details",e.leaningoutcomes="learningoutcomes"}(Aa||(Aa={}));var Pa,Ea,Fa=function(){function e(){(0,vr.Z)(this,e)}return(0,gr.Z)(e,null,[{key:"createSelectKey",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.map((function(e){return Array.isArray(e)?e.join(","):e})).concat(e.map((function(e){return e.id}))).filter((function(e){return e})).join(",")}},{key:"createDefaultValueAndKey",value:function(t){var n=t.regulation,r=t.milestoneDetail,s=t.linkedMockOptions,a={};return Object.keys(r).forEach((function(t){var o,i,l,c,u,d,_=t;switch(_){case"program":var m=r.program&&r.program[0]?null===(o=r.program)||void 0===o?void 0:o.map((function(e){return e.program_id})).filter((function(e){return e})):[],p=null===m||void 0===m?void 0:m.filter((function(e){var t;return null===(t=s.program)||void 0===t?void 0:t.find((function(t){return t.id===e}))}));a[_]={key:e.createSelectKey(s.program,m,_),value:n===Sa.ByMilestoneDetail?p:[]};break;case"subject":var h=r.subject&&r.subject[0]?null===(i=r.subject)||void 0===i?void 0:i.map((function(e){return e.subject_id})).filter((function(e){return e})):[],f=h?null===h||void 0===h?void 0:h.filter((function(e){var t;return null===(t=s.subject)||void 0===t?void 0:t.find((function(t){return t.id===e}))})):[];a[_]={key:e.createSelectKey(s.subject,h,_),value:n===Sa.ByMilestoneDetail?f:[]};break;case"category":var g=r.category&&r.category[0]?null===(l=r.category)||void 0===l?void 0:l.map((function(e){return e.category_id})).filter((function(e){return e})):[],v=null===g||void 0===g?void 0:g.filter((function(e){var t;return null===(t=s.developmental)||void 0===t?void 0:t.find((function(t){return e===t.id}))}));a[_]={key:e.createSelectKey(s.developmental,g,_),value:n===Sa.ByMilestoneDetail?v:[]};break;case"sub_category":var b=r.sub_category&&r.sub_category[0]?null===(c=r.sub_category)||void 0===c?void 0:c.map((function(e){return e.sub_category_id})).filter((function(e){return e})):[];a[_]={key:e.createSelectKey(s.skills,b,_),value:n===Sa.ByMilestoneDetail?b:[]};break;case"age":var x=r.age&&r.age[0]?null===(u=r.age)||void 0===u?void 0:u.map((function(e){return e.age_id})).filter((function(e){return e})):[];a[_]={key:e.createSelectKey(s.age,x,_),value:n===Sa.ByMilestoneDetail?x:[]};break;case"grade":var y=r.grade&&r.grade[0]?null===(d=r.grade)||void 0===d?void 0:d.map((function(e){return e.grade_id})).filter((function(e){return e})):[];a[_]={key:e.createSelectKey(s.grade,y,_),value:n===Sa.ByMilestoneDetail?y:[]};break;default:a[_]={key:e.createSelectKey([],r[_],_),value:r[_]}}})),a}}]),e}();!function(e){e.all="search_key",e.description="description",e.name="name",e.shortcode="shortcode"}(Pa||(Pa={})),function(e){e.CHECKED_BULK_IDS="CHECKED_BULK_IDS",e.SEARCH_TEXT_KEY="SEARCH_TEXT_KEY",e.EXECT_SEARCH="EXECT_SEARCH"}(Ea||(Ea={}));var Oa=["ref"],Ta=(0,Mr.Z)((function(e){return{tooltip:{backgroundColor:e.palette.common.white,color:"rgba(0, 0, 0, 0.87)",boxShadow:e.shadows[1],fontSize:12}}}))(Wn.ZP),La=(0,L.Z)((function(e){return(0,D.Z)({iconColor:{color:"#D32F2F",padding:"0 0 0 10px"},approveIconColor:{color:"#4CAF50",padding:"0 0 0 10px"},rePublishColor:{color:"#0E78D5",padding:"0 0 0 10px"},pagination:{marginBottom:40},paginationUl:{justifyContent:"center",marginTop:30},checkbox:{padding:0,borderRadius:5,backgroundColor:"white"},tableHead:{height:80,backgroundColor:"#f2f5f7"},tableCell:{textAlign:"center",maxWidth:200,wordWrap:"break-word",wordBreak:"normal"},outcomeSet:{overflow:"hidden",display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:3,maxHeight:93},disableTableRow:{"& td":{color:"rgba(0, 0, 0, 0.26)",backgroundColor:"transparent"}},disableTableCell:{position:"relative",zIndex:100,color:"rgba(0, 0, 0, 0.26)",backgroundColor:"transparent"},disableBtn:{opacity:.6,filter:"alpha(opacity=60)",pointerEvents:"none",cursor:"default"},lockWrap:{position:"absolute",top:0,left:0},trapezoidCon:{width:"27px",borderTop:"3px solid #d8e9f8",borderLeft:"2px solid #fff",borderRight:"2px solid #fff",height:0},lockCon:{width:0,height:0,borderTop:"22px solid #d8e9f8",borderLeft:"13.5px solid #d8e9f8",borderRight:"13.5px solid #d8e9f8",borderBottom:"5px solid #fff",textAlign:"center",borderRadius:"1px",position:"absolute",marginTop:1,marginLeft:2},lockTitle:{fontWeight:700},lockInfoWrap:{fontSize:14,height:28,lineHeight:"28px",color:"#000"},lockIcon:{fontSize:16,color:"#0f78d5",position:"absolute",top:-20,left:-8},lightGrayColor:{color:"#666"}})})),Da="general",Ra=function(e){return function(t){if(t.stopPropagation(),e)return e(t)}};function Ma(e){var t,n,r,s,a=La(),o=e.milestone,i=e.selectedContentGroupContext,l=e.onDelete,c=e.onApprove,u=e.onReject,d=e.onClickMilestone,_=e.queryCondition,m=e.user_id,p=_.is_unpub,h=i.registerChange,f=i.hashValue,g=!(!o.locked_by||"-"===o.locked_by),v=o.type===Da,b=m===(null===(t=o.author)||void 0===t?void 0:t.author_id);return(0,I.jsxs)(Xt.Z,{className:g?a.disableTableRow:"",onClick:function(e){return d(o.milestone_id)},children:[(0,I.jsxs)(Kt.Z,{className:g?a.disableTableCell:"",style:{width:100},align:"center",padding:"checkbox",children:[g&&(0,I.jsx)(Ta,{title:(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:(0,Je.default)(a.lockInfoWrap,a.lockTitle),children:(0,S.d)("Lock Status").t("assess_in_lock_status")}),(0,I.jsxs)("div",{className:a.lockInfoWrap,children:[(0,I.jsxs)("span",{children:[(0,S.d)("Last edited by").t("assess_last_edited_by"),": "]}),(0,I.jsx)("span",{className:a.lightGrayColor,children:o.last_edited_by})]}),(0,I.jsxs)("div",{className:a.lockInfoWrap,children:[(0,I.jsxs)("span",{children:[(0,S.d)("Locked location").t("assess_locked_location"),": "]}),(0,I.jsx)("span",{className:a.lightGrayColor,children:null===(n=o.locked_location)||void 0===n?void 0:n.join(",")})]}),(0,I.jsxs)("div",{className:a.lockInfoWrap,children:[(0,I.jsxs)("span",{children:[(0,S.d)("Date edited").t("assess_date_edited"),": "]}),(0,I.jsx)("span",{className:a.lightGrayColor,children:mt(o.last_edited_at,"date")})]}),(0,I.jsxs)("div",{className:a.lockInfoWrap,children:[(0,I.jsxs)("span",{children:[(0,S.d)("Time edited").t("assess_time_edited"),": "]}),(0,I.jsx)("span",{className:a.lightGrayColor,children:mt(o.last_edited_at,"time")})]})]}),placement:"right",children:(0,I.jsxs)("div",{className:a.lockWrap,children:[(0,I.jsx)("div",{className:a.trapezoidCon}),(0,I.jsx)("div",{className:a.lockCon,children:(0,I.jsx)(As.Z,{className:a.lockIcon})})]})}),!v&&(0,I.jsx)(j.Z,{icon:(0,I.jsx)(Zs.Z,{viewBox:"3 3 18 18"}),checkedIcon:(0,I.jsx)(Cs.Z,{viewBox:"3 3 18 18"}),size:"small",className:a.checkbox,color:"secondary",value:o.milestone_id,checked:f[o.milestone_id]||!1,onClick:Ra(),onChange:function(e){h(e)},disabled:g})]}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(a.tableCell),children:o.milestone_name}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(a.tableCell),children:v?(0,S.d)("N/A").t("assess_column_n_a"):o.shortcode}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(a.tableCell),children:o.outcome_count}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(a.tableCell),children:v?"None Specified":null===(r=o.program)||void 0===r?void 0:r.map((function(e){return e.program_name})).join(",")}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(a.tableCell),children:v?"None Specified":null===(s=o.category)||void 0===s?void 0:s.map((function(e){return e.category_name})).join(",")}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(a.tableCell),children:_t(o.create_at)}),(0,I.jsxs)(Kt.Z,{className:(0,Je.default)(a.tableCell,g?a.disableBtn:""),children:[!v&&o.status===We._W.published&&(0,I.jsx)(kt.y3,{value:te.Z.delete_published_milestone_450,children:(0,I.jsx)(Mt,{as:gt.Z,replace:!0,className:a.iconColor,onClick:Ra((function(e){return l(o.milestone_id)})),children:(0,I.jsx)(ws.Z,{})})}),!v&&o.status===We._W.pending&&!p&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(kt.y3,{value:te.Z.delete_org_pending_milestone_489,children:(0,I.jsx)(Mt,{as:gt.Z,replace:!0,className:a.iconColor,onClick:Ra((function(e){return l(o.milestone_id)})),children:(0,I.jsx)(ws.Z,{})})}),(0,I.jsx)(kt.y3,{value:te.Z.approve_pending_milestone_491,children:(0,I.jsx)(Mt,{as:gt.Z,replace:!0,className:a.approveIconColor,onClick:Ra((function(e){return c(o.milestone_id)})),children:(0,I.jsx)(Ss.Z,{})})}),(0,I.jsx)(kt.y3,{value:te.Z.reject_pending_milestone_492,children:(0,I.jsx)(Mt,{as:gt.Z,replace:!0,className:a.iconColor,onClick:Ra((function(e){return u(o.milestone_id)})),children:(0,I.jsx)(ks.Z,{})})})]}),!v&&o.status===We._W.pending&&p&&(0,I.jsx)(kt.y3,{value:te.Z.delete_my_pending_milestone_490,children:(0,I.jsx)(Mt,{as:gt.Z,replace:!0,className:a.iconColor,onClick:Ra((function(e){return l(o.milestone_id)})),children:(0,I.jsx)(ws.Z,{})})}),!v&&(o.status===We._W.draft||o.status===We._W.rejected)&&b&&(0,I.jsx)(kt.y3,{value:te.Z.delete_my_unpublished_milestone_488,children:(0,I.jsx)(Mt,{as:gt.Z,replace:!0,className:a.iconColor,onClick:Ra((function(e){return l(o.milestone_id)})),children:(0,I.jsx)(ws.Z,{})})}),!v&&(o.status===We._W.draft||o.status===We._W.rejected)&&!b&&(0,I.jsx)(kt.y3,{value:te.Z.delete_unpublished_milestone_449,children:(0,I.jsx)(Mt,{as:gt.Z,replace:!0,className:a.iconColor,onClick:Ra((function(e){return l(o.milestone_id)})),children:(0,I.jsx)(ws.Z,{})})})]})]})}function Wa(e){var t,n=La(),r=e.formMethods,s=e.list,a=e.total,o=e.user_id,i=e.queryCondition,c=e.onDelete,u=e.onApprove,d=e.onReject,_=e.onChangePage,m=e.onClickMilestone,f=null!==(t=e.amountPerPage)&&void 0!==t?t:10,g=(0,l.useMemo)((function(){if(s&&s[0]){var e=s.map((function(e){return e.type===Da||e.locked_by&&"-"!==e.locked_by?"":e.milestone_id}));return e.filter((function(e){return e}))}return[]}),[s]),v=r.control;return(0,I.jsxs)(Bs.Z,{holderMin:40,holderBase:202,mainBase:1517,overflowX:"auto",children:[(0,I.jsx)(w.Qr,{name:Ea.CHECKED_BULK_IDS,control:v,defaultValue:[],render:function(e){var t=e.ref,r=(0,h.Z)(e,Oa);return(0,I.jsx)(B,(0,p.Z)((0,p.Z)({allValue:g},r),{},{render:function(e){return(0,I.jsx)(an.Z,{children:(0,I.jsxs)(dn.Z,{ref:t,children:[(0,I.jsx)(Yt.Z,{className:n.tableHead,children:(0,I.jsxs)(Xt.Z,{children:[(0,I.jsx)(Kt.Z,{align:"center",padding:"checkbox",children:(0,I.jsx)(j.Z,{icon:(0,I.jsx)(Zs.Z,{viewBox:"3 3 18 18"}),checkedIcon:(0,I.jsx)(Cs.Z,{viewBox:"3 3 18 18"}),size:"small",className:n.checkbox,color:"secondary",checked:e.isAllvalue,onChange:e.registerAllChange})}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(n.tableCell),children:(0,S.d)("Milestones").t("assess_label_milestone")}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(n.tableCell),children:(0,S.d)("Short Code").t("assess_label_short_code")}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(n.tableCell),children:(0,S.d)("Number of Learning Outcomes").t("assess_detail_number_lo")}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(n.tableCell),children:(0,S.d)("Program").t("assess_label_program")}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(n.tableCell),children:(0,S.d)("Category").t("assess_label_category")}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(n.tableCell),children:(0,S.d)("Created On").t("library_label_created_on")}),(0,I.jsx)(Kt.Z,{className:(0,Je.default)(n.tableCell),children:(0,S.d)("Actions").t("assess_label_actions")})]})}),(0,I.jsx)(_n.Z,{children:s&&s[0]&&s.map((function(t,n){return(0,I.jsx)(Ma,{milestone:t,user_id:o,onDelete:c,onApprove:u,onReject:d,queryCondition:i,selectedContentGroupContext:e,onClickMilestone:m},t.milestone_id)}))})]})})}}))}}),(0,I.jsx)(Ns.Z,{page:i.page,className:n.pagination,classes:{ul:n.paginationUl},onChange:function(e,t){return _(t)},count:Math.ceil(a/f),color:"primary"})]})}var za=(0,L.Z)((function(e){return{searchText:{"& .assessment-MuiOutlinedInput-notchedOutline":{border:0,borderRadius:0}},exectSearchInput:{maxWidth:128,marignRgiht:-10,height:40,boxSizing:"border-box",background:"#F0F0F0","& .assessment-MuiOutlinedInput-notchedOutline":{border:0}},searchCon:{display:"inline-flex",border:"1px solid rgba(0,0,0,0.23)",borderRadius:4,boxSizing:"border-box",verticalAlign:"top"},searchBtn:{width:"120px",height:"40px",backgroundColor:"#0E78D5",marginLeft:"20px"}}})),Qa="SEARCH_TEXT_KEY",qa="EXECT_SEARCH";function Ua(e){var t,n=za(),r=e.searchFieldList,s=e.searchFieldDefaultValue,a=e.searchTextDefaultValue,o=e.onSearch,i=(0,w.cI)(),l=i.control,c=i.getValues;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:n.searchCon,children:[(0,I.jsx)(w.Qr,{as:Z.Z,control:l,name:qa,className:n.exectSearchInput,size:"small",defaultValue:s,select:!0,SelectProps:{MenuProps:{transformOrigin:{vertical:-40,horizontal:"left"}}},children:(t=r,t.map((function(e){return(0,I.jsx)(Be.Z,{value:e.value,children:e.label},e.label)})))}),(0,I.jsx)(w.Qr,{style:{borderLeft:0},as:Z.Z,name:Qa,control:l,size:"small",className:n.searchText,onKeyPress:function(e){if("Enter"===e.key){var t=c().EXECT_SEARCH,n=c().SEARCH_TEXT_KEY;o(t,n)}},defaultValue:a,placeholder:(0,S.d)("Search").t("assess_label_search")})]}),(0,I.jsxs)(k.Z,{variant:"contained",color:"primary",className:n.searchBtn,onClick:function(){var e=c().EXECT_SEARCH,t=c().SEARCH_TEXT_KEY;o(e,t)},children:[(0,I.jsx)(ms.Z,{})," ",(0,S.d)("Search").t("assess_label_search")]})]})}var Va=function(){return[{label:(0,S.d)("All").t("assess_filter_all"),value:Pa.all},{label:(0,S.d)("Description").t("assess_label_description"),value:Pa.description},{label:(0,S.d)("Milestone Name").t("assess_milestone_detail_name"),value:Pa.name},{label:(0,S.d)("Short Code").t("assess_label_short_code"),value:Pa.shortcode}]},Ga=(0,L.Z)((function(e){return{createBtn:{width:"125px",borderRadius:"23px",height:"48px",backgroundColor:"#0E78D5",textTransform:"capitalize"}}}));function Ha(e){var t=Ga(),n=(0,_.k6)(),r=(0,l.useState)(null),s=(0,Q.Z)(r,2),a=s[0],o=s[1],i=e.value,c=e.onChange,u=i.search_key,d=i.description,m=i.name,h=i.shortcode,f=(0,l.useMemo)((function(){return u?Pa.all:d?Pa.description:m?Pa.name:h?Pa.shortcode:Pa.all}),[d,m,u,h]),g=(0,l.useMemo)((function(){return u||(d||(m||(h||"")))}),[d,m,u,h]),v=function(e,t){var n=(0,N.ZP)(i,(function(n){e===Pa.all&&(delete n.description,delete n.name,delete n.shortcode),e===Pa.description&&(delete n.search_key,delete n.name,delete n.shortcode),e===Pa.name&&(delete n.search_key,delete n.description,delete n.shortcode),e===Pa.shortcode&&(delete n.search_key,delete n.description,delete n.name),n[e]=t}));c((0,p.Z)((0,p.Z)({},n),{},{page:1}))};return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(Bs.Z,{holderMin:40,holderBase:202,mainBase:1517,children:[(0,I.jsx)(Pt.Z,{only:["xs","sm"],children:(0,I.jsx)("div",{style:{marginBottom:20},children:(0,I.jsxs)(ns.Z,{container:!0,spacing:3,children:[(0,I.jsx)(ns.Z,{item:!0,md:10,lg:8,xl:8,children:(0,I.jsx)(Ua,{searchFieldList:Va(),searchFieldDefaultValue:f,searchTextDefaultValue:g,onSearch:v})}),(0,I.jsx)(ns.Z,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",item:!0,md:2,lg:4,xl:4,children:i.status===We._W.published&&(0,I.jsx)(y.Z,{value:"end",control:(0,I.jsx)(j.Z,{color:"primary",checked:i.author_id===We.S3.self,onChange:function(e){var t=e.target.checked?We.S3.self:null,n=(0,N.ZP)(i,(function(e){t?e.author_id=t:delete e.author_id}));c((0,p.Z)((0,p.Z)({},n),{},{page:1}))}}),label:(0,S.d)("Show My Content").t("assess_label_my_only"),labelPlacement:"end"})})]})})}),(0,I.jsxs)(Pt.Z,{only:["md","lg","xl"],children:[(0,I.jsxs)(ns.Z,{container:!0,spacing:3,children:[(0,I.jsx)(ns.Z,{item:!0,xs:8,sm:8,children:(0,I.jsx)(kt.y3,{value:te.Z.create_milestone_422,children:(0,I.jsx)(k.Z,{variant:"contained",color:"primary",className:t.createBtn,onClick:function(){n.push("".concat(Uo.routeRedirectDefault))},children:(0,S.d)("Create").t("library_label_create")})})}),(0,I.jsx)(ns.Z,{container:!0,item:!0,xs:4,sm:4,justifyContent:"flex-end",alignItems:"center",style:{fontSize:"24px"},children:i.status===We._W.published&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Rs.Z,{onClick:function(e){o(e.currentTarget)}}),(0,I.jsx)(Ds.Z,{anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:function(){o(null)},children:(0,I.jsx)(Be.Z,{selected:i.author_id===We.S3.self,onClick:function(e){o(null);var t=i.author_id===We.S3.self?void 0:We.S3.self;c((0,N.ZP)(i,(function(e){t?e.author_id=t:delete e.author_id})))},children:(0,S.d)("Show My Content").t("assess_label_my_only")})})]})})]}),(0,I.jsx)(ns.Z,{item:!0,xs:12,sm:12,style:{textAlign:"center"},children:(0,I.jsx)(Ua,{searchFieldList:Va(),searchFieldDefaultValue:f,searchTextDefaultValue:g,onSearch:v})})]})]})})}var Ka,Ya=n(47501),Xa=n(93032),Ja=n(61887),$a=n(48140),eo=n(34726),to=n(70242),no=(0,L.Z)((function(e){return{root:{flexGrow:1,marginBottom:30},createBtn:{width:"125px",borderRadius:"23px",height:"48px",backgroundColor:"#0E78D5",textTransform:"capitalize"},nav:{cursor:"pointer",fontWeight:"bold",marginRight:"3px",textTransform:"capitalize"},searchBtn:{width:"111px",height:"40px",backgroundColor:"#0E78D5",marginLeft:"20px"},bulkActionSelect:{width:160,height:40},formControl:{minWidth:136,marginLeft:"20px"},selectEmpty:{marginTop:e.spacing(2)},switch:{display:"none",marginRight:"22px"},navigation:{padding:"20px 0px 10px 0px"},searchText:{width:"34%"},actives:{color:"#0E78D5"},tabMb:{textAlign:"right",position:"relative"},switchBtn:{width:"60px",height:"40px"},capitalize:{textTransform:"capitalize"},tabs:{minHeight:"42px",height:"42px"},tabCon:{width:"100%",minHeight:"42px",height:"42px",display:"flex",justifyContent:"center"},button:{maxWidth:"264px",minWidth:"130px",borderRadius:0},active:{color:"#0E78D5",borderBottom:"2px solid #0E78D5 !important"},paper:{width:"30%",position:"absolute",left:"60%"}}})),ro="UNPUB";function so(e){var t=no(),n=e.value,r=e.onChange,s=c().useState(!1),a=(0,Q.Z)(s,2),o=a[0],i=a[1],l=c().useRef(null),u=(0,ve.gI)([te.Z.view_my_pending_milestone_429]),d=function(){i(!1)},_=function(e){return function(){r((0,p.Z)((0,p.Z)({},n),{},{status:e,page:1,is_unpub:""}))}};return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{className:t.tabCon,children:[(0,I.jsx)(kt.y3,{value:te.Z.view_published_milestone_418,children:(0,I.jsx)(k.Z,{className:(0,Je.default)(t.button,(0,ne.Z)({},t.active,(null===n||void 0===n?void 0:n.status)===We._W.published)),onClick:_(We._W.published),children:(0,S.d)("Published").t("assess_label_published")})}),(0,I.jsx)(kt.y3,{value:te.Z.view_pending_milestone_486,children:(0,I.jsx)(k.Z,{className:(0,Je.default)(t.button,(0,ne.Z)({},t.active,(null===n||void 0===n?void 0:n.status)===We._W.pending&&n.is_unpub!==ro)),onClick:_(We._W.pending),children:(0,S.d)("Pending").t("assess_label_pending")})}),(0,I.jsx)(kt.P$,{value:[te.Z.view_unpublished_milestone_417,te.Z.view_my_unpublished_milestone_428],children:(0,I.jsxs)(k.Z,{ref:l,className:(0,Je.default)(t.button,(0,ne.Z)({},t.active,n.is_unpub===ro)),endIcon:(0,I.jsx)(eo.Z,{}),onMouseEnter:function(e){i(!0)},onMouseLeave:d,children:[(0,S.d)("Unpublished").t("assess_label_unpublished"),(0,I.jsx)(Ya.Z,{open:o,anchorEl:l.current,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,s=e.placement;return(0,I.jsx)(Xa.Z,(0,p.Z)((0,p.Z)({},t),{},{style:{transformOrigin:"bottom"===s?"center top":"center bottom"},children:(0,I.jsx)(at.Z,{children:(0,I.jsx)(Ja.Z,{autoFocusItem:o,id:"menu-list-grow",onKeyDown:d,children:(u.view_my_pending_milestone_429?[{label:(0,S.d)("Draft").t("assess_label_draft"),value:We._W.draft},{label:(0,S.d)("Waiting for Approval").t("assess_label_waiting_for_approval"),value:We._W.pending},{label:(0,S.d)("Rejected").t("assess_label_rejected"),value:We._W.rejected}]:[{label:(0,S.d)("Draft").t("assess_label_draft"),value:We._W.draft},{label:(0,S.d)("Rejected").t("assess_label_rejected"),value:We._W.rejected}]).map((function(e){return(0,I.jsx)(Be.Z,{selected:n.status===We._W.pending?n.status===e.value&&n.is_unpub===ro:n.status===e.value,onClick:function(t){return s=e.value,void r((0,p.Z)((0,p.Z)({},n),{},{status:s,page:1,is_unpub:ro}));var s},children:e.label},e.label)}))})})}))}})]})})]})})}function ao(e,t){switch(e.status){case We._W.published:var n=[];return t.delete_published_milestone_450&&(n=[{label:(0,S.d)("Delete").t("assess_label_delete"),value:Ka.delete}]),n;case We._W.pending:var r=[];return e.is_unpub?(t.delete_unpublished_milestone_449||t.delete_my_pending_milestone_490)&&(r=[{label:(0,S.d)("Delete").t("assess_label_delete"),value:Ka.delete}]):(t.delete_org_pending_milestone_489&&r.push({label:(0,S.d)("Delete").t("assess_label_delete"),value:Ka.delete}),t.approve_pending_milestone_491&&r.push({label:(0,S.d)("Approve").t("assess_label_approve"),value:Ka.approve}),t.reject_pending_milestone_492&&r.push({label:(0,S.d)("Reject").t("assess_label_reject"),value:Ka.reject})),r;case We._W.draft:case We._W.rejected:var s=[];return(t.delete_unpublished_milestone_449||t.delete_my_unpublished_milestone_488)&&(s=[{label:(0,S.d)("Delete").t("assess_label_delete"),value:Ka.delete}]),s;default:return[]}}!function(e){e.delete="delete",e.approve="approve",e.reject="reject"}(Ka||(Ka={}));var oo=function(){return[{label:(0,S.d)("Name (A-Z)").t("assess_label_name_atoz"),value:We.iY.name},{label:(0,S.d)("Name (Z-A)").t("assess_label_name_ztoa"),value:We.iY._name},{label:(0,S.d)("Created On (New-Old)").t("assess_label_created_on_newtoold"),value:We.iY._created_at},{label:(0,S.d)("Created On (Old-New)").t("assess_label_created_on_oldtonew"),value:We.iY.created_at}]};function io(e){var t=no(),n=e.value,r=e.onChange,s=e.onBulkDelete,a=e.onBulkApprove,o=e.onBulkReject,i=(0,ve.gI)([te.Z.delete_org_pending_milestone_489,te.Z.delete_my_pending_milestone_490,te.Z.delete_unpublished_milestone_449,te.Z.delete_my_unpublished_milestone_488,te.Z.delete_published_milestone_450,te.Z.approve_pending_milestone_491,te.Z.reject_pending_milestone_492]),l=ao(n,i).map((function(e){return(0,I.jsx)(Be.Z,{value:e.value,children:e.label},e.label)})),c=oo().map((function(e){return(0,I.jsx)(Be.Z,{value:e.value,children:e.label},e.label)}));return(0,I.jsx)("div",{className:t.root,children:(0,I.jsx)(Bs.Z,{holderMin:40,holderBase:202,mainBase:1517,children:(0,I.jsxs)(Pt.Z,{only:["xs","sm"],children:[(0,I.jsx)(Rn.Z,{}),(0,I.jsxs)(ns.Z,{container:!0,spacing:3,alignItems:"center",style:{marginTop:"6px"},children:[(0,I.jsx)(ns.Z,{item:!0,sm:6,xs:6,md:3,children:l.length>0&&(0,I.jsx)(Z.Z,{size:"small",style:{width:200},onChange:function(e){e.target.value===Ka.delete&&s(),e.target.value===Ka.approve&&a(),e.target.value===Ka.reject&&o()},label:(0,S.d)("Bulk Actions").t("assess_label_bulk_actions"),value:"",select:!0,SelectProps:{MenuProps:{transformOrigin:{vertical:-40,horizontal:"left"}}},children:l})}),(0,I.jsx)(ns.Z,{item:!0,md:6,children:(0,I.jsx)(so,{value:n,onChange:r})}),(0,I.jsx)(ns.Z,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",item:!0,sm:6,xs:6,md:3,children:(0,I.jsx)(Z.Z,{size:"small",style:{width:200},onChange:function(e){var t=e.target.value;r((0,N.ZP)(n,(function(e){t?e.order_by=t:delete e.order_by})))},value:n.order_by||We.iY._updated_at,label:(0,S.d)("Sort By").t("assess_label_sort_by"),select:!0,SelectProps:{MenuProps:{transformOrigin:{vertical:-40,horizontal:"left"}}},children:c})})]})]})})})}function lo(e){var t=no(),n=e.value,r=e.onChange,s=e.onBulkDelete,a=e.onBulkApprove,o=e.onBulkReject,i=(0,ve.gI)([te.Z.delete_org_pending_milestone_489,te.Z.delete_my_pending_milestone_490,te.Z.delete_unpublished_milestone_449,te.Z.delete_my_unpublished_milestone_488,te.Z.delete_published_milestone_450,te.Z.approve_pending_milestone_491,te.Z.reject_pending_milestone_492]),l=c().useState(null),u=(0,Q.Z)(l,2),d=u[0],_=u[1],m=c().useState(null),p=(0,Q.Z)(m,2),h=p[0],f=p[1],g=ao(n,i);return(0,I.jsx)("div",{className:t.root,children:(0,I.jsx)(Bs.Z,{holderMin:40,holderBase:202,mainBase:1517,children:(0,I.jsxs)(Pt.Z,{only:["md","lg","xl"],children:[(0,I.jsx)("hr",{style:{borderColor:"#e0e0e0"}}),(0,I.jsxs)(ns.Z,{container:!0,alignItems:"center",style:{marginTop:"6px",position:"relative"},children:[(0,I.jsx)(ns.Z,{item:!0,sm:10,xs:10,children:(0,I.jsx)(so,{value:n,onChange:r})}),(0,I.jsxs)(ns.Z,{container:!0,justifyContent:"flex-end",alignItems:"center",item:!0,sm:2,xs:2,children:[g.length>0&&(0,I.jsx)($a.Z,{onClick:function(e){f(e.currentTarget)}}),(0,I.jsx)(Ds.Z,{anchorEl:h,keepMounted:!0,open:Boolean(h),onClose:function(){f(null)},children:g.map((function(e,t){return(0,I.jsx)(Be.Z,{onClick:function(t){return n=e.value,f(null),n===Ka.delete&&s(),n===Ka.approve&&a(),void(n===Ka.reject&&o());var n},children:e.label},e.label)}))}),(0,I.jsx)(to.Z,{onClick:function(e){_(e.currentTarget)}}),(0,I.jsx)(Ds.Z,{anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:function(){_(null)},children:oo().map((function(e,t){return(0,I.jsx)(Be.Z,{selected:n.order_by===e.value,onClick:function(t){return s=e.value,_(null),void r((0,N.ZP)(n,(function(e){s?e.order_by=s:delete e.order_by})));var s},children:e.label},e.label)}))})]})]})]})})})}function co(){var e=(0,u.I0)(),t=(0,_.k6)(),n=function(){var e=ke(),t=e.querys,n=e.name,r=e.page,s=e.search_key,a=e.description,o=e.shortcode,i=e.author_id,c=e.is_unpub,u=t.get("status")||We._W.published,d=t.get("order_by")||void 0;return(0,l.useMemo)((function(){return ye({name:n,status:u,page:r,order_by:d,search_key:s,description:a,shortcode:o,author_id:i,is_unpub:c})}),[n,u,r,d,s,a,o,i,c])}(),r=(0,w.cI)(),s=r.watch,a=r.reset,o=function(){var e=(0,l.useState)(0),t=(0,Q.Z)(e,2),n=t[0],r=t[1],s=(0,l.useRef)(!1),a=(0,l.useMemo)((function(){return function(e){return e.then((function(e){return r(n+1),e}))}}),[n]);return(0,l.useEffect)((function(){return s.current=!0,function(){s.current=!1}})),{refreshKey:n,refreshWithDispatch:a}}(),i=o.refreshKey,c=o.refreshWithDispatch,d=(0,u.v9)((function(e){return e.milestone})),m=d.milestoneList,h=d.total,f=d.user_id,g=s(Ea.CHECKED_BULK_IDS),v=(0,ve.gI)([te.Z.view_unpublished_milestone_417,te.Z.view_published_milestone_418]),b=v.view_published_milestone_418||v.view_unpublished_milestone_417,x=(0,l.useMemo)((function(){return void 0===v.view_published_milestone_418}),[v.view_published_milestone_418]),y=function(e){t.push({search:je(ye(e))})},j=function(){return c(e((0,Na.hC)(g)))},Z=function(){return c(e((0,Na.tB)(g)).then(Se.SI))},C=function(){return c(e((0,Na.to)(g)).then(Se.SI))};return(0,l.useEffect)((function(){if(0===(null===m||void 0===m?void 0:m.length)&&h&&h>0){t.push({search:je((0,p.Z)((0,p.Z)({},n),{},{page:1}))})}}),[n,t,m,h]),(0,l.useEffect)((function(){a(),(0,X.Z)($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e((0,Na.gs)((0,p.Z)((0,p.Z)({},n),{},{metaLoading:!0})));case 2:case"end":return t.stop()}}),t)})))()}),[n,e,i,a]),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(ii,{}),(0,I.jsx)(li,{}),b&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Ha,{value:n,onChange:y}),(0,I.jsx)(io,{value:n,onChange:y,onBulkDelete:j,onBulkApprove:C,onBulkReject:Z}),(0,I.jsx)(lo,{value:n,onChange:y,onBulkDelete:j,onBulkApprove:C,onBulkReject:Z})]}),x?"":b?void 0===h?"":m&&m.length>0?(0,I.jsx)(Wa,{queryCondition:n,formMethods:r,total:h,list:m,onChangePage:function(e){return t.push({search:je((0,p.Z)((0,p.Z)({},n),{},{page:e}))})},onClickMilestone:function(e){t.push({pathname:Uo.routeRedirectDefault,search:je(ye({id:e,is_unpub:n.is_unpub}))})},onDelete:function(t){return c(e((0,Na.hC)([t])))},onApprove:function(t){return c(e((0,Na.pe)([t])).then(Se.SI))},onReject:function(t){return c(e((0,Na.tB)([t])).then(Se.SI))},user_id:f}):pe:me]})}co.routeBasePath="/assessments/milestone-list",co.routeRedirectDefault="/assessments/milestone-list?status=".concat(We._W.published,"&page=1&order_by=").concat(We.iY._created_at);var uo=n(41050),_o=function(e,t){return{color:e.main,cursor:"pointer","&:hover":{color:e.dark}}},mo=(0,L.Z)((function(e){e.breakpoints;var t=e.palette;return{tableContainer:{marginTop:5,maxHeight:900,marginBottom:20},table:{minWidth:538},tableHead:{backgroundColor:"#F2F5F7",textAlign:"center"},tableCell:{maxWidth:200,textAlign:"center",wordBreak:"break-all"},liCon:{textAlign:"left",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",listStylePosition:"inside"},addGreen:_o(t.success),removeRead:_o(t.error),pagination:{},paginationUl:{justifyContent:"center"}}}));function po(e){var t=mo(),n=e.outcomeList,r=e.canEdit,s=e.isGeneralMilestone,a=e.addOrRemoveOutcome,o=e.onClickOutcome,i=(0,l.useState)(1),c=(0,Q.Z)(i,2),u=c[0],d=c[1],_=(0,l.useMemo)((function(){var e=(0,Ae.cloneDeep)(n);return s?e:e.reverse()}),[s,n]),m=(0,l.useMemo)((function(){return(0,Ae.cloneDeep)(_).slice(10*(u-1),10*u)}),[_,u]),p=m&&m[0]&&m.map((function(e){var n,s,i;return(0,I.jsxs)(Xt.Z,{onClick:function(t){return o(e.outcome_id)},children:[(0,I.jsx)(Kt.Z,{className:t.tableCell,children:e.outcome_name}),(0,I.jsx)(Kt.Z,{className:t.tableCell,children:e.shortcode}),(0,I.jsx)(Kt.Z,{className:t.tableCell,children:e.program&&e.program[0]?e.program[0].program_name:""}),(0,I.jsx)(Kt.Z,{className:t.tableCell,children:null===(n=e.developmental)||void 0===n?void 0:n.map((function(e){return e.developmental_name})).join(",")}),(0,I.jsx)(Kt.Z,{className:t.tableCell,children:e.assumed?(0,S.d)("Yes").t("assess_label_yes"):""}),(0,I.jsx)(Kt.Z,{className:t.tableCell,children:(0,I.jsx)("ul",{children:null===(s=e.sets)||void 0===s?void 0:s.map((function(e,n){return(0,I.jsx)("li",{className:t.liCon,children:e.set_name},"".concat(n).concat(e.set_name))}))})}),(0,I.jsx)(Kt.Z,{className:t.tableCell,children:r&&(0,I.jsx)(uo.Z,{className:t.removeRead,onClick:(i=function(t){return a(e,"remove")},function(e){if(e.stopPropagation(),i)return i(e)})})})]},e.outcome_id)}));return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("h1",{style:{marginLeft:10},children:[(0,S.d)("Contained Learning Outcomes").t("assess_milestone_contained_lo")," ","(".concat(n.length,")")]}),(0,I.jsx)(an.Z,{className:t.tableContainer,children:(0,I.jsxs)(dn.Z,{className:t.table,stickyHeader:!0,children:[(0,I.jsx)(Yt.Z,{className:t.tableHead,children:(0,I.jsxs)(Xt.Z,{children:[(0,I.jsx)(Kt.Z,{className:t.tableCell,children:(0,S.d)("Learning Outcomes").t("library_label_learning_outcomes")}),(0,I.jsx)(Kt.Z,{className:t.tableCell,children:(0,S.d)("Short Code").t("assess_label_short_code")}),(0,I.jsx)(Kt.Z,{className:t.tableCell,children:(0,S.d)("Program").t("assess_column_program")}),(0,I.jsx)(Kt.Z,{className:t.tableCell,children:(0,S.d)("Category").t("assess_label_category")}),(0,I.jsx)(Kt.Z,{className:t.tableCell,children:(0,S.d)("Assumed").t("assess_label_assumed")}),(0,I.jsx)(Kt.Z,{className:t.tableCell,children:(0,S.d)("Learning Outcome Set").t("assess_set_learning_outcome_set")}),(0,I.jsx)(Kt.Z,{className:t.tableCell})]})}),(0,I.jsx)(_n.Z,{children:p})]})}),(0,I.jsx)(Ns.Z,{classes:{ul:t.paginationUl},onChange:function(e,t){d(t)},count:Math.ceil(_.length/10),color:"primary",page:u})]})}function ho(e){var t=e.onAddOutcome;return(0,I.jsx)("div",{style:{textAlign:"right"},children:(0,I.jsxs)(k.Z,{variant:"contained",color:"primary",onClick:t,children:[(0,S.d)("Add").t("assess_milestone_detail_add")," +"]})})}var fo=n(93069),go=(0,L.Z)((function(e){return{tab:{width:"100%",backgroundColor:"#f0f0f0",fontSize:"18px","& .assessment-MuiTabs-indicator":{width:0}},tabAlignLeft:{flexGrow:0,color:"rgba(0, 0, 0, 0.54) !important"},span:{width:"0 !important"},tabPane:{padding:0,display:"none","&.active":{display:"block"}}}})),vo=["details","learningoutcomes"];function bo(e){var t=go(),n=e.tab,r=e.children,s=e.showSecondTab,a=e.onChangeTab,o=(0,Ie.Z)().breakpoints,i=(0,Pe.Z)(o.down("sm")),c=-1,u=l.Children.map(r,(function(e){return c+=1,(0,I.jsx)("div",{className:(0,Je.default)(t.tabPane,{active:n===vo[c]}),children:e},vo[c])}));return(0,I.jsx)(at.Z,{elevation:i?0:3,style:{minHeight:900},children:(0,I.jsxs)(fo.ZP,{value:n,children:[(0,I.jsxs)(as.Z,{className:t.tab,value:n,onChange:function(e,t){return a(t)},classes:{indicator:s?"":t.span},indicatorColor:"primary",textColor:"primary",variant:"fullWidth","aria-label":"full width tabs example",children:[(0,I.jsx)(ss.Z,{classes:{selected:s?"":t.tabAlignLeft},label:(0,S.d)("Details").t("library_label_details"),value:vo[0]}),s&&(0,I.jsx)(ss.Z,{label:(0,S.d)("Learning Outcomes").t("library_label_learning_outcomes"),value:vo[1]})]}),u]})})}var xo=(0,L.Z)((function(e){e.palette;return{fieldset:{marginTop:32,"& .assessment-MuiInputBase-input":{color:"rgba(0,0,0,1)"}}}}));function yo(e){var t,n,r,s,a,o,i,l,c,u,d,_,m,h,f,g,v,b,x,y=xo(),j=e.formMethods,C=j.control,k=j.errors,A=e.milestoneDetail,N=e.linkedMockOptions,B=e.onChangeProgram,P=e.onChangeSubject,E=e.onChangeCategory,F=e.milestone_id,O=e.shortCode,T=e.canEdit,L=e.initDefaultValue,D=A.type===Da,R=function(e){return e&&e.map((function(e){return(0,I.jsx)(Be.Z,{value:e.id,children:e.name},e.id)}))},M=F&&A.status&&A.status===We._W.rejected;return(0,I.jsxs)(re.Z,{component:"form",p:"4.5% 8.5%",children:[M&&(0,I.jsx)(Z.Z,{label:(0,S.d)("Reason").t("assess_label_reason"),fullWidth:!0,disabled:!0,variant:"outlined",InputProps:{readOnly:!0,style:{color:"rgba(0,0,0,1)"}},value:A.reject_reason}),(0,I.jsx)(w.Qr,{as:ia,control:C,name:"milestone_name",label:(0,S.d)("Milestone Name").t("assess_milestone_detail_name"),required:!0,fullWidth:!0,multiline:!0,maxRows:3,className:M?y.fieldset:"",encode:da,decode:da,defaultValue:null===(t=L.milestone_name)||void 0===t?void 0:t.value,rules:{required:!0},InputProps:{style:{color:"rgba(0,0,0,1)"}},inputProps:{maxLength:200},error:!!k.milestone_name,disabled:!T},null===(n=L.milestone_name)||void 0===n?void 0:n.key),D?(0,I.jsx)(Z.Z,{label:(0,S.d)("Short Code").t("assess_label_short_code"),fullWidth:!0,className:y.fieldset,disabled:!0,variant:"outlined",InputProps:{readOnly:!0,style:{color:"rgba(0,0,0,1)"}},value:(0,S.d)("N/A").t("assess_column_n_a")}):(0,I.jsx)(w.Qr,{name:"shortcode",as:Z.Z,control:C,defaultValue:O,fullWidth:!0,className:y.fieldset,disabled:!T,label:(0,S.d)("Short Code").t("assess_label_short_code"),inputProps:{maxLength:5},error:!!k.shortcode,rules:{validate:function(e){var t=e.trim();if(t.length&&(t.length<5||!/^[0-9A-Z]+$/.test(t)))return!1}},helperText:(0,S.d)("5 characters long, number 0-9 & letters A-Z only").t("assess_milestone_code_requirement")},F?null===(r=L.shortcode)||void 0===r?void 0:r.key:O),F&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Z.Z,{label:(0,S.d)("Organization").t("assess_label_organization"),fullWidth:!0,className:y.fieldset,disabled:!0,variant:"outlined",InputProps:{readOnly:!0,style:{color:"rgba(0,0,0,1)"}},value:(null===(s=A.organization)||void 0===s?void 0:s.organization_name)||""}),(0,I.jsx)(Z.Z,{label:(0,S.d)("Created On").t("assess_label_created_on"),fullWidth:!0,className:y.fieldset,disabled:!0,variant:"outlined",InputProps:{readOnly:!0,style:{color:"rgba(0,0,0,1)"}},value:_t(A.create_at)}),(0,I.jsx)(Z.Z,{label:(0,S.d)("Author").t("assess_label_author"),fullWidth:!0,className:y.fieldset,disabled:!0,variant:"outlined",InputProps:{readOnly:!0,style:{color:"rgba(0,0,0,1)"}},value:D?(0,S.d)("N/A").t("assess_column_n_a"):(null===(a=A.author)||void 0===a?void 0:a.author_name)||""})]}),D?(0,I.jsx)(Z.Z,{label:(0,S.d)("Program").t("assess_label_program"),fullWidth:!0,className:y.fieldset,disabled:!0,variant:"outlined",InputProps:{readOnly:!0,style:{color:"rgba(0,0,0,1)"}},value:"None Specified"}):(0,I.jsx)(w.Qr,{name:"program_ids",defaultValue:(null===(o=L.program)||void 0===o?void 0:o.value)||[],control:C,rules:{validate:function(e){return e.length>0}},render:function(e){return(0,I.jsx)(ia,(0,p.Z)((0,p.Z)({select:!0,error:!!k.program,label:(0,S.d)("Program").t("assess_label_program"),encode:ca,decode:ua},e),{},{onChange:function(t){B(t),e.onChange(t)},required:!0,fullWidth:!0,className:y.fieldset,disabled:!T,children:R(N.program)}))}},null===(i=L.program)||void 0===i?void 0:i.key),D?(0,I.jsx)(Z.Z,{label:(0,S.d)("Subject").t("assess_label_subject"),fullWidth:!0,className:y.fieldset,disabled:!0,variant:"outlined",InputProps:{readOnly:!0,style:{color:"rgba(0,0,0,1)"}},value:"None Specified"}):(0,I.jsx)(w.Qr,{name:"subject_ids",defaultValue:(null===(l=L.subject)||void 0===l?void 0:l.value)||[],control:C,rules:{validate:function(e){return e.length>0}},render:function(e){return(0,I.jsx)(Z.Z,(0,p.Z)((0,p.Z)({select:!0,error:!!k.subject,label:(0,S.d)("Subject").t("assess_label_subject")},e),{},{onChange:function(t){var n=t.target.value;n.length>0&&P(n),n.length>0&&e.onChange(n)},fullWidth:!0,className:y.fieldset,SelectProps:{multiple:!0},required:!0,disabled:!T,children:R(N.subject)}))}},null===(c=L.subject)||void 0===c?void 0:c.key),D?(0,I.jsx)(Z.Z,{label:(0,S.d)("Category").t("library_label_category"),fullWidth:!0,className:y.fieldset,disabled:!0,variant:"outlined",InputProps:{readOnly:!0,style:{color:"rgba(0,0,0,1)"}},value:"None Specified"}):(0,I.jsx)(w.Qr,{name:"category_ids",defaultValue:(null===(u=L.category)||void 0===u?void 0:u.value)||[],control:C,rules:{validate:function(e){return e.length>0}},render:function(e){return(0,I.jsx)(ia,(0,p.Z)((0,p.Z)({select:!0,error:!!k.category,label:(0,S.d)("Category").t("library_label_category"),encode:ca,decode:ua},e),{},{onChange:function(t){E(t),e.onChange(t)},fullWidth:!0,required:!0,className:y.fieldset,disabled:!T,children:R(N.developmental)}))}},null===(d=L.category)||void 0===d?void 0:d.key),D?(0,I.jsx)(Z.Z,{label:(0,S.d)("Subcategory").t("library_label_subcategory"),fullWidth:!0,className:y.fieldset,disabled:!0,variant:"outlined",InputProps:{readOnly:!0,style:{color:"rgba(0,0,0,1)"}},value:"None Specified"}):(0,I.jsx)(w.Qr,{disabled:!T,as:Z.Z,select:!0,SelectProps:{multiple:!0},label:(0,S.d)("Subcategory").t("library_label_subcategory"),name:"subcategory_ids",defaultValue:(null===(_=L.sub_category)||void 0===_?void 0:_.value)||[],control:C,fullWidth:!0,className:y.fieldset,children:R(N.skills)},(null===(m=L.sub_category)||void 0===m?void 0:m.key)||"subcategory_ids"),(0,I.jsxs)(ns.Z,{container:!0,spacing:3,children:[(0,I.jsx)(ns.Z,{item:!0,xs:12,sm:6,children:D?(0,I.jsx)(Z.Z,{label:(0,S.d)("Age").t("assess_label_age"),fullWidth:!0,className:y.fieldset,disabled:!0,variant:"outlined",InputProps:{readOnly:!0,style:{color:"rgba(0,0,0,1)"}},value:"None Specified"}):(0,I.jsx)(w.Qr,{disabled:!T,as:Z.Z,name:"age_ids",defaultValue:(null===(h=L.age)||void 0===h?void 0:h.value)||[],control:C,select:!0,SelectProps:{multiple:!0},fullWidth:!0,className:y.fieldset,label:(0,S.d)("Age").t("assess_label_age"),children:R(N.age||[])},null===(f=L.age)||void 0===f?void 0:f.key)}),(0,I.jsx)(ns.Z,{item:!0,xs:12,sm:6,children:D?(0,I.jsx)(Z.Z,{label:(0,S.d)("Grade").t("assess_label_grade"),fullWidth:!0,className:y.fieldset,disabled:!0,variant:"outlined",InputProps:{readOnly:!0,style:{color:"rgba(0,0,0,1)"}},value:"None Specified"}):(0,I.jsx)(w.Qr,{disabled:!T,as:Z.Z,name:"grade_ids",defaultValue:(null===(g=L.grade)||void 0===g?void 0:g.value)||[],control:C,select:!0,SelectProps:{multiple:!0},fullWidth:!0,className:y.fieldset,label:(0,S.d)("Grade").t("assess_label_grade"),children:R(N.grade||[])},null===(v=L.grade)||void 0===v?void 0:v.key)})]}),D?(0,I.jsx)(Z.Z,{label:(0,S.d)("Description").t("assess_label_description"),fullWidth:!0,className:y.fieldset,disabled:!0,rows:4,variant:"outlined",InputProps:{readOnly:!0,style:{color:"rgba(0,0,0,1)"}},value:(0,S.d)("N/A").t("assess_column_n_a")}):(0,I.jsx)(w.Qr,{name:"description",as:Z.Z,control:C,defaultValue:null===(b=L.description)||void 0===b?void 0:b.value,label:(0,S.d)("Description").t("assess_label_description"),fullWidth:!0,className:y.fieldset,multiline:!0,rows:4,inputProps:{maxLength:200},disabled:!T},null===(x=L.description)||void 0===x?void 0:x.key),(0,I.jsx)(w.Qr,{style:{display:"none"},name:"with_publish",control:C,as:Z.Z,defaultValue:!1}),(0,I.jsx)(w.Qr,{style:{display:"none"},name:"type",control:C,as:Z.Z,defaultValue:"normal"})]})}var jo=n(64008),Zo=n(12253),Co=n(56674),ko=n(47389),wo=n(87637),So=function(e,t){return{color:t.common.white,backgroundColor:e.main,"&:hover":{backgroundColor:e.dark}}},Ao=function(e,t){return{color:e.main,borderColor:e.light,"&:hover":{borderColor:e.main,backgroundColor:(0,It.Fq)(e.main,t.action.hoverOpacity)}}},No=(0,L.Z)((function(e){var t=e.palette,n=e.breakpoints;return{arrowBack:(0,ne.Z)({color:t.common.black,marginRight:28},n.down("sm"),{marginRight:16}),kidsloopLogo:{width:140,marginRight:16},title:(0,ne.Z)({marginRight:"auto"},n.down("sm"),{fontSize:16}),headerButton:{fontWeight:"bold",borderRadius:27,marginLeft:50},iconButton:{marginRight:16,padding:5,border:"thin solid currentColor"},redButton:So(t.error,t),redOutlinedButton:Ao(t.error,t),greenButton:So(t.success,t),primaryIconButton:So(t.primary,t),radioGroup:{flexDirection:"row",padding:"7px 0",marginTop:16},radio:(0,ne.Z)({"&:not(:first-child)":{marginLeft:64}},n.down("sm"),{marginRight:0}),deleteButton:{border:"1px solid red",borderRadius:"28px",color:"red",fontWeight:700},editButton:{marginRight:"10px"},editBtn:{marginRight:"50px",paddingLeft:"25px",paddingRight:"25px"},deleteBtn:{paddingLeft:"20px",paddingRight:"20px"},saveButton:{width:"32px !important",height:"32px",borderRadius:"50%",backgroundColor:"green",minWidth:"32px"}}})),Bo="general";function Io(e){var t=(0,_.k6)(),n=No(),r=(0,Ie.Z)().breakpoints,s=(0,Pe.Z)(r.down("sm")),a=e.milestone_id,o=e.canEdit,i=e.onCancel,l=e.onPublish,c=e.onSave,u=e.onEdit,d=e.onDelete,m=e.onReject,p=e.onApprove,h=e.formMethods,f=e.milestoneDetail,g=e.isMyself,v=e.is_unpub,b=(null===f||void 0===f?void 0:f.status)||We._W.draft,x=b===We._W.draft||b===We._W.rejected,y=h.formState.isDirty,j=(0,ve.gI)([te.Z.edit_my_unpublished_milestone_487,te.Z.delete_org_pending_milestone_489,te.Z.edit_published_milestone_441,te.Z.delete_my_pending_milestone_490,te.Z.delete_unpublished_milestone_449,te.Z.delete_my_unpublished_milestone_488,te.Z.delete_published_milestone_450,te.Z.approve_pending_milestone_491,te.Z.reject_pending_milestone_492]);return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(re.Z,{display:"flex",alignItems:"center",pl:s?2:3,pr:10,height:72,boxShadow:3,children:[(0,I.jsx)(k.Z,{size:"small",className:n.arrowBack,onClick:function(){t.go(-1)},children:(0,I.jsx)(Et.Z,{fontSize:s?"small":"medium"})}),(0,I.jsx)(se.Z,{variant:"h6",className:n.title,children:s?(0,S.d)("Create New Milestone").t("assess_create_new_milestone"):(0,S.d)("For Organizations").t("assess_label_for_organizations")}),(0,I.jsx)(Pt.Z,{smDown:!0,children:(null===f||void 0===f?void 0:f.type)!==Bo?(0,I.jsxs)(I.Fragment,{children:[b===We._W.draft&&(0,I.jsx)(I.Fragment,{children:!a||o?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(k.Z,{variant:"contained",endIcon:(0,I.jsx)(jo.Z,{}),className:(0,Je.default)(n.headerButton,n.redButton),onClick:i,children:(0,S.d)("Cancel").t("assess_label_cancel")}),(0,I.jsx)(Mt,{variant:"contained",endIcon:(0,I.jsx)(wo.Z,{}),color:"primary",className:n.headerButton,disabled:!y,onClick:c,children:(0,S.d)("Save").t("assess_label_save")}),(0,I.jsx)(Mt,{variant:"contained",endIcon:(0,I.jsx)(ko.Z,{}),className:(0,Je.default)(n.headerButton,n.greenButton),onClick:l,disabled:!a||y,children:(0,S.d)("Publish").t("assess_label_publish")})]}):g?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(k.Z,{variant:"contained",endIcon:(0,I.jsx)(Zo.Z,{}),color:"primary",className:(0,Je.default)(n.headerButton,n.editButton,n.editBtn),onClick:u,children:(0,S.d)("Edit").t("library_label_edit")}),(0,I.jsx)(k.Z,{variant:"outlined",endIcon:(0,I.jsx)(Co.Z,{}),className:(0,Je.default)(n.deleteButton,n.deleteBtn),onClick:d,children:(0,S.d)("Delete").t("assess_label_delete")})]}):(0,I.jsxs)(I.Fragment,{children:[j.edit_unpublished_milestone_440&&(0,I.jsx)(k.Z,{variant:"contained",endIcon:(0,I.jsx)(Zo.Z,{}),color:"primary",className:(0,Je.default)(n.headerButton,n.editButton,n.editBtn),onClick:u,children:(0,S.d)("Edit").t("library_label_edit")}),j.delete_unpublished_milestone_449&&(0,I.jsx)(k.Z,{variant:"outlined",endIcon:(0,I.jsx)(Co.Z,{}),className:(0,Je.default)(n.deleteButton,n.deleteBtn),onClick:d,children:(0,S.d)("Delete").t("assess_label_delete")})]})}),b===We._W.pending&&(0,I.jsxs)(I.Fragment,{children:[g?j.delete_my_pending_milestone_490&&(0,I.jsx)(k.Z,{variant:"outlined",endIcon:(0,I.jsx)(Co.Z,{}),className:(0,Je.default)(n.deleteButton,n.deleteBtn),onClick:d,children:(0,S.d)("Delete").t("assess_label_delete")}):j.delete_org_pending_milestone_489&&(0,I.jsx)(k.Z,{variant:"outlined",endIcon:(0,I.jsx)(Co.Z,{}),className:(0,Je.default)(n.deleteButton,n.deleteBtn),onClick:d,children:(0,S.d)("Delete").t("assess_label_delete")}),!v&&(0,I.jsxs)(I.Fragment,{children:[j.reject_pending_milestone_492&&(0,I.jsx)(k.Z,{variant:"contained",endIcon:(0,I.jsx)(ga.Z,{}),className:(0,Je.default)(n.headerButton,n.redButton),onClick:m,children:(0,S.d)("Reject").t("assess_label_reject")}),j.approve_pending_milestone_491&&(0,I.jsx)(Mt,{variant:"contained",endIcon:(0,I.jsx)(Tt.Z,{}),className:(0,Je.default)(n.headerButton,n.greenButton),onClick:p,children:(0,S.d)("Approve").t("assess_label_approve")})]})]}),b===We._W.rejected&&(0,I.jsx)(I.Fragment,{children:o?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(k.Z,{variant:"contained",endIcon:(0,I.jsx)(jo.Z,{}),className:(0,Je.default)(n.headerButton,n.redButton),onClick:i,children:(0,S.d)("Cancel").t("assess_label_cancel")}),(0,I.jsx)(Mt,{variant:"contained",endIcon:(0,I.jsx)(wo.Z,{}),color:"primary",className:n.headerButton,disabled:!y,onClick:c,children:(0,S.d)("Save").t("assess_label_save")}),(0,I.jsx)(Mt,{variant:"contained",endIcon:(0,I.jsx)(ko.Z,{}),className:(0,Je.default)(n.headerButton,n.greenButton),onClick:l,disabled:y,children:(0,S.d)("Publish").t("assess_label_publish")})]}):(0,I.jsxs)(I.Fragment,{children:[j.edit_my_unpublished_milestone_487&&(0,I.jsx)(k.Z,{variant:"contained",endIcon:(0,I.jsx)(Zo.Z,{}),color:"primary",className:(0,Je.default)(n.headerButton,n.editButton,n.editBtn),onClick:u,children:(0,S.d)("Edit").t("library_label_edit")}),(0,I.jsx)(k.Z,{variant:"outlined",endIcon:(0,I.jsx)(Co.Z,{}),className:(0,Je.default)(n.deleteButton,n.deleteBtn),onClick:d,children:(0,S.d)("Delete").t("assess_label_delete")})]})}),b===We._W.published&&(0,I.jsxs)(I.Fragment,{children:[j.edit_published_milestone_441&&(0,I.jsx)(k.Z,{variant:"contained",endIcon:(0,I.jsx)(Zo.Z,{}),color:"primary",className:(0,Je.default)(n.headerButton,n.editButton,n.editBtn),onClick:u,children:(0,S.d)("Edit").t("library_label_edit")}),j.delete_published_milestone_450&&(0,I.jsx)(k.Z,{variant:"outlined",endIcon:(0,I.jsx)(Co.Z,{}),className:(0,Je.default)(n.deleteButton,n.deleteBtn),onClick:d,children:(0,S.d)("Delete").t("assess_label_delete")})]})]}):""})]}),(0,I.jsx)(Pt.Z,{smDown:!0,children:(0,I.jsx)(re.Z,{display:"flex",alignItems:"center",pl:5,pr:10,height:64,boxShadow:2,children:(0,I.jsx)(se.Z,{variant:"h6",className:n.title,children:a?(0,S.d)("Milestone Details").t("assess_milestone_details"):(0,S.d)("Create New Milestone").t("assess_create_new_milestone")})})}),(0,I.jsx)(Pt.Z,{mdUp:!0,children:(0,I.jsx)(re.Z,{display:"flex",justifyContent:"flex-end",pt:3,children:(null===f||void 0===f?void 0:f.type)!==Bo?(0,I.jsxs)(I.Fragment,{children:[b===We._W.draft&&(0,I.jsx)(I.Fragment,{children:!a||o?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.redButton),color:"primary",onClick:i,children:(0,I.jsx)(Lt.Z,{fontSize:"small"})}),(0,I.jsx)(Mt,{disabled:!y,className:(0,Je.default)(n.iconButton,n.primaryIconButton,n.saveButton),color:"primary",onClick:c,children:(0,I.jsx)(Ot.Z,{fontSize:"small"})}),(0,I.jsx)(gt.Z,{disabled:x?!x:!y,className:(0,Je.default)(n.iconButton,n.greenButton),color:"primary",onClick:l,children:(0,I.jsx)(pa.Z,{fontSize:"small"})})]}):g?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(gt.Z,{color:"primary",className:(0,Je.default)(n.iconButton,n.editButton,n.greenButton),onClick:u,children:(0,I.jsx)(fa.Z,{fontSize:"small"})}),(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.redButton),color:"primary",onClick:d,children:(0,I.jsx)(ha.Z,{fontSize:"small"})})]}):(0,I.jsxs)(I.Fragment,{children:[j.edit_unpublished_milestone_440&&(0,I.jsx)(gt.Z,{color:"primary",className:(0,Je.default)(n.iconButton,n.editButton,n.greenButton),onClick:u,children:(0,I.jsx)(fa.Z,{fontSize:"small"})}),j.delete_unpublished_milestone_449&&(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.redButton),color:"primary",onClick:d,children:(0,I.jsx)(ha.Z,{fontSize:"small"})})]})}),b===We._W.pending&&(0,I.jsxs)(I.Fragment,{children:[g?j.delete_my_pending_milestone_490&&(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.redButton),color:"primary",onClick:d,children:(0,I.jsx)(ha.Z,{fontSize:"small"})}):j.delete_org_pending_milestone_489&&(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.redButton),color:"primary",onClick:d,children:(0,I.jsx)(ha.Z,{fontSize:"small"})}),!v&&(0,I.jsxs)(I.Fragment,{children:[j.reject_pending_milestone_492&&(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.redButton),color:"primary",onClick:m,children:(0,I.jsx)(va.Z,{fontSize:"small"})}),j.approve_pending_milestone_491&&(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.greenButton),color:"primary",onClick:p,children:(0,I.jsx)(Tt.Z,{fontSize:"small"})})]})]}),b===We._W.rejected&&(0,I.jsx)(I.Fragment,{children:o?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.redButton),color:"primary",onClick:i,children:(0,I.jsx)(Lt.Z,{fontSize:"small"})}),(0,I.jsx)(Mt,{disabled:!y,className:(0,Je.default)(n.iconButton,n.primaryIconButton,n.saveButton),color:"primary",onClick:c,children:(0,I.jsx)(Ot.Z,{fontSize:"small"})}),(0,I.jsx)(gt.Z,{disabled:x?!x:!y,className:(0,Je.default)(n.iconButton,n.greenButton),color:"primary",onClick:l,children:(0,I.jsx)(pa.Z,{fontSize:"small"})})]}):(0,I.jsxs)(I.Fragment,{children:[j.edit_my_unpublished_milestone_487&&(0,I.jsx)(gt.Z,{color:"primary",className:(0,Je.default)(n.iconButton,n.editButton,n.greenButton),onClick:u,children:(0,I.jsx)(fa.Z,{fontSize:"small"})}),(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.redButton),color:"primary",onClick:d,children:(0,I.jsx)(ha.Z,{fontSize:"small"})})]})}),b===We._W.published&&(0,I.jsxs)(I.Fragment,{children:[j.edit_published_milestone_441&&(0,I.jsx)(gt.Z,{color:"primary",className:(0,Je.default)(n.iconButton,n.editButton,n.greenButton),onClick:u,children:(0,I.jsx)(fa.Z,{fontSize:"small"})}),j.delete_published_milestone_450&&(0,I.jsx)(gt.Z,{className:(0,Je.default)(n.iconButton,n.redButton),color:"primary",onClick:d,children:(0,I.jsx)(ha.Z,{fontSize:"small"})})]})]}):""})})]})}var Po=(0,L.Z)((function(e){return{searchWrap:{margin:"20px 8px",display:"flex",justifyContent:"space-between"},searchText:{"& .assessment-MuiOutlinedInput-notchedOutline":{border:0,borderRadius:0}},exectSearchInput:{maxWidth:95,marignRgiht:-10,height:40,boxSizing:"border-box",background:"#F0F0F0","& .assessment-MuiOutlinedInput-notchedOutline":{border:0}},searchCon:{display:"inline-flex",border:"1px solid rgba(0,0,0,0.23)",borderRadius:4,boxSizing:"border-box",verticalAlign:"top"},searchBtn:{width:"111px",height:"40px",backgroundColor:"#0E78D5",marginLeft:"20px"},checkField:{}}})),Eo="EXECT_SEARCH",Fo="SEARCH_TEXT_KEY";function Oo(e){var t,n=e.onSearch,r=e.condition,s=Po(),a=(0,w.cI)(),o=a.control,i=a.getValues,l=function(){var e=i().EXECT_SEARCH,t=i().SEARCH_TEXT_KEY,r=i().assumed;n(e,t,r)};return(0,I.jsxs)("div",{className:s.searchWrap,children:[(0,I.jsxs)("div",{children:[(0,I.jsxs)("div",{className:s.searchCon,children:[(0,I.jsx)(w.Qr,{as:Z.Z,control:o,name:Eo,className:s.exectSearchInput,size:"small",defaultValue:r.exect_search,select:!0,SelectProps:{MenuProps:{transformOrigin:{vertical:-40,horizontal:"left"}}},children:(t=[{label:(0,S.d)("All").t("assess_filter_all"),value:be.n7.all},{label:(0,S.d)("Author").t("assess_label_author"),value:be.n7.author},{label:(0,S.d)("Description").t("assess_label_description"),value:be.n7.description},{label:(0,S.d)("Keywords").t("assess_label_keywords"),value:be.n7.keyWord},{label:(0,S.d)("Learning Outcome Name").t("assess_label_learning_outcome_name"),value:be.n7.loName},{label:(0,S.d)("Learning Outcome Set").t("assess_set_learning_outcome_set"),value:be.n7.loSet},{label:(0,S.d)("Short Code").t("assess_label_short_code"),value:be.n7.shortCode}],t.map((function(e){return(0,I.jsx)(Be.Z,{value:e.value,children:e.label},e.label)})))}),(0,I.jsx)(w.Qr,{style:{borderLeft:0},as:Z.Z,name:Fo,control:o,size:"small",className:s.searchText,onKeyPress:function(e){"Enter"===e.key&&l()},defaultValue:r.search_key,placeholder:(0,S.d)("Search").t("assess_label_search")})]}),(0,I.jsxs)(k.Z,{variant:"contained",color:"primary",className:s.searchBtn,onClick:l,children:[(0,I.jsx)(ms.Z,{})," ",(0,S.d)("Search").t("assess_label_search")]})]}),(0,I.jsx)(w.Qr,{name:"assumed",defaultValue:r.assumed,control:o,render:function(e){return(0,I.jsx)(y.Z,{className:s.checkField,control:(0,I.jsx)(j.Z,{checked:e.value,onChange:function(t){e.onChange(t.target.checked),l()},color:"primary"}),label:(0,S.d)("Assumed").t("assess_filter_assumed")})}})]})}var To=n(5398),Lo=function(e,t){return{color:e.main,cursor:"pointer","&:hover":{color:e.dark}}},Do=(0,L.Z)((function(e){e.breakpoints;var t=e.palette;return{addGreen:Lo(t.success),removeRead:Lo(t.error),tableContainer:{marginTop:5,maxHeight:790,marginBottom:10},tableHead:{backgroundColor:"#F2F5F7"},tableCell:{textAlign:"center",maxWidth:200,wordBreak:"break-all"},liCon:{textAlign:"left",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",listStylePosition:"inside"}}})),Ro=function(e){return function(t){if(t.stopPropagation(),e)return e(t)}};function Mo(e){var t=e.outcomeList,n=e.value,r=e.onChange,s=e.canEdit,a=e.onClickOutcome,o=Do(),i=function(e,t){var s=e.ancestor_id;if("add"===t)s&&n&&r&&r(n.concat([e]));else if(s&&n){var a=(0,Ae.cloneDeep)(n);a=a.filter((function(e){return e.ancestor_id!==s})),r&&r(a)}},l=t&&t.map((function(e){var t;return(0,I.jsxs)(Xt.Z,{onClick:function(t){return a(e.outcome_id)},children:[(0,I.jsx)(Kt.Z,{className:o.tableCell,children:e.outcome_name}),(0,I.jsx)(Kt.Z,{className:o.tableCell,children:e.shortcode}),(0,I.jsx)(Kt.Z,{className:o.tableCell,children:e.assumed?(0,S.d)("Yes").t("assess_label_yes"):""}),(0,I.jsx)(Kt.Z,{className:o.tableCell,children:(0,I.jsx)("ul",{children:null===(t=e.sets)||void 0===t?void 0:t.map((function(e,t){return(0,I.jsx)("li",{className:o.liCon,children:e.set_name},"".concat(t).concat(e.set_name))}))})}),(0,I.jsx)(Kt.Z,{className:o.tableCell,children:s&&(n&&n[0]?null!==n&&void 0!==n&&n.map((function(e){return e.ancestor_id}))&&(null===n||void 0===n?void 0:n.map((function(e){return e.ancestor_id})).indexOf(e.ancestor_id))<0?(0,I.jsx)(To.Z,{className:o.addGreen,onClick:Ro((function(t){return i(e,"add")}))}):(0,I.jsx)(uo.Z,{className:o.removeRead,onClick:Ro((function(t){return i(e,"remove")}))}):(0,I.jsx)(To.Z,{className:o.addGreen,onClick:Ro((function(t){return i(e,"add")}))}))})]},e.outcome_id)}));return(0,I.jsx)(an.Z,{className:o.tableContainer,children:(0,I.jsxs)(dn.Z,{children:[(0,I.jsx)(Yt.Z,{className:o.tableHead,children:(0,I.jsxs)(Xt.Z,{children:[(0,I.jsx)(Kt.Z,{className:o.tableCell,children:(0,S.d)("Learning Outcomes").t("library_label_learning_outcomes")}),(0,I.jsx)(Kt.Z,{className:o.tableCell,children:(0,S.d)("Short Code").t("assess_label_short_code")}),(0,I.jsx)(Kt.Z,{className:o.tableCell,children:(0,S.d)("Assumed").t("assess_label_assumed")}),(0,I.jsx)(Kt.Z,{className:o.tableCell,children:(0,S.d)("Learning Outcome Set").t("assess_set_learning_outcome_set")}),(0,I.jsx)(Kt.Z,{})]})}),(0,I.jsx)(_n.Z,{children:l})]})})}var Wo=(0,L.Z)((function(e){e.breakpoints,e.palette;return{pagination:{},paginationUl:{justifyContent:"center"}}})),zo=(0,l.forwardRef)((function(e,t){var n=Wo(),r=e.outcomeList,s=e.value,a=e.outcomeTotal,o=e.outcomePage,i=e.condition,l=e.onChange,c=e.onSearch,u=e.onChangePage,d=e.canEdit,_=e.onClickOutcome;return(0,I.jsxs)("div",{style:{minHeight:900},children:[(0,I.jsx)(Oo,{condition:i,onSearch:c}),void 0===a?"":r&&r.length?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Mo,{outcomeList:r,value:s,onChange:l,canEdit:d,onClickOutcome:_}),(0,I.jsx)(Ns.Z,{className:n.pagination,classes:{ul:n.paginationUl},onChange:function(e,t){return u(t)},count:Math.ceil(a/10),color:"primary",page:o})]}):he]})})),Qo=["outcomes"];function qo(){var e,t=(0,u.I0)(),n=(0,_.k6)(),r=ke(),s=r.id,a=r.exect_search,o=r.search_key,i=r.assumed,c=r.page,d=r.search,m=r.first_save,f=r.is_unpub,g=r.updateQuery,v=(0,w.cI)(),b=v.watch,x=v.getValues,y=v.handleSubmit,j=v.setValue,Z=v.control,C=v.errors,k=v.reset,A=(0,_.UO)().tab,N=Uo.routeBasePath,B=(0,u.v9)((function(e){return e.milestone})),P=B.milestoneDetail,E=B.linkedMockOptions,F=B.shortCode,O=B.outcomeList,T=B.outcomeTotal,L=B.user_id,D=(0,l.useMemo)((function(){var e;return(null===(e=P.author)||void 0===e?void 0:e.author_id)===L}),[P.author,L]),R=(0,l.useState)(!1),M=(0,Q.Z)(R,2),W=M[0],z=M[1],q=(0,l.useState)(s?Sa.ByMilestoneDetail:Sa.ByMilestoneDetailAndOptionCount),U=(0,Q.Z)(q,2),G=U[0],H=U[1],K=(0,l.useMemo)((function(){return Fa.createDefaultValueAndKey({regulation:G,milestoneDetail:P,linkedMockOptions:E})}),[E,P,G]),Y=(0,ve.gI)([te.Z.view_pending_milestone_486]),J=b("outcomes"),ee=P.type===Bo,ne=(0,l.useMemo)((function(){return y(function(){var e=(0,X.Z)($().mark((function e(r){var a,o,i,l,c,u,d,_,m;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H(Sa.ByMilestoneDetail),null!==(a=r.shortcode)&&void 0!==a&&a.trim()){e.next=6;break}return e.next=4,t((0,Na.hK)({kind:"milestones"}));case 4:o=e.sent,r.shortcode=o.payload.shortcode;case 6:if(i=r.outcomes,l=(0,h.Z)(r,Qo),c=null===i||void 0===i?void 0:i.map((function(e){return e.ancestor_id})),u=(0,p.Z)((0,p.Z)({},l),{},{outcome_ancestor_ids:c}),!s){e.next=17;break}return e.next=12,t((0,Na.rd)({milestone_id:s,milestone:u,metaLoading:!0}));case 12:d=e.sent,"ok"===d.payload&&(k(u),t((0,V.HY)((0,S.d)("Updated Successfully").t("assess_msg_updated_successfully")))),e.next=22;break;case 17:return e.next=19,t((0,Na.vF)(u));case 19:_=e.sent,(m=_.payload).milestone_id&&(t((0,V.HY)((0,S.d)("Saved Successfully").t("assess_msg_saved_successfully"))),n.replace({search:xe(n.location.search,{id:m.milestone_id,first_save:!0})}));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t,y,n,s,k]),re=(0,l.useMemo)((function(){return y((0,X.Z)($().mark((function e(){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t((0,Na.RX)([P.milestone_id]));case 2:r=e.sent,"ok"===r.payload&&(Y.view_pending_milestone_486?n.push("/assessments/milestone-list?status=".concat(We._W.pending,"&page=1&order_by=").concat(We.iY._created_at)):n.push("/assessments/milestone-list?status=".concat(We._W.pending,"&page=1&order_by=").concat(We.iY._created_at,"&is_unpub=UNPUB")));case 5:case"end":return e.stop()}}),e)}))))}),[t,y,n,P.milestone_id,Y.view_pending_milestone_486]),se=function(){var e=(0,X.Z)($().mark((function e(){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P.status!==We._W.published){e.next=7;break}return e.next=3,t((0,Na.PN)({id:P.milestone_id,metaLoading:!0}));case 3:(r=e.sent)&&r.payload&&r.payload.milestone_id&&(n.replace("/assessments/milestone-edit/tab/details?id=".concat(r.payload.milestone_id,"&first_save=true")),z(!0)),e.next=8;break;case 7:z(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=(0,X.Z)($().mark((function e(){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t((0,Na.hC)([s]));case 2:r=e.sent,"ok"===r.payload&&n.goBack();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=(0,X.Z)($().mark((function e(){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t((0,Na.tB)([P.milestone_id]));case 2:r=e.sent,"ok"===r.payload&&(t((0,V.HY)("Reject Success")),n.push("/assessments/milestone-list?status=".concat(We._W.pending,"&page=1&order_by=").concat(We.iY._created_at)));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=(0,X.Z)($().mark((function e(){var r;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t((0,Na.pe)([P.milestone_id]));case 2:r=e.sent,"ok"===r.payload&&n.push("/assessments/milestone-list?status=".concat(We._W.pending,"&page=1&order_by=").concat(We.iY._created_at));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=(0,l.useMemo)((function(){return function(e){n.replace("".concat(N,"/tab/").concat(e).concat(d))}}),[n,N,d]),ce=(0,l.useMemo)((function(){return function(e){var n=(0,Q.Z)(e,1)[0];H(Sa.ByOptionCount),t((0,Na._B)({default_program_id:n,metaLoading:!0}))}}),[t]),ue=(0,l.useMemo)((function(){return function(e){H(Sa.ByOptionCount);var n=x("program_ids");t((0,Na._B)({default_program_id:n[0],default_subject_ids:e.join(","),metaLoading:!0}))}}),[t,x]),de=(0,l.useMemo)((function(){return function(e){var n=(0,Q.Z)(e,1)[0];H(Sa.ByOptionCount);var r=x("program_ids"),s=x("subject_ids");t((0,Na._B)({default_program_id:r[0],default_subject_ids:s.join(","),default_developmental_id:n,metaLoading:!0}))}}),[t,x]),_e=function(e){window.open("#/assessments/outcome-edit?outcome_id=".concat(e,"&readonly=true"),"_blank")};(0,l.useEffect)((function(){t((0,Na.Y7)({id:s,metaLoading:!0})),z(!(s&&!m))}),[t,m,s]);var me=(0,I.jsxs)(bo,{tab:A,onChangeTab:le,error:C.milestone_name,showSecondTab:!ee,children:[(0,I.jsx)(yo,{formMethods:v,initDefaultValue:K,milestoneDetail:P,linkedMockOptions:E,onChangeProgram:ce,onChangeSubject:ue,onChangeCategory:de,milestone_id:s,shortCode:F,canEdit:W}),(0,I.jsx)(w.Qr,{as:zo,name:"outcomes",defaultValue:null===P||void 0===P?void 0:P.outcomes,control:Z,outcomeList:O,outcomeTotal:T,condition:r,onSearch:function(e,r,s){n.replace({search:g({exect_search:e,search_key:r,assumed:s,page:1})}),t((0,Na.G5)({exect_search:e,search_key:r,assumed:s?1:-1,page:c,metaLoading:!0}))},outcomePage:c,onChangePage:function(e){n.replace({search:g({page:e})}),t((0,Na.G5)({exect_search:a,search_key:o,assumed:i?1:-1,page:e,metaLoading:!0}))},canEdit:W,onClickOutcome:_e},null===(e=K.outcomes)||void 0===e?void 0:e.key)]}),pe=(0,I.jsxs)(I.Fragment,{children:[J&&J.length?(0,I.jsx)(po,{outcomeList:J,value:J,canEdit:W,addOrRemoveOutcome:function(e,t){var n=e.ancestor_id;if("add"===t)n&&J&&J.concat([e]);else if(n&&J){var r=(0,Ae.cloneDeep)(J);r=r.filter((function(e){return e.ancestor_id!==n})),j("outcomes",r,{shouldDirty:!0})}},onClickOutcome:_e,isGeneralMilestone:ee}):(0,I.jsx)(fe,{}),A===Aa.details&&W&&(0,I.jsx)(ho,{onAddOutcome:function(){n.replace("".concat(N,"/tab/").concat(Aa.leaningoutcomes).concat(d))}})]});return(0,I.jsxs)(Ba.W,{backend:Ia.PD,children:[(0,I.jsx)(Io,{milestoneDetail:P,milestone_id:s,onCancel:function(){n.push(co.routeRedirectDefault)},onSave:ne,onPublish:re,onEdit:se,onDelete:ae,onReject:oe,onApprove:ie,canEdit:W,formMethods:v,isMyself:D,is_unpub:f===Is.uP}),(0,I.jsxs)(rt,{breakpoint:1536,leftWidth:703,rightWidth:1105,spacing:32,basePadding:0,padding:40,children:[me,pe]})]})}function Uo(){return(0,I.jsx)(qo,{})}Uo.routeBasePath="/assessments/milestone-edit",Uo.routeMatchPath="/assessments/milestone-edit/tab/:tab",Uo.routeRedirectDefault="/assessments/milestone-edit/tab/details";n.p;n.p;n.p;n.p;n.p;n.p;var Vo,Go=["title","titleId"];function Ho(){return Ho=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ho.apply(this,arguments)}function Ko(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Yo(e,t){var n=e.title,r=e.titleId,s=Ko(e,Go);return l.createElement("svg",Ho({width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":r},s),void 0===n?l.createElement("title",{id:r},"highlight-24px"):n?l.createElement("title",{id:r},n):null,Vo||(Vo=l.createElement("g",{id:"home-\\u6CA1\\u6709list",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},l.createElement("g",{id:"Assessments",transform:"translate(-1097.000000, -125.000000)"},l.createElement("g",{id:"highlight-24px",transform:"translate(1097.000000, 125.000000)"},l.createElement("polygon",{id:"\\u8DEF\\u5F84",points:"0 0 24 0 24 24 0 24"}),l.createElement("path",{d:"M6,14 L9,17 L9,22 L15,22 L15,17 L18,14 L18,9 L6,9 L6,14 Z M8,11 L16,11 L16,13.17 L13,16.17 L13,20 L11,20 L11,16.17 L8,13.17 L8,11 Z M11,2 L13,2 L13,5 L11,5 L11,2 Z M3.502,5.874 L4.916,4.46 L7.038,6.58 L5.624,7.995 L3.502,5.874 Z M16.96,6.582 L19.083,4.462 L20.496,5.878 L18.373,7.998 L16.96,6.582 Z",id:"\\u5F62\\u72B6",fill:"#0E78D5",fillRule:"nonzero"}))))))}var Xo,Jo=l.forwardRef(Yo),$o=(n.p,["title","titleId"]);function ei(){return ei=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ei.apply(this,arguments)}function ti(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ni(e,t){var n=e.title,r=e.titleId,s=ti(e,$o);return l.createElement("svg",ei({width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":r},s),void 0===n?l.createElement("title",{id:r},"highlight-24px"):n?l.createElement("title",{id:r},n):null,Xo||(Xo=l.createElement("g",{id:"home-\\u6CA1\\u6709list",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},l.createElement("g",{id:"Assessments-unpublished",transform:"translate(-1097.000000, -125.000000)"},l.createElement("g",{id:"highlight-24px",transform:"translate(1097.000000, 125.000000)"},l.createElement("polygon",{id:"\\u8DEF\\u5F84",points:"0 0 24 0 24 24 0 24"}),l.createElement("path",{d:"M6,14 L9,17 L9,22 L15,22 L15,17 L18,14 L18,9 L6,9 L6,14 Z M8,11 L16,11 L16,13.17 L13,16.17 L13,20 L11,20 L11,16.17 L8,13.17 L8,11 Z M11,2 L13,2 L13,5 L11,5 L11,2 Z M3.502,5.874 L4.916,4.46 L7.038,6.58 L5.624,7.995 L3.502,5.874 Z M16.96,6.582 L19.083,4.462 L20.496,5.878 L18.373,7.998 L16.96,6.582 Z",id:"\\u5F62\\u72B6",fill:"#000000",fillRule:"nonzero"}))))))}var ri=l.forwardRef(ni);n.p;n.p;n.p;n.p;n.p;n.p;n.p;n.p;n.p;function si(){return(0,I.jsx)(on.Z,{component:ri})}function ai(){return(0,I.jsx)(on.Z,{component:Jo})}var oi=(0,L.Z)((function(e){return{root:{marginTop:20,flexGrow:1,marginBottom:"20px"},createBtn:{width:"125px",borderRadius:"23px",height:"48px",backgroundColor:"#0E78D5",textTransform:"capitalize"},nav:{cursor:"pointer",fontWeight:"bold",marginRight:"3px",textTransform:"capitalize"},searchBtn:{width:"111px",height:"40px",backgroundColor:"#0E78D5",marginLeft:"20px"},formControl:{minWidth:136,marginLeft:"20px"},selectEmpty:{marginTop:e.spacing(2)},switch:{display:"none",marginRight:"22px"},navigation:{padding:"20px 0px 10px 0px"},searchText:{width:"34%"},actives:{color:"#0E78D5"},tabMb:{textAlign:"right",position:"relative"},switchBtn:{width:"60px",height:"40px"},capitalize:{textTransform:"capitalize"},tabs:{minHeight:"42px",height:"42px"},selectedTab:{color:"rgba(0, 0, 0, 0.54) !important"},active:{color:"#0E78D5 !important"}}}));function ii(){var e=oi(),t=(0,_.k6)(),n=(0,u.I0)(),r=t.location.pathname,s=r.indexOf(Ii.routeBasePath)>=0;return(0,I.jsx)("div",{className:e.root,children:(0,I.jsx)(Bs.Z,{holderMin:40,holderBase:202,mainBase:1517,children:(0,I.jsx)(Pt.Z,{only:["xs","sm"],children:(0,I.jsxs)(ns.Z,{container:!0,children:[(0,I.jsxs)(ns.Z,{item:!0,md:3,lg:5,xl:7,children:[r.indexOf(aa.routeBasePath)>=0&&(0,I.jsx)(kt.y3,{value:te.Z.create_learning_outcome_421,children:(0,I.jsxs)(k.Z,{onClick:function(){n((0,cs.Ph)({})),t.push(wa.routeBasePath)},variant:"contained",color:"primary",className:e.createBtn,children:[(0,S.d)("Create").t("assess_label_create")," +"]})}),r.indexOf(co.routeBasePath)>=0&&(0,I.jsx)(kt.y3,{value:te.Z.create_milestone_422,children:(0,I.jsxs)(k.Z,{href:"#".concat(Uo.routeRedirectDefault),variant:"contained",color:"primary",className:e.createBtn,children:[(0,S.d)("Create").t("assess_label_create")," +"]})})]}),(0,I.jsxs)(ns.Z,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",item:!0,md:9,lg:7,xl:5,children:[(0,I.jsx)(kt.y3,{value:te.Z.learning_outcome_page_404,children:(0,I.jsx)(k.Z,{onClick:function(){return t.push(aa.routeRedirectDefault)},className:(0,Je.default)(e.nav,(0,ne.Z)({},e.actives,r.indexOf(aa.routeBasePath)>=0)),startIcon:r.indexOf(aa.routeBasePath)>=0?(0,I.jsx)(ai,{}):(0,I.jsx)(si,{}),children:(0,S.d)("Learning Outcomes").t("assess_column_lo")})}),(0,I.jsx)(kt.y3,{value:te.Z.milestones_page_405,children:(0,I.jsx)(k.Z,{onClick:function(){n((0,cs.Ph)({})),t.push(co.routeRedirectDefault)},className:(0,Je.default)(e.nav,(0,ne.Z)({},e.actives,r.indexOf(co.routeBasePath)>=0)),startIcon:(0,I.jsx)(os.Z,{}),children:(0,S.d)("Milestones").t("assess_label_milestone")})}),(0,I.jsx)(kt.y3,{value:te.Z.milestones_page_405,children:(0,I.jsx)(k.Z,{className:(0,Je.default)(e.nav,(0,ne.Z)({},e.actives,!1)),startIcon:(0,I.jsx)(ls.Z,{}),children:(0,S.d)("Standards").t("assess_label_Standard")})}),(0,I.jsx)(kt.y3,{value:te.Z.assessments_page_406,children:(0,I.jsx)(k.Z,{onClick:function(){n((0,cs.Ph)({})),t.push(Ii.routeRedirectDefault)},className:(0,Je.default)(e.nav,(0,ne.Z)({},e.actives,s)),startIcon:(0,I.jsx)(is.Z,{}),children:(0,S.d)("Assessments").t("assess_label_assessments")})})]})]})})})})}function li(){var e=oi(),t=(0,_.k6)(),n=(0,u.I0)(),r=t.location.pathname,s=(0,ve.gI)([te.Z.learning_outcome_page_404,te.Z.assessments_page_406,te.Z.milestones_page_405]);return(0,I.jsx)("div",{className:e.root,children:(0,I.jsx)(Pt.Z,{only:["md","lg","xl"],children:(0,I.jsx)(ns.Z,{container:!0,spacing:3,children:(0,I.jsx)(ns.Z,{item:!0,xs:12,sm:12,children:(0,I.jsx)(rs.ZP,{position:"static",color:"inherit",children:(0,I.jsxs)(as.Z,{value:r,variant:"scrollable",scrollButtons:"on",indicatorColor:"primary",textColor:"primary","aria-label":"scrollable force tabs example",children:[s.learning_outcome_page_404&&(0,I.jsx)(ss.Z,{component:k.Z,value:aa.routeBasePath,label:(0,S.d)("Learning Outcomes").t("assess_column_lo"),className:e.capitalize,onClick:function(){return t.push(aa.routeRedirectDefault)}}),s.milestones_page_405&&(0,I.jsx)(ss.Z,{component:k.Z,value:co.routeBasePath,label:(0,S.d)("Milestones").t("assess_label_milestone"),className:e.capitalize,onClick:function(){n((0,cs.Ph)({})),t.push(co.routeBasePath)}}),(0,I.jsx)(ss.Z,{value:(0,S.d)("Standards").t("assess_label_Standard"),label:(0,S.d)("Standards").t("assess_label_Standard"),className:e.capitalize}),(0,I.jsx)(ss.Z,{component:k.Z,value:Ii.routeBasePath,label:(0,S.d)("Assessments").t("assess_label_assessments"),className:e.capitalize,onClick:function(){n((0,cs.Ph)({})),t.push(Ii.routeRedirectDefault)}})]})})})})})})}var ci=(0,L.Z)((function(e){return(0,D.Z)({pagination:{marginBottom:40},paginationUl:{justifyContent:"center",marginTop:30},tableCell:{minWidth:104,maxWidth:200},nameListCell:{maxWidth:300},statusCell:{width:115,minWidth:104,maxWidth:115},statusCon:{color:"#fff",borderRadius:"15px",height:26,lineHeight:"26px",textAlign:"center",width:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",padding:"0 5px"},completeColor:{backgroundColor:"#1aa21e"},inCompleteColor:{backgroundColor:"#f1c621"}})}));function ui(e){var t,n,r,s,a,o,i,c,u,d=ci(),_=e.assessment,m=e.onClickAssessment,p=e.assessmentType,h=_.status===st.T9.complete,f=h?(0,S.d)("Complete").t("assess_filter_complete"):(0,S.d)("Incomplete").t("assess_filter_in_progress"),g=(0,l.useMemo)((function(){return f.length>16}),[f.length]),v=(0,I.jsx)("div",{className:(0,Je.default)(d.statusCon,h?d.completeColor:d.inCompleteColor),children:f}),b=(0,l.useMemo)((function(){return p===Ne.bC.class||p===Ne.bC.live}),[p]),x=(0,l.useMemo)((function(){return p===Ne.bC.study}),[p]),y=(0,l.useMemo)((function(){return p===Ne.bC.review}),[p]),j=(0,l.useMemo)((function(){return p===Ne.bC.homeFun}),[p]);return(0,I.jsxs)(Xt.Z,{onClick:function(e){return m(_.id)},children:[(0,I.jsx)(Kt.Z,{className:d.tableCell,align:"center",children:null!==(t=_.title)&&void 0!==t?t:(0,S.d)("N/A").t("assess_column_n_a")}),!y&&!j&&(0,I.jsx)(Kt.Z,{align:"center",children:null===(n=_.lesson_plan)||void 0===n?void 0:n.name}),b&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Kt.Z,{align:"center",children:null===(r=_.subjects)||void 0===r?void 0:r.map((function(e){return e.name})).join(", ")}),(0,I.jsx)(Kt.Z,{align:"center",children:null===(s=_.program)||void 0===s?void 0:s.name}),(0,I.jsx)(Kt.Z,{align:"center",className:d.statusCell,children:g?(0,I.jsx)(Wn.ZP,{title:f,placement:"top",children:v}):v})]}),(0,I.jsx)(Kt.Z,{align:"center",className:d.nameListCell,children:null!==(a=null===(o=_.teachers)||void 0===o||null===(i=o.map((function(e){return e.name})))||void 0===i?void 0:i.join(" ,"))&&void 0!==a?a:(0,S.d)("N/A").t("assess_column_n_a")}),b&&(0,I.jsx)(Kt.Z,{align:"center",children:_t(_.class_end_at)}),!b&&(0,I.jsx)(Kt.Z,{align:"center",children:null!==(c=null===(u=_.class_info)||void 0===u?void 0:u.name)&&void 0!==c?c:(0,S.d)("N/A").t("assess_column_n_a")}),j&&(0,I.jsx)(Kt.Z,{align:"center",className:d.statusCell,children:g?(0,I.jsx)(Wn.ZP,{title:f,placement:"top",children:v}):v}),!b&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(Kt.Z,{align:"center",children:_t(_.due_at)?pt(_.due_at):(0,S.d)("N/A").t("assess_column_n_a")}),(0,I.jsx)(Kt.Z,{align:"center",children:null!==_&&void 0!==_&&_.complete_rate?"".concat(Math.round(100*(null===_||void 0===_?void 0:_.complete_rate)),"%"):(0,S.d)("N/A").t("assess_column_n_a")})]}),(x||j)&&(0,I.jsx)(Kt.Z,{align:"center",children:_.remaining_time?"".concat(Math.ceil(_.remaining_time/60/60/24)," ").concat((0,S.d)("Day(s)").t("assess_list_remaining_days")):0}),!y&&(0,I.jsx)(Kt.Z,{align:"center",children:_t(_.complete_at)})]})}function di(e){var t=ci(),n=e.queryCondition,r=n.assessment_type,s=n.page,a=e.total,o=e.list,i=e.onChangePage,l=e.onClickAssessment,c=function(e){var t=[{text:(0,S.d)("Assessment Title").t("assess_column_title"),value:"title",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Lesson Plan").t("library_label_lesson_plan"),value:"content",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Subject").t("assess_column_subject"),value:"subject",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Program").t("assess_column_program"),value:"program",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Status").t("assess_filter_column_status"),value:"status",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Teacher").t("assess_column_teacher"),value:"teacher",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Class End Time").t("assess_column_class_end_time"),value:"classendtime",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Complete Time").t("assess_column_complete_time"),value:"completetime",align:"center",style:{backgroundColor:"#F2F5F7"}}],n=[{text:(0,S.d)("Study Title").t("assess_list_study_title"),value:"title",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Lesson Plan").t("library_label_lesson_plan"),value:"content",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Teacher Name").t("schedule_label_teacher_name"),value:"teacher",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Class Name").t("assess_detail_class_name"),value:"class",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Due Date").t("assess_column_due_date"),value:"duedate",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Completion Rate").t("assess_list_completion_rate"),value:"completeionrate",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Assessment Remaining").t("assess_list_assessment_remaining"),value:"assessmentremaining",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Complete Time").t("assess_column_complete_time"),value:"completetime",align:"center",style:{backgroundColor:"#F2F5F7"}}],r=[{text:(0,S.d)("Assessment Title").t("assess_column_title"),value:"title",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Teacher").t("assess_column_teacher"),value:"teacher",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Class Name").t("assess_detail_class_name"),value:"class",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Status").t("assess_filter_column_status"),value:"status",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Due Date").t("assess_column_due_date"),value:"duedate",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Completion Rate").t("assess_list_completion_rate"),value:"completeionrate",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Assessment Remaining").t("assess_list_assessment_remaining"),value:"assessmentremaining",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Complete Time").t("assess_column_complete_time"),value:"completetime",align:"center",style:{backgroundColor:"#F2F5F7"}}],s=[{text:"Title",value:"title",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Teacher Name").t("schedule_label_teacher_name"),value:"teacher",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Class Name").t("assess_detail_class_name"),value:"class",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Due Date").t("assess_column_due_date"),value:"duedate",align:"center",style:{backgroundColor:"#F2F5F7"}},{text:(0,S.d)("Completion Rate").t("assess_list_completion_rate"),value:"completetime",align:"center",style:{backgroundColor:"#F2F5F7"}}];switch(e){case Ne.bC.class:case Ne.bC.live:return t;case Ne.bC.study:return n;case Ne.bC.homeFun:return r;case Ne.bC.review:return s;default:return t}}(r);return(0,I.jsxs)(Bs.Z,{holderMin:40,holderBase:202,mainBase:1517,children:[(0,I.jsx)(an.Z,{children:(0,I.jsxs)(dn.Z,{children:[(0,I.jsx)($t,{fields:c,style:{height:80,width:"100%"}}),(0,I.jsx)(_n.Z,{children:o.map((function(e){return(0,I.jsx)(ui,{assessment:e,assessmentType:r,onClickAssessment:l},e.id)}))})]})}),(0,I.jsx)(Ns.Z,{page:s,className:t.pagination,classes:{ul:t.paginationUl},onChange:function(e,t){return i(t)},count:Math.ceil(a/20),color:"primary"})]})}var _i="SEARCH_NAME",mi=(0,L.Z)((function(e){return{searchText:{position:"relative",backgroundColor:"#fff",zIndex:200,width:"280px",borderRadius:"4px"},exectSearchInput:{maxWidth:128,marignRgiht:-10,height:40,boxSizing:"border-box",background:"#F0F0F0","& .assessment-MuiOutlinedInput-notchedOutline":{border:0}},searchWrap:{display:"inline-flex",position:"relative"},searchCon:{display:"inline-flex",borderRadius:4,boxSizing:"border-box",verticalAlign:"top"},searchBtn:{position:"relative",zIndex:200,width:"120px",height:"40px",backgroundColor:"#0E78D5",marginLeft:"20px"},teacherListCon:{width:280,maxHeight:200,boxShadow:"0px 5px 5px -3px rgba(0,0,0,0.20), 0px 3px 14px 2px rgba(0,0,0,0.12), 0px 8px 10px 1px rgba(0,0,0,0.14)",borderRadius:"4px",boxSizing:"border-box",paddingTop:5,background:"#fff",position:"absolute",top:"calc(100% + 10px)",zIndex:200,overflow:"auto",wrap:"nowrap"},teacherItemCon:{lineHeight:"40px",cursor:"pointer",paddingLeft:10,"&:hover":{color:"#0E78D5"}},nullCon:{lineHeight:"40px",paddingLeft:10},bigZindex:{zIndex:1400},mask:{position:"fixed",zIndex:100,inset:0,width:"100%",height:"100%",opacity:1,transition:"opacity 225ms cubic-bezier(0.4, 0, 0.2, 1) 0ms",backgroundColor:"rgba(0, 0, 0, 0.5)"}}}));function pi(e){var t=mi(),n=e.searchFieldDefaultValue,r=e.searchTextDefaultValue,s=e.defaultTeacherName,a=e.usersList,o=e.onSearch,i=e.onSearchTeacherName,c=(0,w.cI)(),u=c.control,d=c.getValues,_=c.setValue,m=(0,l.useState)({id:"",name:""}),p=(0,Q.Z)(m,2),h=p[0],f=p[1],g=(0,l.useState)(!1),v=(0,Q.Z)(g,2),b=v[0],x=v[1],y=(0,l.useState)(!1),j=(0,Q.Z)(y,2),C=j[0],A=j[1],N=(0,l.useState)(!1),B=(0,Q.Z)(N,2),P=B[0],E=B[1],F=d().SEARCH_NAME,O=(0,l.useState)(null),T=(0,Q.Z)(O,2),L=T[0],D=T[1],R=b&&F&&a,M=(0,l.useMemo)((function(){return!(!h.id&&!F)&&(F?null===a||void 0===a||!a.length||!C:void 0)}),[C,h.id,null===a||void 0===a?void 0:a.length,F]);return(0,I.jsxs)("div",{className:(0,Je.default)(t.searchWrap,b?t.bigZindex:""),children:[P&&(0,I.jsx)(hi,{onHideMask:function(){E(!1),document.getElementsByTagName("main")[0].style.overflow="auto",x(!1),_(_i,s)}}),(0,I.jsxs)("div",{style:{position:"relative"},children:[(0,I.jsx)("div",{className:t.searchCon,children:(0,I.jsx)(w.Qr,{style:{borderLeft:0},as:Z.Z,name:_i,control:u,size:"small",onFocusCapture:function(){E(!0),document.getElementsByTagName("main")[0].style.overflow="hidden",x(!0),r&&(_(_i,""),i(""))},className:t.searchText,onKeyPress:function(e){if("Enter"===e.key){if(M)return;o(n,F?h:{id:"",name:""}),A(!1),E(!1),document.getElementsByTagName("main")[0].style.overflow="auto"}},onChangeCapture:function(e){e.persist(),L&&clearTimeout(L);var t=setTimeout((function(){i(e.target.value),x(!0),A(!1)}),500);D(t)},defaultValue:s,placeholder:(0,S.d)("Teacher's given or family name").t("assessment_search_teacher_tips")})}),(0,I.jsxs)(k.Z,{variant:"contained",color:"primary",disabled:M,className:t.searchBtn,onClick:function(){F?F===h.name?o(n,h):o(n,{id:r,name:F}):o(n,{id:"",name:""}),A(!1),E(!1),document.getElementsByTagName("main")[0].style.overflow="auto",x(!1)},children:[(0,I.jsx)(ms.Z,{})," ",(0,S.d)("Search").t("assess_label_search")]}),R&&(0,I.jsx)("div",{className:t.teacherListCon,children:null!==a&&void 0!==a&&a.length?null===a||void 0===a?void 0:a.map((function(e){return(0,I.jsx)("div",{className:t.teacherItemCon,onClick:function(t){return function(e){_(_i,e.name),f(e),x(!1),A(!0)}(e)},children:e.name},e.id)})):(0,I.jsx)("div",{className:t.nullCon,children:(0,S.d)("No Matching Result").t("assessment_search_no_matching_result")})})]})]})}function hi(e){var t=mi(),n=e.onHideMask;return(0,I.jsx)("div",{className:t.mask,onClick:function(){n()}})}function fi(e){var t,n,r=e.value,s=e.formMethods,a=e.teacherList,o=e.onChange,i=e.onChangeAssessmentType,l=e.onSearchTeacherName;return(0,I.jsx)("div",{style:{marginBottom:20},children:(0,I.jsx)(Bs.Z,{holderMin:40,holderBase:202,mainBase:1517,children:(0,I.jsx)(ns.Z,{container:!0,spacing:3,style:{marginTop:"6px"},children:(0,I.jsxs)(ns.Z,{item:!0,md:12,lg:12,xl:12,children:[(0,I.jsx)(pi,{searchTextDefaultValue:null!==(t=r.query_key)&&void 0!==t?t:"",searchFieldDefaultValue:We.yG.teacher_name,defaultTeacherName:null!==(n=r.teacher_name)&&void 0!==n?n:"",searchFieldList:[{label:(0,S.d)("All").t("assess_search_all"),value:We.yG.all},{label:(0,S.d)("Teacher Name").t("schedule_label_teacher_name"),value:We.yG.teacher_name}],onSearch:function(e,t){var n=t.name,s=t.id,a=e;o((0,p.Z)((0,p.Z)({},r),{},{query_key:s,query_type:a,teacher_name:n,page:1}))},formMethods:s,onSearchTeacherName:l,usersList:a}),(0,I.jsx)(Pt.Z,{only:["xs","sm"],children:(0,I.jsx)(Ne.IQ,{type:r.assessment_type,onChangeAssessmentType:function(e){i(e)}})})]})})})})}function gi(e){var t=e.label,n=e.value,r=e.list,s=e.style,a=e.onChange;return(0,I.jsx)(Z.Z,{style:(0,p.Z)({},s),label:t,value:n,onChange:function(e){a(e.target.value)},size:"small",select:!0,SelectProps:{MenuProps:{transformOrigin:{vertical:-40,horizontal:"left"}}},children:r.map((function(e){return(0,I.jsx)(Be.Z,{value:e.value,children:e.label},e.label)}))})}var vi,bi,xi=n(52017),yi=["title","titleId"];function ji(){return ji=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ji.apply(this,arguments)}function Zi(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Ci(e,t){var n=e.title,r=e.titleId,s=Zi(e,yi);return l.createElement("svg",ji({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24,ref:t,"aria-labelledby":r},s),n?l.createElement("title",{id:r},n):null,vi||(vi=l.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),bi||(bi=l.createElement("path",{d:"M11 7h6v2h-6zm0 4h6v2h-6zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7zM20.1 3H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM19 19H5V5h14v14z"})))}var ki=l.forwardRef(Ci),wi=(n.p,(0,L.Z)((function(e){return{root:{flexGrow:1,marginBottom:30}}}))),Si=function(){return[{label:(0,S.d)("All").t("assess_filter_all"),value:st.T9.all},{label:(0,S.d)("Complete").t("assess_filter_complete"),value:st.T9.complete},{label:(0,S.d)("Incomplete").t("assess_filter_in_progress"),value:st.T9.in_progress}]},Ai=function(e){var t=[{label:(0,S.d)("Complete Time (New-Old)").t("assess_complete_time_new_old"),value:We.WL._complete_at},{label:(0,S.d)("Complete Time (Old-New)").t("assess_complete_time_old_new"),value:We.WL.complete_at}],n=[];return e!==Ne.bC.class&&e!==Ne.bC.live||(n=[{label:(0,S.d)("Class End Time (New-Old)").t("assess_class_end_time_new_old"),value:We.WL._class_end_time},{label:(0,S.d)("Class End Time (Old -New)").t("assess_class_end_time_old_new"),value:We.WL.class_end_time}]),e!==Ne.bC.study&&e!==Ne.bC.review&&e!==Ne.bC.homeFun||(n=[{label:(0,S.d)("Created On (New-Old)").t("assess_label_created_on_newtoold"),value:We.WL._create_at},{label:(0,S.d)("Created On (Old-New)").t("assess_label_created_on_oldtonew"),value:We.WL.create_at}]),[].concat((0,f.Z)(n),t)};function Ni(e){var t=e.value,n=e.onChange;return(0,I.jsx)("div",{style:{marginBottom:20},children:(0,I.jsx)(Bs.Z,{holderMin:40,holderBase:202,mainBase:1517,children:(0,I.jsxs)(Pt.Z,{only:["xs","sm"],children:[(0,I.jsx)(Rn.Z,{}),(0,I.jsxs)(ns.Z,{container:!0,spacing:3,alignItems:"center",style:{marginTop:"6px"},children:[(0,I.jsx)(ns.Z,{item:!0,md:6,lg:6,children:(0,I.jsx)(gi,{style:{width:160},label:(0,S.d)("Status").t("assess_filter_column_status"),value:t.status||We.hp.all,list:Si(),onChange:function(e){var r=e,s=(0,N.ZP)(t,(function(e){r?e.status=r:delete e.status}));n((0,p.Z)((0,p.Z)({},s),{},{page:1}))}})}),(0,I.jsx)(ns.Z,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",item:!0,md:6,lg:6,children:(0,I.jsx)(gi,{label:(0,S.d)("Sort By").t("assess_label_sort_by"),value:t.order_by,list:Ai(t.assessment_type),onChange:function(e){var r=e,s=(0,N.ZP)(t,(function(e){r?e.order_by=r:delete e.order_by}));n((0,p.Z)((0,p.Z)({},s),{},{page:1}))}})})]})]})})})}function Bi(e){var t=wi(),n=e.value,r=e.onChange,s=e.onChangeAssessmentType,a=c().useState(null),o=(0,Q.Z)(a,2),i=o[0],l=o[1],u=c().useState(null),d=(0,Q.Z)(u,2),_=d[0],m=d[1],h=c().useState(null),f=(0,Q.Z)(h,2),g=f[0],v=f[1];return(0,I.jsx)("div",{className:t.root,children:(0,I.jsx)(Bs.Z,{holderMin:40,holderBase:202,mainBase:1517,children:(0,I.jsxs)(Pt.Z,{only:["md","lg","xl"],children:[(0,I.jsx)(Rn.Z,{}),(0,I.jsxs)(ns.Z,{container:!0,alignItems:"center",style:{marginTop:"6px",position:"relative"},children:[(0,I.jsx)(ns.Z,{item:!0,sm:10,xs:10}),(0,I.jsxs)(ns.Z,{container:!0,justifyContent:"flex-end",alignItems:"center",item:!0,sm:2,xs:2,children:[(0,I.jsx)(xi.Z,{onClick:function(e){v(e.currentTarget)}}),(0,I.jsx)(Ds.Z,{anchorEl:g,keepMounted:!0,open:Boolean(g),onClose:function(){v(null)},children:(0,Ne.aO)().map((function(e,t){return(0,I.jsx)(Be.Z,{selected:e.value===n.assessment_type,onClick:function(t){return n=e.value,m(null),void(s&&s(n));var n},children:e.label},e.label)}))}),(0,I.jsx)(on.Z,{component:ki,onClick:function(e){l(e.currentTarget)}}),(0,I.jsx)(Ds.Z,{anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){l(null)},children:Si().map((function(e,t){return(0,I.jsx)(Be.Z,{selected:n.status===e.value,onClick:function(t){return function(e,t){l(null);var s=(0,N.ZP)(n,(function(e){t?e.status=t:delete e.status}));r((0,p.Z)((0,p.Z)({},s),{},{page:1}))}(0,e.value)},children:e.label},e.label)}))}),(0,I.jsx)(to.Z,{onClick:function(e){m(e.currentTarget)}}),(0,I.jsx)(Ds.Z,{anchorEl:_,keepMounted:!0,open:Boolean(_),onClose:function(){m(null)},children:Ai(n.assessment_type).map((function(e,t){return(0,I.jsx)(Be.Z,{selected:n.order_by===e.value,onClick:function(t){return s=e.value,m(null),void r((0,N.ZP)(n,(function(e){s?e.order_by=s:delete e.order_by})));var s},children:e.label},e.label)}))})]})]})]})})})}function Ii(){var e=(0,ve.gI)([te.Z.report_learning_summary_org_652,te.Z.report_learning_summary_school_651,te.Z.report_learning_summary_teacher_650,te.Z.report_learning_summary_student_649,te.Z.view_completed_assessments_414,te.Z.view_in_progress_assessments_415,te.Z.view_org_completed_assessments_424,te.Z.view_org_in_progress_assessments_425,te.Z.view_school_completed_assessments_426,te.Z.view_school_in_progress_assessments_427]),t=(0,l.useMemo)((function(){return void 0===e.view_completed_assessments_414}),[e.view_completed_assessments_414]),n=e.view_completed_assessments_414||e.view_in_progress_assessments_415||e.view_org_completed_assessments_424||e.view_org_in_progress_assessments_425||e.view_school_completed_assessments_426||e.view_school_in_progress_assessments_427,r=(0,u.v9)((function(e){return e.assessments})),s=r.assessmentListV2,a=r.total,o=r.teacherList,i=function(){var e=ke(),t=e.page,n=e.querys,r=n.get("assessment_type")||Ne.bC.live,s=n.get("query_type")||We.yG.all,a=n.get("query_key")||"",o=r===Ne.bC.study||r===Ne.bC.review||r===Ne.bC.homeFun?We.WL._create_at:We.WL._class_end_time,i=n.get("order_by")||o,c=n.get("status")||We.T9.all,u=n.get("teacher_name")||"";return(0,l.useMemo)((function(){return(0,p.Z)((0,p.Z)({},ye({query_key:a,status:c,page:t,order_by:i,query_type:s,teacher_name:u})),{},{assessment_type:r})}),[a,c,t,i,s,u,r])}(),c=(0,w.cI)(),d=c.reset,m=(0,_.k6)(),h=(0,u.I0)(),f=function(e){m.push({search:je(e)})},g=function(e){d(),m.push("/assessments/assessment-list?assessment_type=".concat(e,"&status=").concat(We.T9.all,"&page=1&query_key=").concat(i.query_key,"&query_type=").concat(i.query_type,"&teacher_name=").concat(i.teacher_name))};return(0,l.useEffect)((function(){h((0,we.WX)((0,p.Z)((0,p.Z)({},i),{},{metaLoading:!0})))}),[i,h]),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(ii,{}),(0,I.jsx)(li,{}),!t&&n&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(fi,{value:i,formMethods:c,teacherList:o,onChange:f,onChangeAssessmentType:g,onSearchTeacherName:function(e){h((0,we.Db)(e))}}),(0,I.jsx)(Ni,{value:i,onChange:f}),(0,I.jsx)(Bi,{value:i,onChange:f,onChangeAssessmentType:g})]}),t?"":n?void 0===a?"":s&&s.length>0?(0,I.jsx)(di,{queryCondition:i,list:s,total:a||0,onChangePage:function(e){return m.push({search:je((0,p.Z)((0,p.Z)({},i),{},{page:e}))})},onClickAssessment:function(e){m.push({pathname:ts.routeBasePath,search:je({id:e,assessment_type:i.assessment_type})})}}):pe:me]})}Ii.routeBasePath="/assessments/assessment-list",Ii.routeRedirectDefault="/assessments/assessment-list?assessment_type=".concat(Ne.bC.live,"&status=").concat(We.T9.all,"&page=1");var Pi=n(25649),Ei=(0,n(65628).Z)({palette:{primary:{main:"#0E78D5"},secondary:{main:"#9C27B0"},error:{main:"#D32F2F"},success:{main:"#4CAF50"},warning:{main:"#FFC107"}},typography:{button:{textTransform:"none"}},props:{MuiTextField:{variant:"outlined"}},overrides:{MuiFormLabel:{asterisk:{color:"#D32F2F"}}}}),Fi=(0,s.Z)({productionPrefix:"assessment",seed:"assessment"});var Oi=function(){return(0,I.jsx)(r.e,{client:m.YA,children:(0,I.jsx)(a.Z,{theme:Ei,children:(0,I.jsx)(o.ZP,{generateClassName:Fi,children:(0,I.jsx)(d.UT,{children:(0,I.jsx)(u.zt,{store:Pi.h,children:(0,I.jsxs)(U,{children:[(0,I.jsx)(z,{}),(0,I.jsxs)(i.wT,{children:[(0,I.jsxs)(_.rs,{children:[(0,I.jsx)(_.AW,{path:aa.routeBasePath,children:(0,I.jsx)(aa,{})}),(0,I.jsx)(_.AW,{path:Ii.routeBasePath,children:(0,I.jsx)(Ii,{})}),(0,I.jsx)(_.AW,{path:ts.routeBasePath,children:(0,I.jsx)(ts,{})}),(0,I.jsx)(_.AW,{path:wa.routeBasePath,children:(0,I.jsx)(wa,{})}),(0,I.jsx)(_.AW,{path:co.routeBasePath,children:(0,I.jsx)(co,{})}),(0,I.jsx)(_.AW,{path:Uo.routeMatchPath,children:(0,I.jsx)(Uo,{})}),(0,I.jsx)(_.AW,{path:"/",children:(0,I.jsx)(_.l_,{to:Ii.routeBasePath})})]}),(0,I.jsx)(Y,{}),(0,I.jsx)(T,{})]})]})})})})})})}},46464:function(e,t){"use strict";var n;!function(e){e.create_an_organization_account_1="create_an_organization_account_1",e.delete_an_organization_account_2="delete_an_organization_account_2",e.reset_an_organization_account_3="reset_an_organization_account_3",e.setup_an_organizations_academic_profile_4="setup_an_organizations_academic_profile_4",e.edit_an_organization_details_5="edit_an_organization_details_5",e.update_default_thumbnails_6="update_default_thumbnails_6",e.upgrade_organization_publishing_permissions_7="upgrade_organization_publishing_permissions_7",e.approve_and_reject_pending_content_8="approve_and_reject_pending_content_8",e.create_program_category_9="create_program_category_9",e.change_an_organizations_visibility_settings_10="change_an_organizations_visibility_settings_10",e.view_organization_bill_details_11="view_organization_bill_details_11",e.block_org_users_access_12="block_org_users_access_12",e.create_pricing_plan_13="create_pricing_plan_13",e.logos_1000="logos_1000",e.my_account_1010="my_account_1010",e.my_settings_1020="my_settings_1020",e.personalizations_1030="personalizations_1030",e.my_learners_page_1040="my_learners_page_1040",e.my_learners_dashboards_1041="my_learners_dashboards_1041",e.my_learners_schedule_1042="my_learners_schedule_1042",e.my_learners_study_plan_1043="my_learners_study_plan_1043",e.my_learners_notifications_1044="my_learners_notifications_1044",e.my_learners_make_a_payment_1045="my_learners_make_a_payment_1045",e.my_learners_coupon_management_1046="my_learners_coupon_management_1046",e.my_learners_view_promotions_1047="my_learners_view_promotions_1047",e.my_learners_class_recordings_1048="my_learners_class_recordings_1048",e.my_learners_attendance_report_1049="my_learners_attendance_report_1049",e.live_100="live_100",e.go_live_101="go_live_101",e.view_organization_live_recordings_110="view_organization_live_recordings_110",e.manage_live_classroom_recording_120="manage_live_classroom_recording_120",e.override_live_classroom_recording_130="override_live_classroom_recording_130",e.delete_live_classroom_recordings_140="delete_live_classroom_recordings_140",e.live_default_interface_170="live_default_interface_170",e.auto_interface_based_on_age_range_171="auto_interface_based_on_age_range_171",e.record_live_classes_172="record_live_classes_172",e.record_class_classes_173="record_class_classes_173",e.collaboration_show_web_cam_dynamic_174="collaboration_show_web_cam_dynamic_174",e.collaboration_show_web_cam_focus_175="collaboration_show_web_cam_focus_175",e.collaboration_teacher_present_176="collaboration_teacher_present_176",e.collaboration_observe_mode_177="collaboration_observe_mode_177",e.collaboration_screenshare_mode_178="collaboration_screenshare_mode_178",e.participants_tab_179="participants_tab_179",e.lesson_plan_tab_180="lesson_plan_tab_180",e.teaches_desk_tab_181="teaches_desk_tab_181",e.settings_tab_182="settings_tab_182",e.view_lesson_attachments_183="view_lesson_attachments_183",e.view_starred_content_184="view_starred_content_184",e.see_recommended_content_based_on_age_range_185="see_recommended_content_based_on_age_range_185",e.attend_live_class_as_a_teacher_186="attend_live_class_as_a_teacher_186",e.attend_live_class_as_a_student_187="attend_live_class_as_a_student_187",e.library_200="library_200",e.create_content_page_201="create_content_page_201",e.unpublished_content_page_202="unpublished_content_page_202",e.pending_content_page_203="pending_content_page_203",e.published_content_page_204="published_content_page_204",e.archived_content_page_205="archived_content_page_205",e.view_asset_db_300="view_asset_db_300",e.view_my_unpublished_content_210="view_my_unpublished_content_210",e.view_org_unpublished_content_211="view_org_unpublished_content_211",e.view_my_pending_212="view_my_pending_212",e.view_org_pending_213="view_org_pending_213",e.view_my_published_214="view_my_published_214",e.view_org_published_215="view_org_published_215",e.view_my_archived_216="view_my_archived_216",e.view_org_archived_217="view_org_archived_217",e.view_my_school_published_218="view_my_school_published_218",e.view_my_school_pending_225="view_my_school_pending_225",e.view_my_school_archived_226="view_my_school_archived_226",e.view_all_schools_published_227="view_all_schools_published_227",e.view_all_schools_pending_228="view_all_schools_pending_228",e.view_all_schools_archived_229="view_all_schools_archived_229",e.view_folders_255="view_folders_255",e.create_lesson_material_220="create_lesson_material_220",e.create_lesson_plan_221="create_lesson_plan_221",e.copy_content_222="copy_content_222",e.create_my_schools_content_223="create_my_schools_content_223",e.create_all_schools_content_224="create_all_schools_content_224",e.create_folders_256="create_folders_256",e.edit_my_unpublished_content_230="edit_my_unpublished_content_230",e.edit_org_unpublished_content_231="edit_org_unpublished_content_231",e.edit_my_pending_content_232="edit_my_pending_content_232",e.edit_org_pending_content_233="edit_org_pending_content_233",e.edit_my_published_content_234="edit_my_published_content_234",e.edit_org_published_content_235="edit_org_published_content_235",e.edit_lesson_material_metadata_and_content_236="edit_lesson_material_metadata_and_content_236",e.edit_lesson_plan_metadata_237="edit_lesson_plan_metadata_237",e.edit_lesson_plan_content_238="edit_lesson_plan_content_238",e.download_lesson_plan_239="download_lesson_plan_239",e.edit_my_schools_published_247="edit_my_schools_published_247",e.edit_my_schools_pending_248="edit_my_schools_pending_248",e.edit_all_schools_published_249="edit_all_schools_published_249",e.edit_all_schools_pending_250="edit_all_schools_pending_250",e.edit_folders_257="edit_folders_257",e.delete_my_unpublished_content_240="delete_my_unpublished_content_240",e.delete_my_schools_pending_241="delete_my_schools_pending_241",e.remove_my_schools_published_242="remove_my_schools_published_242",e.delete_my_schools_archived_243="delete_my_schools_archived_243",e.delete_all_schools_pending_244="delete_all_schools_pending_244",e.remove_all_schools_published_245="remove_all_schools_published_245",e.delete_all_schools_archived_246="delete_all_schools_archived_246",e.remove_org_published_content_254="remove_org_published_content_254",e.delete_my_pending_251="delete_my_pending_251",e.delete_org_pending_content_252="delete_org_pending_content_252",e.delete_org_archived_content_253="delete_org_archived_content_253",e.delete_folders_258="delete_folders_258",e.library_settings_270="library_settings_270",e.approve_pending_content_271="approve_pending_content_271",e.reject_pending_content_272="reject_pending_content_272",e.archive_published_content_273="archive_published_content_273",e.republish_archived_content_274="republish_archived_content_274",e.delete_archived_content_275="delete_archived_content_275",e.full_content_management_294="full_content_management_294",e.details_upload_thumbnail_276="details_upload_thumbnail_276",e.details_manually_add_program_277="details_manually_add_program_277",e.details_manually_add_developmental_skill_278="details_manually_add_developmental_skill_278",e.details_manually_add_skills_category_279="details_manually_add_skills_category_279",e.details_manually_add_suitable_age_280="details_manually_add_suitable_age_280",e.details_manually_add_grade_281="details_manually_add_grade_281",e.share_content_282="share_content_282",e.favorite_content_283="favorite_content_283",e.associate_learning_outcomes_284="associate_learning_outcomes_284",e.publish_featured_content_with_lo_285="publish_featured_content_with_lo_285",e.publish_featured_content_no_lo_286="publish_featured_content_no_lo_286",e.publish_free_content_with_lo_287="publish_free_content_with_lo_287",e.publish_free_content_no_lo_288="publish_free_content_no_lo_288",e.create_folder_289="create_folder_289",e.view_folder_290="view_folder_290",e.edit_folder_291="edit_folder_291",e.delete_folder_292="delete_folder_292",e.bulk_visibility_settings_293="bulk_visibility_settings_293",e.asset_db_300="asset_db_300",e.create_asset_page_301="create_asset_page_301",e.view_asset_310="view_asset_310",e.view_live_recordings_311="view_live_recordings_311",e.create_asset_320="create_asset_320",e.upload_asset_321="upload_asset_321",e.edit_asset_330="edit_asset_330",e.download_asset_331="download_asset_331",e.delete_asset_340="delete_asset_340",e.asset_db_settings_380="asset_db_settings_380",e.assessments_400="assessments_400",e.create_learning_outcome_page_401="create_learning_outcome_page_401",e.unpublished_page_402="unpublished_page_402",e.pending_page_403="pending_page_403",e.learning_outcome_page_404="learning_outcome_page_404",e.milestones_page_405="milestones_page_405",e.assessments_page_406="assessments_page_406",e.standards_page_407="standards_page_407",e.view_my_unpublished_learning_outcome_410="view_my_unpublished_learning_outcome_410",e.view_org_unpublished_learning_outcome_411="view_org_unpublished_learning_outcome_411",e.view_my_pending_learning_outcome_412="view_my_pending_learning_outcome_412",e.view_org_pending_learning_outcome_413="view_org_pending_learning_outcome_413",e.view_completed_assessments_414="view_completed_assessments_414",e.view_in_progress_assessments_415="view_in_progress_assessments_415",e.view_published_learning_outcome_416="view_published_learning_outcome_416",e.view_unpublished_milestone_417="view_unpublished_milestone_417",e.view_my_unpublished_milestone_428="view_my_unpublished_milestone_428",e.view_published_milestone_418="view_published_milestone_418",e.view_my_pending_milestone_429="view_my_pending_milestone_429",e.view_pending_milestone_486="view_pending_milestone_486",e.view_unpublished_standard_419="view_unpublished_standard_419",e.view_published_standard_420="view_published_standard_420",e.view_org_completed_assessments_424="view_org_completed_assessments_424",e.view_org_in_progress_assessments_425="view_org_in_progress_assessments_425",e.view_school_completed_assessments_426="view_school_completed_assessments_426",e.view_school_in_progress_assessments_427="view_school_in_progress_assessments_427",e.create_learning_outcome_421="create_learning_outcome_421",e.create_milestone_422="create_milestone_422",e.create_standard_423="create_standard_423",e.edit_my_unpublished_learning_outcome_430="edit_my_unpublished_learning_outcome_430",e.edit_org_unpublished_learning_outcome_431="edit_org_unpublished_learning_outcome_431",e.remove_content_learning_outcomes_cart_432="remove_content_learning_outcomes_cart_432",e.add_content_learning_outcomes_433="add_content_learning_outcomes_433",e.edit_my_pending_learning_outcome_434="edit_my_pending_learning_outcome_434",e.edit_org_pending_learning_outcome_435="edit_org_pending_learning_outcome_435",e.edit_published_learning_outcome_436="edit_published_learning_outcome_436",e.edit_attendance_for_completed_assessment_437="edit_attendance_for_completed_assessment_437",e.edit_attendance_for_in_progress_assessment_438="edit_attendance_for_in_progress_assessment_438",e.edit_in_progress_assessment_439="edit_in_progress_assessment_439",e.edit_unpublished_milestone_440="edit_unpublished_milestone_440",e.edit_my_unpublished_milestone_487="edit_my_unpublished_milestone_487",e.delete_org_pending_milestone_489="delete_org_pending_milestone_489",e.edit_published_milestone_441="edit_published_milestone_441",e.edit_unpublished_standard_442="edit_unpublished_standard_442",e.edit_published_standard_443="edit_published_standard_443",e.delete_my_unpublished_learning_outcome_444="delete_my_unpublished_learning_outcome_444",e.delete_org_unpublished_learning_outcome_445="delete_org_unpublished_learning_outcome_445",e.delete_my_pending_learning_outcome_446="delete_my_pending_learning_outcome_446",e.delete_org_pending_learning_outcome_447="delete_org_pending_learning_outcome_447",e.delete_my_pending_milestone_490="delete_my_pending_milestone_490",e.delete_published_learning_outcome_448="delete_published_learning_outcome_448",e.delete_unpublished_milestone_449="delete_unpublished_milestone_449",e.delete_my_unpublished_milestone_488="delete_my_unpublished_milestone_488",e.delete_published_milestone_450="delete_published_milestone_450",e.delete_unpublished_standard_451="delete_unpublished_standard_451",e.delete_published_standard_452="delete_published_standard_452",e.delete_in_progress_assessments_453="delete_in_progress_assessments_453",e.assessment_settings_480="assessment_settings_480",e.approve_pending_learning_outcome_481="approve_pending_learning_outcome_481",e.reject_pending_learning_outcome_482="reject_pending_learning_outcome_482",e.approve_pending_milestone_491="approve_pending_milestone_491",e.reject_pending_milestone_492="reject_pending_milestone_492",e.upload_learning_outcomes_483="upload_learning_outcomes_483",e.download_learning_outcomes_484="download_learning_outcomes_484",e.add_learning_outcome_to_content_485="add_learning_outcome_to_content_485",e.schedule_500="schedule_500",e.create_schedule_page_501="create_schedule_page_501",e.view_my_calendar_510="view_my_calendar_510",e.view_org_calendar_511="view_org_calendar_511",e.view_school_calendar_512="view_school_calendar_512",e.view_review_calendar_events_513="view_review_calendar_events_513",e.create_event_520="create_event_520",e.create_my_schedule_events_521="create_my_schedule_events_521",e.create_my_schools_schedule_events_522="create_my_schools_schedule_events_522",e.create_review_calendar_events_523="create_review_calendar_events_523",e.create_live_calendar_events_524="create_live_calendar_events_524",e.create_class_calendar_events_525="create_class_calendar_events_525",e.create_study_calendar_events_526="create_study_calendar_events_526",e.create_home_fun_calendar_events_527="create_home_fun_calendar_events_527",e.edit_event_530="edit_event_530",e.override_live_classroom_recording_setting_531="override_live_classroom_recording_setting_531",e.delete_event_540="delete_event_540",e.schedule_settings_580="schedule_settings_580",e.schedule_quick_start_581="schedule_quick_start_581",e.schedule_search_582="schedule_search_582",e.reports_600="reports_600",e.org_reports_601="org_reports_601",e.school_reports_602="school_reports_602",e.teacher_reports_603="teacher_reports_603",e.class_reports_604="class_reports_604",e.student_reports_605="student_reports_605",e.view_reports_610="view_reports_610",e.view_my_school_reports_611="view_my_school_reports_611",e.view_my_organizations_reports_612="view_my_organizations_reports_612",e.view_all_organizations_reports_613="view_all_organizations_reports_613",e.view_my_reports_614="view_my_reports_614",e.report_student_achievement_615="report_student_achievement_615",e.report_learning_outcomes_in_categories_616="report_learning_outcomes_in_categories_616",e.report_organization_teaching_load_617="report_organization_teaching_load_617",e.report_school_teaching_load_618="report_school_teaching_load_618",e.report_my_teaching_load_619="report_my_teaching_load_619",e.teachers_classes_teaching_time_report_620="teachers_classes_teaching_time_report_620",e.class_load_time_report_621="class_load_time_report_621",e.time_assessing_load_report_622="time_assessing_load_report_622",e.a_teachers_detailed_time_load_report_623="a_teachers_detailed_time_load_report_623",e.a_teachers_schedule_load_report_624="a_teachers_schedule_load_report_624",e.a_teachers_detailed_schedule_load_report_625="a_teachers_detailed_schedule_load_report_625",e.organization_class_achievements_report_626="organization_class_achievements_report_626",e.school_class_achievements_report_627="school_class_achievements_report_627",e.my_class_achievements_report_628="my_class_achievements_report_628",e.my_student_achievements_report_629="my_student_achievements_report_629",e.report_organizations_skills_taught_640="report_organizations_skills_taught_640",e.report_schools_skills_taught_641="report_schools_skills_taught_641",e.report_my_skills_taught_642="report_my_skills_taught_642",e.skills_taught_by_all_teachers_in_this_org_report_643="skills_taught_by_all_teachers_in_this_org_report_643",e.skills_taught_by_all_teachers_in_my_school_report_644="skills_taught_by_all_teachers_in_my_school_report_644",e.a_teachers_skills_taught_report_645="a_teachers_skills_taught_report_645",e.report_organizations_class_achievements_646="report_organizations_class_achievements_646",e.report_schools_class_achievements_647="report_schools_class_achievements_647",e.report_my_class_achievments_648="report_my_class_achievments_648",e.report_learning_summary_student_649="report_learning_summary_student_649",e.report_learning_summary_teacher_650="report_learning_summary_teacher_650",e.report_learning_summary_school_651="report_learning_summary_school_651",e.report_learning_summary_org_652="report_learning_summary_org_652",e.learning_summary_report_653="learning_summary_report_653",e.report_organization_student_usage_654="report_organization_student_usage_654",e.report_school_student_usage_655="report_school_student_usage_655",e.report_teacher_student_usage_656="report_teacher_student_usage_656",e.student_usage_report_657="student_usage_report_657",e.report_student_progress_organization_658="report_student_progress_organization_658",e.report_student_progress_school_659="report_student_progress_school_659",e.report_student_progress_teacher_660="report_student_progress_teacher_660",e.report_student_progress_student_661="report_student_progress_student_661",e.student_progress_report_662="student_progress_report_662",e.view_teacher_feedback_670="view_teacher_feedback_670",e.share_report_630="share_report_630",e.download_report_631="download_report_631",e.report_settings_680="report_settings_680",e.organizational_profile_10100="organizational_profile_10100",e.view_all_organization_details_page_10101="view_all_organization_details_page_10101",e.view_this_organization_profile_10110="view_this_organization_profile_10110",e.view_my_organization_profile_10111="view_my_organization_profile_10111",e.view_organization_details_10112="view_organization_details_10112",e.create_own_organization_10220="create_own_organization_10220",e.reactivate_own_organization_10221="reactivate_own_organization_10221",e.edit_this_organization_10330="edit_this_organization_10330",e.edit_my_organization_10331="edit_my_organization_10331",e.edit_email_address_10332="edit_email_address_10332",e.edit_password_10333="edit_password_10333",e.delete_organization_10440="delete_organization_10440",e.change_owner_10880="change_owner_10880",e.join_organization_10881="join_organization_10881",e.leave_organization_10882="leave_organization_10882",e.academic_profile_20100="academic_profile_20100",e.define_school_program_page_20101="define_school_program_page_20101",e.define_age_ranges_page_20102="define_age_ranges_page_20102",e.define_grade_page_20103="define_grade_page_20103",e.define_class_page_20104="define_class_page_20104",e.define_program_page_20105="define_program_page_20105",e.define_subject_page_20106="define_subject_page_20106",e.view_school_20110="view_school_20110",e.view_my_school_20119="view_my_school_20119",e.view_program_20111="view_program_20111",e.view_age_range_20112="view_age_range_20112",e.view_grades_20113="view_grades_20113",e.view_classes_20114="view_classes_20114",e.view_school_classes_20117="view_school_classes_20117",e.view_my_classes_20118="view_my_classes_20118",e.view_subjects_20115="view_subjects_20115",e.view_class_roster_20116="view_class_roster_20116",e.create_school_20220="create_school_20220",e.create_program_20221="create_program_20221",e.create_age_range_20222="create_age_range_20222",e.create_grade_20223="create_grade_20223",e.create_class_20224="create_class_20224",e.create_school_classes_20228="create_school_classes_20228",e.add_students_to_class_20225="add_students_to_class_20225",e.add_teachers_to_class_20226="add_teachers_to_class_20226",e.create_subjects_20227="create_subjects_20227",e.edit_school_20330="edit_school_20330",e.edit_program_20331="edit_program_20331",e.edit_age_range_20332="edit_age_range_20332",e.edit_grade_20333="edit_grade_20333",e.edit_class_20334="edit_class_20334",e.edit_school_class_20339="edit_school_class_20339",e.move_students_to_another_class_20335="move_students_to_another_class_20335",e.edit_teacher_in_class_20336="edit_teacher_in_class_20336",e.edit_subjects_20337="edit_subjects_20337",e.edit_students_in_class_20338="edit_students_in_class_20338",e.delete_school_20440="delete_school_20440",e.delete_program_20441="delete_program_20441",e.delete_age_range_20442="delete_age_range_20442",e.delete_grade_20443="delete_grade_20443",e.delete_class_20444="delete_class_20444",e.delete_school_class_20448="delete_school_class_20448",e.delete_student_from_class_roster_20445="delete_student_from_class_roster_20445",e.delete_teacher_from_class_20446="delete_teacher_from_class_20446",e.delete_subjects_20447="delete_subjects_20447",e.upload_schools_20880="upload_schools_20880",e.download_schools_20881="download_schools_20881",e.upload_program_20882="upload_program_20882",e.download_program_20883="download_program_20883",e.upload_class_roster_with_teachers_20884="upload_class_roster_with_teachers_20884",e.download_class_roster_with_teachers_20885="download_class_roster_with_teachers_20885",e.upload_age_range_20886="upload_age_range_20886",e.download_age_range_20887="download_age_range_20887",e.upload_grades_20888="upload_grades_20888",e.download_grades_20889="download_grades_20889",e.upload_classes_20890="upload_classes_20890",e.download_classes_20891="download_classes_20891",e.upload_subject_20892="upload_subject_20892",e.download_subject_20893="download_subject_20893",e.roles_30100="roles_30100",e.role_levels_30101="role_levels_30101",e.roles_and_permissions_30102="roles_and_permissions_30102",e.view_roles_and_permissions_30110="view_roles_and_permissions_30110",e.view_role_priority_levels_30111="view_role_priority_levels_30111",e.view_role_permissions_30112="view_role_permissions_30112",e.create_groups_30220="create_groups_30220",e.create_role_priority_levels_30221="create_role_priority_levels_30221",e.create_role_with_permissions_30222="create_role_with_permissions_30222",e.edit_groups_30330="edit_groups_30330",e.edit_role_priority_levels_30331="edit_role_priority_levels_30331",e.edit_role_and_permissions_30332="edit_role_and_permissions_30332",e.delete_role_30440="delete_role_30440",e.users_40100="users_40100",e.view_user_page_40101="view_user_page_40101",e.view_users_40110="view_users_40110",e.view_my_school_users_40111="view_my_school_users_40111",e.view_my_class_users_40112="view_my_class_users_40112",e.view_my_users_40113="view_my_users_40113",e.create_users_40220="create_users_40220",e.create_my_school_users_40221="create_my_school_users_40221",e.create_my_class_users_40222="create_my_class_users_40222",e.create_my_users_40223="create_my_users_40223",e.edit_users_40330="edit_users_40330",e.edit_my_school_users_40331="edit_my_school_users_40331",e.edit_my_class_users_40332="edit_my_class_users_40332",e.edit_my_users_40333="edit_my_users_40333",e.delete_users_40440="delete_users_40440",e.delete_my_school_users_40441="delete_my_school_users_40441",e.delete_my_class_users_40442="delete_my_class_users_40442",e.delete_my_users_40443="delete_my_users_40443",e.upload_users_40880="upload_users_40880",e.download_users_40881="download_users_40881",e.send_invitation_40882="send_invitation_40882",e.deactivate_user_40883="deactivate_user_40883",e.billing_50100="billing_50100",e.view_payment_details_and_make_payment_50101="view_payment_details_and_make_payment_50101",e.view_billing_details_50110="view_billing_details_50110",e.purchase_more_minutes_50880="purchase_more_minutes_50880",e.purchase_more_storage_50881="purchase_more_storage_50881",e.purchase_next_plan_50882="purchase_next_plan_50882",e.download_billing_50883="download_billing_50883",e.support_60100="support_60100",e.online_support_60101="online_support_60101",e.featured_programs_70000="featured_programs_70000",e.view_any_featured_programs_70001="view_any_featured_programs_70001",e.view_bada_rhyme_71000="view_bada_rhyme_71000",e.view_bada_genius_71001="view_bada_genius_71001",e.view_bada_talk_71002="view_bada_talk_71002",e.view_bada_sound_71003="view_bada_sound_71003",e.view_bada_read_71004="view_bada_read_71004",e.view_bada_math_71005="view_bada_math_71005",e.view_bada_stem_71006="view_bada_stem_71006",e.view_badanamu_esl_71007="view_badanamu_esl_71007",e.undefined_71008="undefined_71008",e.undefined_71009="undefined_71009",e.create_bada_rhyme_75000="create_bada_rhyme_75000",e.create_bada_genius_75001="create_bada_genius_75001",e.create_bada_talk_75002="create_bada_talk_75002",e.create_bada_sound_75003="create_bada_sound_75003",e.create_bada_read_75004="create_bada_read_75004",e.create_bada_math_75005="create_bada_math_75005",e.create_bada_stem_75006="create_bada_stem_75006",e.create_badanamu_esl_75007="create_badanamu_esl_75007",e.undefined_75008="undefined_75008",e.undefined_75009="undefined_75009",e.edit_bada_rhyme_78000="edit_bada_rhyme_78000",e.edit_bada_genius_78001="edit_bada_genius_78001",e.edit_bada_talk_78002="edit_bada_talk_78002",e.edit_bada_sound_78003="edit_bada_sound_78003",e.edit_bada_read_78004="edit_bada_read_78004",e.edit_bada_math_78005="edit_bada_math_78005",e.edit_bada_stem_78006="edit_bada_stem_78006",e.edit_badanamu_esl_78007="edit_badanamu_esl_78007",e.copy_featured_content_into_library_78008="copy_featured_content_into_library_78008",e.download_featured_content_78009="download_featured_content_78009",e.publish_featured_content_for_all_hub_79000="publish_featured_content_for_all_hub_79000",e.publish_featured_content_for_specific_orgs_79001="publish_featured_content_for_specific_orgs_79001",e.publish_featured_content_for_all_orgs_79002="publish_featured_content_for_all_orgs_79002",e.free_programs_80000="free_programs_80000",e.view_free_programs_80001="view_free_programs_80001",e.view_bada_rhyme_81000="view_bada_rhyme_81000",e.view_bada_genius_81001="view_bada_genius_81001",e.view_bada_talk_81002="view_bada_talk_81002",e.view_bada_sound_81003="view_bada_sound_81003",e.view_bada_read_81004="view_bada_read_81004",e.view_bada_math_81005="view_bada_math_81005",e.view_bada_stem_81006="view_bada_stem_81006",e.view_badanamu_esl_81007="view_badanamu_esl_81007",e.use_free_as_recommended_content_for_study_81008="use_free_as_recommended_content_for_study_81008",e.undefinend_81009="undefinend_81009",e.create_bada_rhyme_85000="create_bada_rhyme_85000",e.create_bada_genius_85001="create_bada_genius_85001",e.create_bada_talk_85002="create_bada_talk_85002",e.create_bada_sound_85003="create_bada_sound_85003",e.create_bada_read_85004="create_bada_read_85004",e.create_bada_math_85005="create_bada_math_85005",e.create_bada_stem_85006="create_bada_stem_85006",e.undefined_85007="undefined_85007",e.undefined_85008="undefined_85008",e.undefined_85009="undefined_85009",e.edit_bada_rhyme_88000="edit_bada_rhyme_88000",e.edit_bada_genius_88001="edit_bada_genius_88001",e.edit_bada_talk_88002="edit_bada_talk_88002",e.edit_bada_sound_88003="edit_bada_sound_88003",e.edit_bada_read_88004="edit_bada_read_88004",e.edit_bada_math_88005="edit_bada_math_88005",e.edit_bada_stem_88006="edit_bada_stem_88006",e.edit_badanamu_esl_88007="edit_badanamu_esl_88007",e.copy_free_content_into_library_88008="copy_free_content_into_library_88008",e.download_free_content__88009="download_free_content__88009",e.publish_free_content_for_all_hub_89000="publish_free_content_for_all_hub_89000",e.publish_free_content_for_specific_orgs_89001="publish_free_content_for_specific_orgs_89001",e.publish_free_content_for_all_orgs_89002="publish_free_content_for_all_orgs_89002"}(n||(n={})),t.Z=n},37853:function(e,t,n){"use strict";var r,s,a,o,i,l,c,u,d,_,m,p,h,f,g,v,b,x,y,j,Z,C,k,w,S,A;n.d(t,{I9:function(){return S},YI:function(){return u},_W:function(){return o},qb:function(){return j},wT:function(){return Z}}),function(e){e.EndDate="endDate",e.Id="id",e.Name="name",e.StartDate="startDate"}(r||(r={})),function(e){e.HighValue="highValue",e.HighValueUnit="highValueUnit",e.Id="id",e.LowValue="lowValue",e.LowValueUnit="lowValueUnit"}(s||(s={})),function(e){e.Month="month",e.Year="year"}(a||(a={})),function(e){e.Eq="eq"}(o||(o={})),function(e){e.Icon="ICON"}(i||(i={})),function(e){e.Id="id",e.Name="name"}(l||(l={})),function(e){e.Id="id",e.Name="name"}(c||(c={})),function(e){e.Backward="BACKWARD",e.Forward="FORWARD"}(u||(u={})),function(e){e.Id="id",e.Name="name"}(d||(d={})),function(e){e.And="AND",e.Or="OR"}(_||(_={})),function(e){e.Eq="eq",e.Gt="gt",e.Gte="gte",e.Lt="lt",e.Lte="lte",e.Neq="neq"}(m||(m={})),function(e){e.OrganizationId="organizationId",e.UserId="userId"}(p||(p={})),function(e){e.Name="name",e.OwnerEmail="ownerEmail"}(h||(h={})),function(e){e.Category="category",e.Group="group",e.Id="id",e.Level="level",e.Name="name"}(f||(f={})),function(e){e.Id="id",e.Name="name"}(g||(g={})),function(e){e.Id="id",e.Name="name"}(v||(v={})),function(e){e.SchoolId="schoolId",e.UserId="userId"}(b||(b={})),function(e){e.Id="id",e.Name="name",e.ShortCode="shortCode"}(x||(x={})),function(e){e.Asc="ASC",e.Desc="DESC"}(y||(y={})),function(e){e.Active="active",e.Deleted="deleted",e.Inactive="inactive"}(j||(j={})),function(e){e.Contains="contains",e.Eq="eq",e.Neq="neq"}(Z||(Z={})),function(e){e.Id="id",e.Name="name"}(C||(C={})),function(e){e.Id="id",e.Name="name",e.System="system"}(k||(k={})),function(e){e.Eq="eq",e.IsNull="isNull",e.Neq="neq"}(w||(w={})),function(e){e.Eq="eq",e.Neq="neq"}(S||(S={})),function(e){e.FamilyName="familyName",e.GivenName="givenName"}(A||(A={}))},60649:function(e,t,n){"use strict";n.d(t,{Mr:function(){return R},Wz:function(){return D},gJ:function(){return M},x6:function(){return W}});var r,s,a,o,i,l,c,u,d,_,m,p,h,f,g,v,b,x,y,j,Z,C,k,w,S,A,N,B,I,P,E,F=n(30168),O=n(2306),T=(0,O.Ps)(r||(r=(0,F.Z)(["\n    fragment userIdName on User {\n  user_id\n  user_name\n  family_name\n  given_name\n}\n    "]))),L=(0,O.Ps)(s||(s=(0,F.Z)(["\n    fragment classIdNameStatus on Class {\n  class_id\n  class_name\n  status\n}\n    "])));(0,O.Ps)(a||(a=(0,F.Z)(["\n    query classesByOrganization($organization_id: ID!) {\n  organization(organization_id: $organization_id) {\n    classes {\n      class_id\n      class_name\n      status\n      schools {\n        school_id\n        school_name\n      }\n      teachers {\n        user_id\n        user_name\n      }\n      students {\n        user_id\n        user_name\n      }\n    }\n  }\n}\n    "])));(0,O.Ps)(o||(o=(0,F.Z)(["\n    query participantsByClass($class_id: ID!) {\n  class(class_id: $class_id) {\n    teachers {\n      ...userIdName\n    }\n    students {\n      ...userIdName\n    }\n  }\n}\n    ",""])),T);var D=(0,O.Ps)(i||(i=(0,F.Z)(["\n    query queryMyUser {\n  myUser {\n    node {\n      id\n      givenName\n      familyName\n    }\n  }\n}\n    "])));(0,O.Ps)(l||(l=(0,F.Z)(["\n    query getSchoolMemberships($userId: UUIDFilter, $organizationId: UUIDFilter, $cursor: String) {\n  schoolsConnection(\n    filter: {userId: $userId, organizationId: $organizationId}\n    direction: FORWARD\n    directionArgs: {cursor: $cursor}\n  ) {\n    totalCount\n    pageInfo {\n      hasNextPage\n      endCursor\n    }\n    edges {\n      node {\n        id\n        status\n      }\n    }\n  }\n}\n    "])));(0,O.Ps)(c||(c=(0,F.Z)(["\n    query getClassesTeaching($organizationId: UUIDFilter, $cursor: String) {\n  myUser {\n    node {\n      classesTeachingConnection(\n        filter: {organizationId: $organizationId}\n        cursor: $cursor\n      ) {\n        totalCount\n        pageInfo {\n          hasNextPage\n          endCursor\n        }\n        edges {\n          node {\n            id\n            status\n          }\n        }\n      }\n    }\n  }\n}\n    "])));(0,O.Ps)(u||(u=(0,F.Z)(["\n    query getStudentNameById($filter: UserFilter, $directionArgs: ConnectionsDirectionArgs) {\n  usersConnection(\n    filter: $filter\n    direction: FORWARD\n    directionArgs: $directionArgs\n  ) {\n    edges {\n      node {\n        id\n        givenName\n        familyName\n      }\n    }\n    pageInfo {\n      hasNextPage\n      endCursor\n    }\n  }\n}\n    "])));(0,O.Ps)(d||(d=(0,F.Z)(["\n    query getOrganizations($direction: ConnectionDirection!, $cursor: String, $count: PageSize, $sort: OrganizationSortInput!, $filter: OrganizationFilter!) {\n  organizationsConnection(\n    direction: $direction\n    filter: $filter\n    directionArgs: {count: $count, cursor: $cursor}\n    sort: $sort\n  ) {\n    totalCount\n    edges {\n      node {\n        id\n        name\n        owners {\n          email\n        }\n      }\n    }\n    pageInfo {\n      hasNextPage\n      hasPreviousPage\n      startCursor\n      endCursor\n    }\n  }\n}\n    "])));(0,O.Ps)(_||(_=(0,F.Z)(["\n    query classesBySchool($school_id: ID!) {\n  school(school_id: $school_id) {\n    classes {\n      ...classIdNameStatus\n      schools {\n        school_id\n        school_name\n      }\n      teachers {\n        ...userIdName\n      }\n      students {\n        ...userIdName\n      }\n    }\n  }\n}\n    ","\n",""])),L,T);(0,O.Ps)(m||(m=(0,F.Z)(["\n    query classesTeachingQuery($user_id: ID!, $organization_id: ID!) {\n  user(user_id: $user_id) {\n    membership(organization_id: $organization_id) {\n      classesTeaching {\n        class_id\n        class_name\n        status\n        schools {\n          school_id\n          school_name\n        }\n        teachers {\n          user_id\n          user_name\n        }\n        students {\n          user_id\n          user_name\n        }\n      }\n    }\n  }\n}\n    "])));(0,O.Ps)(p||(p=(0,F.Z)(["\n    query classesStudentQuery($user_id: ID!, $organization_id: ID!) {\n  user(user_id: $user_id) {\n    membership(organization_id: $organization_id) {\n      classes {\n        class_id\n        class_name\n        status\n        schools {\n          school_id\n          school_name\n        }\n        teachers {\n          user_id\n          user_name\n        }\n        students {\n          user_id\n          user_name\n        }\n      }\n    }\n  }\n}\n    "])));(0,O.Ps)(h||(h=(0,F.Z)(["\n    query schoolByUserQuery($user_id: ID!, $organization_id: ID!) {\n  user(user_id: $user_id) {\n    membership(organization_id: $organization_id) {\n      schoolMemberships {\n        school {\n          school_id\n          school_name\n          classes {\n            status\n            class_id\n            class_name\n            teachers {\n              user_id\n              user_name\n            }\n            students {\n              user_id\n              user_name\n            }\n          }\n        }\n      }\n    }\n  }\n}\n    "])));(0,O.Ps)(f||(f=(0,F.Z)(["\n    query schoolByOrgQuery($organization_id: ID!) {\n  organization(organization_id: $organization_id) {\n    schools {\n      school_id\n      school_name\n      classes {\n        status\n        class_id\n        class_name\n        teachers {\n          user_id\n          user_name\n        }\n        students {\n          user_id\n          user_name\n        }\n      }\n    }\n  }\n}\n    "])));(0,O.Ps)(g||(g=(0,F.Z)(["\n    query getPrograms($program_id: ID!) {\n  program(id: $program_id) {\n    id\n    name\n    status\n    subjects {\n      id\n      name\n      status\n      categories {\n        id\n        name\n        status\n        subcategories {\n          id\n          name\n          status\n        }\n      }\n    }\n    age_ranges {\n      id\n      name\n      status\n    }\n    grades {\n      id\n      name\n      status\n    }\n  }\n}\n    "])));var R=(0,O.Ps)(v||(v=(0,F.Z)(["\n    query getProgramsAndSubjects($count: PageSize!, $cursor: String!, $filter: ProgramFilter!) {\n  programsConnection(\n    filter: $filter\n    directionArgs: {count: $count, cursor: $cursor}\n    direction: FORWARD\n  ) {\n    totalCount\n    pageInfo {\n      hasNextPage\n      endCursor\n    }\n    edges {\n      node {\n        id\n        name\n        status\n        system\n        ageRanges {\n          id\n          name\n          status\n          system\n        }\n        grades {\n          id\n          name\n          status\n          system\n        }\n        subjects {\n          id\n          name\n          status\n          system\n        }\n      }\n    }\n  }\n}\n    "])));(0,O.Ps)(b||(b=(0,F.Z)(["\n    query getSchoolsFilterList($filter: SchoolFilter, $direction: ConnectionDirection!, $directionArgs: ConnectionsDirectionArgs) {\n  schoolsConnection(\n    filter: $filter\n    direction: $direction\n    directionArgs: $directionArgs\n  ) {\n    totalCount\n    edges {\n      cursor\n      node {\n        id\n        name\n      }\n    }\n    pageInfo {\n      hasNextPage\n    }\n  }\n}\n    "])));(0,O.Ps)(x||(x=(0,F.Z)(["\n    query getClassFilterList($filter: ClassFilter, $direction: ConnectionDirection!, $directionArgs: ConnectionsDirectionArgs) {\n  classesConnection(\n    filter: $filter\n    direction: $direction\n    directionArgs: $directionArgs\n  ) {\n    totalCount\n    edges {\n      cursor\n      node {\n        id\n        name\n      }\n    }\n    pageInfo {\n      hasNextPage\n      hasPreviousPage\n      startCursor\n      endCursor\n    }\n  }\n}\n    "])));(0,O.Ps)(y||(y=(0,F.Z)(["\n    query getUser($filter: UserFilter, $direction: ConnectionDirection!, $directionArgs: ConnectionsDirectionArgs) {\n  usersConnection(\n    direction: $direction\n    filter: $filter\n    directionArgs: $directionArgs\n  ) {\n    totalCount\n    edges {\n      node {\n        id\n        givenName\n        familyName\n        status\n        roles {\n          id\n          name\n        }\n      }\n    }\n    pageInfo {\n      hasNextPage\n      hasPreviousPage\n      startCursor\n      endCursor\n    }\n  }\n}\n    "])));(0,O.Ps)(j||(j=(0,F.Z)(["\n    query getClassByInfo($filter: ClassFilter, $direction: ConnectionDirection!, $studentFilter: UserFilter, $teacherFilter: UserFilter, $studentCursor: String, $studentDirection: ConnectionDirection, $teacherCursor: String, $teacherDirection: ConnectionDirection) {\n  classesConnection(filter: $filter, direction: $direction) {\n    edges {\n      cursor\n      node {\n        id\n        name\n        studentsConnection(\n          filter: $studentFilter\n          cursor: $studentCursor\n          direction: $studentDirection\n        ) {\n          totalCount\n          edges {\n            cursor\n            node {\n              id\n              givenName\n              familyName\n              status\n            }\n          }\n          pageInfo {\n            hasNextPage\n            hasPreviousPage\n            startCursor\n            endCursor\n          }\n        }\n        teachersConnection(\n          filter: $teacherFilter\n          cursor: $teacherCursor\n          direction: $teacherDirection\n        ) {\n          totalCount\n          edges {\n            cursor\n            node {\n              id\n              givenName\n              familyName\n              status\n            }\n          }\n          pageInfo {\n            hasNextPage\n            hasPreviousPage\n            startCursor\n            endCursor\n          }\n        }\n      }\n    }\n  }\n}\n    "])));var M=(0,O.Ps)(Z||(Z=(0,F.Z)(["\n    query getRolesId($filter: RoleFilter, $direction: ConnectionDirection!, $directionArgs: ConnectionsDirectionArgs) {\n  rolesConnection(\n    filter: $filter\n    direction: $direction\n    directionArgs: $directionArgs\n  ) {\n    totalCount\n    pageInfo {\n      hasNextPage\n      hasPreviousPage\n      startCursor\n      endCursor\n    }\n    edges {\n      node {\n        id\n        name\n        status\n        system\n      }\n    }\n  }\n}\n    "])));(0,O.Ps)(C||(C=(0,F.Z)(["\n    query userNameByUserIdQuery($filter: UserFilter) {\n  usersConnection(filter: $filter, direction: FORWARD) {\n    edges {\n      node {\n        id\n        givenName\n        familyName\n      }\n    }\n  }\n}\n    "])));(0,O.Ps)(k||(k=(0,F.Z)(["\n    query classesTeachersConnection($cursor: String, $filter: ClassFilter, $teacherFilter: UserFilter, $teacherCursor: String) {\n  classesConnection(\n    filter: $filter\n    directionArgs: {cursor: $cursor}\n    direction: FORWARD\n    sort: {order: ASC, field: name}\n  ) {\n    totalCount\n    edges {\n      node {\n        id\n        name\n        teachersConnection(\n          filter: $teacherFilter\n          cursor: $teacherCursor\n          direction: FORWARD\n        ) {\n          totalCount\n          edges {\n            cursor\n            node {\n              id\n              givenName\n              familyName\n              status\n            }\n          }\n          pageInfo {\n            hasNextPage\n            hasPreviousPage\n            startCursor\n            endCursor\n          }\n        }\n      }\n    }\n    pageInfo {\n      hasNextPage\n      hasPreviousPage\n      startCursor\n      endCursor\n    }\n  }\n}\n    "])));(0,O.Ps)(w||(w=(0,F.Z)(["\n    query classNode($classId: ID!, $teacherCursor: String) {\n  classNode(id: $classId) {\n    name\n    teachersConnection(cursor: $teacherCursor) {\n      totalCount\n      edges {\n        node {\n          id\n          familyName\n          givenName\n          status\n        }\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n}\n    "])));(0,O.Ps)(S||(S=(0,F.Z)(["\n    query classesBySchoolId($cursor: String, $filter: ClassFilter, $schoolId: ID!) {\n  schoolNode(id: $schoolId) {\n    organizationId\n    classesConnection(filter: $filter, cursor: $cursor, direction: FORWARD) {\n      totalCount\n      pageInfo {\n        endCursor\n        hasNextPage\n      }\n      edges {\n        node {\n          id\n          name\n        }\n      }\n    }\n  }\n}\n    "])));(0,O.Ps)(A||(A=(0,F.Z)(["\n    query classesList($cursor: String, $filter: ClassFilter) {\n  classesConnection(\n    filter: $filter\n    directionArgs: {cursor: $cursor}\n    direction: FORWARD\n  ) {\n    totalCount\n    edges {\n      node {\n        id\n        name\n      }\n    }\n    pageInfo {\n      hasNextPage\n      endCursor\n    }\n  }\n}\n    "])));(0,O.Ps)(N||(N=(0,F.Z)(["\n    query schoolsClasses($cursor: String, $filter: SchoolFilter) {\n  schoolsConnection(\n    filter: $filter\n    directionArgs: {cursor: $cursor}\n    direction: FORWARD\n    sort: {order: ASC, field: name}\n  ) {\n    totalCount\n    edges {\n      node {\n        id\n        name\n        classesConnection(direction: FORWARD) {\n          totalCount\n          edges {\n            node {\n              id\n              name\n            }\n          }\n          pageInfo {\n            hasNextPage\n            endCursor\n          }\n        }\n      }\n    }\n    pageInfo {\n      hasNextPage\n      endCursor\n    }\n  }\n}\n    "])));(0,O.Ps)(B||(B=(0,F.Z)(["\n    query classesStudentsConnection($cursor: String, $filter: ClassFilter) {\n  classesConnection(\n    filter: $filter\n    directionArgs: {cursor: $cursor}\n    direction: FORWARD\n    sort: {order: ASC, field: name}\n  ) {\n    totalCount\n    edges {\n      node {\n        id\n        name\n        studentsConnection(direction: FORWARD) {\n          totalCount\n          edges {\n            cursor\n            node {\n              id\n              givenName\n              familyName\n              status\n            }\n          }\n          pageInfo {\n            hasNextPage\n            hasPreviousPage\n            startCursor\n            endCursor\n          }\n        }\n      }\n    }\n    pageInfo {\n      hasNextPage\n      hasPreviousPage\n      startCursor\n      endCursor\n    }\n  }\n}\n    "])));(0,O.Ps)(I||(I=(0,F.Z)(["\n    query classNodeStudents($classId: ID!, $studentsCursor: String) {\n  classNode(id: $classId) {\n    name\n    studentsConnection(cursor: $studentsCursor) {\n      totalCount\n      edges {\n        node {\n          id\n          familyName\n          givenName\n          status\n        }\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        startCursor\n        endCursor\n      }\n    }\n  }\n}\n    "])));var W=(0,O.Ps)(P||(P=(0,F.Z)(["\n    query getUsersByName($filter: UserFilter, $directionArgs: ConnectionsDirectionArgs) {\n  usersConnection(\n    filter: $filter\n    direction: FORWARD\n    directionArgs: $directionArgs\n  ) {\n    edges {\n      node {\n        id\n        givenName\n        familyName\n      }\n    }\n    pageInfo {\n      hasNextPage\n      endCursor\n    }\n  }\n}\n    "])));(0,O.Ps)(E||(E=(0,F.Z)(["\n    query getProgramIdByName($filter: ProgramFilter!) {\n  programsConnection(filter: $filter, direction: FORWARD) {\n    edges {\n      node {\n        id\n        name\n        status\n        system\n        subjectsConnection {\n          edges {\n            node {\n              id\n              name\n              status\n              system\n            }\n          }\n        }\n        ageRangesConnection {\n          edges {\n            node {\n              id\n              name\n              status\n              system\n            }\n          }\n        }\n        gradesConnection {\n          edges {\n            node {\n              id\n              name\n              status\n              system\n            }\n          }\n        }\n      }\n    }\n  }\n}\n    "])))},99807:function(e,t,n){"use strict";n.d(t,{V:function(){return a},W:function(){return r}});var r,s=n(82619);!function(e){e.ResponseError="ResponseError",e.Info="Info",e.GraphQLError="GraphQLError"}(r||(r={}));var a=(0,s.Z)()},81272:function(e,t,n){"use strict";n.d(t,{Ak:function(){return N},Hf:function(){return y},If:function(){return w},OQ:function(){return L},RL:function(){return R},SY:function(){return x},_h:function(){return C},a3:function(){return k},cT:function(){return F},fB:function(){return j},g$:function(){return E},nf:function(){return Z},nl:function(){return v},pC:function(){return b},tS:function(){return I},z$:function(){return O}});var r,s,a,o,i=n(30168),l=n(15861),c=n(87757),u=n.n(c),d=n(2306),_=n(25649),m=n(63143),p=n.n(m),h=(n(72064),n(32780)),f=n(37853),g=n(99807),v="org_id",b=function(){return fetch("https://launch.kidsloop.cn/static/mock-korea-data/select-options.json").then((function(e){return e.json()}))};!function(){var e=decodeURIComponent("https://api.klasmart.id");e.includes("https")&&e.replace("https","wss")}();var x=function(){var e=(0,l.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.ZP.contentsResources.getDownloadPath(t);case 2:return n=e.sent,e.abrupt("return",n.path);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e,t){if(e){var n=new URL(e).origin;return"".concat(n,"/download.html?download=").concat(encodeURIComponent(null!==t&&void 0!==t?t:""),"&href=").concat(encodeURIComponent(e))}},j=function(){var e=new URLSearchParams(window.location.search);return _.h.getState().common.organization_id||e.get(v)},Z=function(){var e="general_error_no_organization";return new Promise((function(t,n){var r=Date.now(),s=j();if(s)return t(s);var a=setInterval((function(){if(Date.now()-r>36e5)return clearInterval(a),g.V.emit(g.W.ResponseError,{label:e}),n({label:e});var s=j();return s?(clearInterval(a),t(s)):void 0}),100)}))},C=function(){var e;return null===(e=p().get("locale"))||void 0===e?void 0:e.slice(0,2)};var k=!1;function w(e){return S.apply(this,arguments)}function S(){return(S=(0,l.Z)(u().mark((function e(t){var n,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0="";case 5:n=e.t0,e.next=13;break;case 10:return e.abrupt("return",e.sent);case 13:return s=t.map((function(e){return"".concat(e,': checkAllowed(permission_name: "').concat(e,'")')})).join(","),e.next=16,h.YA.query({query:(0,d.Ps)(r||(r=(0,i.Z)(['\n      query{\n        meMembership: me{\n          membership(organization_id: "','"){\n            ',"\n          }\n        }\n      }\n    "])),n,s)}).then((function(e){var t,n,r,s;return{error:(e.errors||[]).length>0||null===(null===(t=e.data)||void 0===t||null===(n=t.meMembership)||void 0===n?void 0:n.membership),data:(null===(r=e.data)||void 0===r||null===(s=r.meMembership)||void 0===s?void 0:s.membership)||{}}}));case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=new Map;function N(e){return B.apply(this,arguments)}function B(){return(B=(0,l.Z)(u().mark((function e(t){var n,r,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.filter((function(e){return!A.has(e)})).map((function(e,t){return"\n          user_".concat(t,': user(user_id: "').concat(e,'"){\n            user_id,\n            given_name\n            family_name\n          }\n        ')})).join(",")){e.next=3;break}return e.abrupt("return",A);case 3:return e.prev=3,e.next=6,h.YA.query({query:(0,d.Ps)(s||(s=(0,i.Z)(["\n        query userNameByUserIdQuery{\n          ","\n        },\n        \n      "])),n)});case 6:for(a in(r=e.sent).data||{})(o=r.data[a])&&A.set(o.user_id,"".concat(o.given_name," ").concat(o.family_name));e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:return e.abrupt("return",A);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function I(){return P.apply(this,arguments)}function P(){return(P=(0,l.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0="";case 5:return t=e.t0,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=function(){var e=(0,l.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://auth.klasmart.id","/refresh"),{credentials:"include"}).then((function(e){return e.json()})).then((function(e){return e}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,l.Z)(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"PUT",body:n}).then((function(e){return e.json}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function O(e){return T.apply(this,arguments)}function T(){return(T=(0,l.Z)(u().mark((function e(t){var n,r,s,o,l,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],0!==t.length){e.next=3;break}return e.abrupt("return",n);case 3:return r=j(),s=t.map((function(e,t){var n='{\n      AND: [\n        {\n          OR: [\n            {organizationId: {\n              operator: eq,\n              value: "'.concat(r,'"\n            }},\n            {system: {operator: eq, value: true}}\n          ]\n        },\n        {name: {\n            operator: eq,\n            value: "').concat(e,'",\n            caseInsensitive: false\n        }},\n        {status: {\n          operator: eq, \n          value: "active"\n        }}\n      ]\n    }');return"q_".concat(t,": programsConnection(filter: ").concat(n,", direction: ").concat(f.YI.Forward,"){\n      edges{\n        node{\n          id,\n          name,\n          ageRangesConnection {\n            edges {\n              node {\n                id\n                name\n                status\n                system\n              }\n            }\n          },\n          gradesConnection {\n            edges {\n              node {\n                id\n                name\n                status\n                system\n              }\n            }\n          }\n        }\n      }\n    }")})).join(","),e.prev=5,e.next=8,h.YA.query({query:(0,d.Ps)(a||(a=(0,i.Z)(["\n      query getProgramIdByName{\n        ","\n      }\n      "])),s)});case 8:for(l in(o=e.sent).data||{})(c=o.data[l])&&c.edges.length>=1&&c.edges.forEach((function(e,t){if(0===t){var r=e.node.ageRangesConnection,s=e.node.gradesConnection;n.push({id:e.node.id,name:e.node.name,ages:r.edges.map((function(e){return{id:e.node.id,name:e.node.name,system:e.node.system,status:e.node.status}})),grades:s.edges.map((function(e){return{id:e.node.id,name:e.node.name,system:e.node.system,status:e.node.status}}))})}}));e.next=14;break;case 12:e.prev=12,e.t0=e.catch(5);case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}function L(e,t){return D.apply(this,arguments)}function D(){return(D=(0,l.Z)(u().mark((function e(t,n){var r,s,a,l,c,_;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=j(),s=[],a=n.map((function(e,n){var s='{\n      AND: [\n        {\n          OR: [\n            {\n              organizationId: {\n                operator: eq,\n                value: "'.concat(r,'"\n              }\n            },\n            {\n              system: {\n                operator: eq, \n                value: true\n              }\n            }\n          ],\n          AND: [{\n              name: {\n                operator: contains, \n                value: "').concat(e,'", \n                caseInsensitive: true\n              },\n              programId: {\n                operator: eq,\n                value: "').concat(t,'"\n              }\n          }]\n        }\n      ],\n      status: {operator: eq, value: "active"}\n    }');return"q_".concat(n,": subjectsConnection(filter: ").concat(s,", direction: ").concat(f.YI.Forward,"){\n      edges {\n        node {\n          id,\n          name,\n          status,\n          system,\n          categoriesConnection{\n            edges{\n              node {\n                 id,\n         \t\t\t\t name,\n                system,\n                status,\n                subcategoriesConnection{\n                  edges{\n                    node {\n                       id,\n                        name,\n                      system,\n                      status,\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }")})).join(","),e.prev=3,e.next=6,h.YA.query({query:(0,d.Ps)(o||(o=(0,i.Z)(["\n        query getSubjectIdByName{","}\n      "])),a)});case 6:for(c in(l=e.sent).data||{})(_=l.data[c])&&_.edges.length>=1&&_.edges.forEach((function(e,t){if(0===t){var n=e.node.categoriesConnection;s.push({id:e.node.id,name:e.node.name,category:n.edges.map((function(e){if(e){var t=e.node.subcategoriesConnection;return{id:e.node.id,name:e.node.name,system:e.node.system,status:e.node.status,subCategory:t.edges.map((function(e){return{id:e.node.id,name:e.node.name,system:e.node.system,status:e.node.status}}))}}}))})}}));e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function R(){return!1}},32780:function(e,t,n){"use strict";n.d(t,{W:function(){return w.W},VS:function(){return w.V},a8:function(){return T},ZP:function(){return N},YA:function(){return F}});var r,s=n(43144),a=n(15671),o=n(60136),i=n(98557),l=n(15861),c=n(87757),u=n.n(c),d=n(28839),_=n(73651),m=n(27603),p=n(4650),h=n(56177),f=n(60377),g=n(61569),v=n(50605),b=n.n(v),x=n(1413),y=n(45987),j=n(4942),Z=["secure"];!function(e){e[e.Json=0]="Json"}(r||(r={}));var C=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=n.baseUrl,o=n.baseApiParams,i=n.securityWorker;(0,a.Z)(this,e),this.baseUrl="//https://kl2-test.kidsloop.net/v1",this.securityData=null,this.securityWorker=function(){},this.baseApiParams={credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"},this.setSecurityData=function(e){t.securityData=e},this.bodyFormatters=(0,j.Z)({},r.Json,JSON.stringify),this.safeParseResponse=function(e){return e.json().then((function(e){return e})).catch((function(t){return e.text}))},this.request=function(e,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=s.secure,o=(0,y.Z)(s,Z),i=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,d=arguments.length>5?arguments[5]:void 0;return fetch("".concat(t.baseUrl).concat(e),(0,x.Z)((0,x.Z)({},t.mergeRequestOptions(o,(d||a)&&t.securityWorker(t.securityData))),{},{method:n,body:i?t.bodyFormatters[c||r.Json](i):null})).then(function(){var e=(0,l.Z)(u().mark((function e(n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.safeParseResponse(n);case 2:if(r=e.sent,n.ok){e.next=5;break}throw r;case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},this.baseUrl=s||this.baseUrl,this.baseApiParams=o||this.baseApiParams,this.securityWorker=i||this.securityWorker}return(0,s.Z)(e,[{key:"addQueryParam",value:function(e,t){return encodeURIComponent(t)+"="+encodeURIComponent(Array.isArray(e[t])?e[t].join(","):e[t])}},{key:"addQueryParams",value:function(e){var t=this,n=e||{},r=Object.keys(n).filter((function(e){return"undefined"!==typeof n[e]}));return r.length?"?".concat(r.map((function(e){return"object"!==typeof n[e]||Array.isArray(n[e])?t.addQueryParam(n,e):t.addQueryParams(n[e]).substring(1)})).join("&")):""}},{key:"mergeRequestOptions",value:function(e,t){return(0,x.Z)((0,x.Z)((0,x.Z)((0,x.Z)({},this.baseApiParams),e),t||{}),{},{headers:(0,x.Z)((0,x.Z)((0,x.Z)({},this.baseApiParams.headers||{}),e.headers||{}),t&&t.headers||{})})}}]),e}(),k=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).ages={getAge:function(t,n){return e.request("/ages".concat(e.addQueryParams(t)),"GET",n)}},e.assessments={listAssessment:function(t,n){return e.request("/assessments".concat(e.addQueryParams(t)),"GET",n)},addAssessment:function(t,n){return e.request("/assessments","POST",n,t)}},e.assessmentsForStudent={getStudentAssessments:function(t,n){return e.request("/assessments_for_student".concat(e.addQueryParams(t)),"GET",n)}},e.assessmentsSummary={getAssessmentsSummary:function(t,n){return e.request("/assessments_summary".concat(e.addQueryParams(t)),"GET",n)}},e.assessmentsV2={queryAssessmentV2:function(t,n){return e.request("/assessments_v2".concat(e.addQueryParams(t)),"GET",n)},getAssessmentDetailV2:function(t,n){return e.request("/assessments_v2/".concat(t),"GET",n)},updateAssessmentV2:function(t,n,r){return e.request("/assessments_v2/".concat(t),"PUT",r,n)}},e.bulk={deleteOutcomeBulk:function(t,n){return e.request("/bulk/learning_outcomes","DELETE",n,t)}},e.bulkApprove={approveLearningOutcomesBulk:function(t,n){return e.request("/bulk_approve/learning_outcomes","PUT",n,t)},bulkApproveMilestone:function(t,n){return e.request("/bulk_approve/milestones","PUT",n,t)}},e.bulkPublish={publishLearningOutcomesBulk:function(t,n){return e.request("/bulk_publish/learning_outcomes","PUT",n,t)},publishMilestonesBulk:function(t,n){return e.request("/bulk_publish/milestones","PUT",n,t)}},e.bulkReject={rejectLearningOutcomesBulk:function(t,n){return e.request("/bulk_reject/learning_outcomes","PUT",n,t)},bulkRejectMilestone:function(t,n){return e.request("/bulk_reject/milestones","PUT",n,t)}},e.classesMembers={classAddMembersEvent:function(t,n){return e.request("/classes_members","POST",n,t)},classDeleteMembersEvent:function(t,n){return e.request("/classes_members","DELETE",n,t)}},e.contents={searchContents:function(t,n){return e.request("/contents".concat(e.addQueryParams(t)),"GET",n)},createContent:function(t,n){return e.request("/contents","POST",n,t)},getContentById:function(t,n){return e.request("/contents/".concat(t),"GET",n)},updateContent:function(t,n,r){return e.request("/contents/".concat(t),"PUT",r,n)},deleteContent:function(t,n){return e.request("/contents/".concat(t),"DELETE",n)},getContentLiveToken:function(t,n){return e.request("/contents/".concat(t,"/live/token"),"GET",n)},lockContent:function(t,n){return e.request("/contents/".concat(t,"/lock"),"PUT",n)},publishContent:function(t,n,r){return e.request("/contents/".concat(t,"/publish"),"PUT",r,n)},publishContentWithAssets:function(t,n,r){return e.request("/contents/".concat(t,"/publish/assets"),"PUT",r,n)},approveContentReview:function(t,n){return e.request("/contents/".concat(t,"/review/approve"),"PUT",n)},rejectContentReview:function(t,n,r){return e.request("/contents/".concat(t,"/review/reject"),"PUT",r,n)},getContentsStatistics:function(t,n){return e.request("/contents/".concat(t,"/statistics"),"GET",n)}},e.contentsAuthed={querySharedContent:function(t,n){return e.request("/contents_authed".concat(e.addQueryParams(t)),"GET",n)}},e.contentsBulk={deleteContentBulk:function(t,n){return e.request("/contents_bulk","DELETE",n,t)},publishContentBulk:function(t,n){return e.request("/contents_bulk/publish","PUT",n,t)}},e.contentsFolders={queryFolderContent:function(t,n){return e.request("/contents_folders".concat(e.addQueryParams(t)),"GET",n)}},e.contentsLessonPlans={getLessonPlansCanSchedule:function(t,n,r){return e.request("/contents_lesson_plans".concat(e.addQueryParams(n)),"POST",r,t)}},e.contentsPending={searchPendingContents:function(t,n){return e.request("/contents_pending".concat(e.addQueryParams(t)),"GET",n)}},e.contentsPrivate={searchPrivateContents:function(t,n){return e.request("/contents_private".concat(e.addQueryParams(t)),"GET",n)}},e.contentsResources={getContentResourceUploadPath:function(t,n){return e.request("/contents_resources".concat(e.addQueryParams(t)),"GET",n)},getContentResourcePath:function(t,n){return e.request("/contents_resources/".concat(t),"GET",n)},checkResourceExist:function(t,n){return e.request("/contents_resources/".concat(t,"/check"),"GET",n)},getDownloadPath:function(t,n){return e.request("/contents_resources/".concat(t,"/download"),"GET",n)}},e.contentsReview={approveContentReviewBulk:function(t,n){return e.request("/contents_review/approve","PUT",n,t)},rejectContentReviewBulk:function(t,n){return e.request("/contents_review/reject","PUT",n,t)}},e.contentsShared={querySharedContentV2:function(t,n){return e.request("/contents_shared".concat(e.addQueryParams(t)),"GET",n)}},e.crypto={generateH5PJwt:function(t,n){return e.request("/crypto/h5p/jwt".concat(e.addQueryParams(t)),"GET",n)},h5PSignature:function(t,n){return e.request("/crypto/h5p/signature".concat(e.addQueryParams(t)),"GET",n)}},e.developmentals={getDevelopmental:function(t,n){return e.request("/developmentals".concat(e.addQueryParams(t)),"GET",n)}},e.folders={createFolder:function(t,n){return e.request("/folders","POST",n,t)},removeFolderItemBulk:function(t,n){return e.request("/folders/items","DELETE",n,t)},moveFolderItemBulk:function(t,n){return e.request("/folders/items/bulk/move","PUT",n,t)},getFolderItemById:function(t,n){return e.request("/folders/items/details/".concat(t),"GET",n)},updateFolderItem:function(t,n,r){return e.request("/folders/items/details/".concat(t),"PUT",r,n)},listFolderItems:function(t,n,r){return e.request("/folders/items/list/".concat(t).concat(e.addQueryParams(n)),"GET",r)},moveFolderItem:function(t,n){return e.request("/folders/items/move","PUT",n,t)},searchOrgFolderItems:function(t,n){return e.request("/folders/items/search/org".concat(e.addQueryParams(t)),"GET",n)},searchPrivateFolderItems:function(t,n){return e.request("/folders/items/search/private".concat(e.addQueryParams(t)),"GET",n)},removeFolderItem:function(t,n){return e.request("/folders/items/".concat(t),"DELETE",n)},getFoldersSharedRecords:function(t,n){return e.request("/folders/share".concat(e.addQueryParams(t)),"GET",n)},shareFolders:function(t,n){return e.request("/folders/share","PUT",n,t)},getTree:function(t,n){return e.request("/folders/tree".concat(e.addQueryParams(t)),"GET",n)}},e.grades={getGrade:function(t,n){return e.request("/grades".concat(e.addQueryParams(t)),"GET",n)}},e.internal={queryContentInternal:function(t,n){return e.request("/internal/contents".concat(e.addQueryParams(t)),"GET",n)},getScheduleAttendance:function(t,n){return e.request("/internal/schedule_counts".concat(e.addQueryParams(t)),"GET",n)},queryScheduleInternal:function(t,n){return e.request("/internal/schedules".concat(e.addQueryParams(t)),"GET",n)},updateScheduleReviewStatus:function(t,n){return e.request("/internal/schedules/update_review_status","POST",n,t)},queryScheduleRelationIdInternal:function(t,n){return e.request("/internal/schedules/".concat(t,"/relation_ids"),"GET",n)},getStmLessonPlan:function(t,n){return e.request("/internal/stm/contents","GET",n,t)}},e.learningOutcomes={searchLearningOutcomes:function(t,n){return e.request("/learning_outcomes".concat(e.addQueryParams(t)),"GET",n)},createLearningOutcomes:function(t,n){return e.request("/learning_outcomes","POST",n,t)},exportLearningOutcomes:function(t,n){return e.request("/learning_outcomes/export","POST",n,t)},importLearningOutcomes:function(t,n){return e.request("/learning_outcomes/import","POST",n,t)},verifyImportLearningOutcomes:function(t,n){return e.request("/learning_outcomes/verify_import","POST",n,t)},getLearningOutcomesById:function(t,n){return e.request("/learning_outcomes/".concat(t),"GET",n)},updateLearningOutcomes:function(t,n,r){return e.request("/learning_outcomes/".concat(t),"PUT",r,n)},deleteLearningOutcome:function(t,n){return e.request("/learning_outcomes/".concat(t),"DELETE",n)},approveLearningOutcomes:function(t,n){return e.request("/learning_outcomes/".concat(t,"/approve"),"PUT",n)},lockLearningOutcomes:function(t,n){return e.request("/learning_outcomes/".concat(t,"/lock"),"PUT",n)},publishLearningOutcomes:function(t,n,r){return e.request("/learning_outcomes/".concat(t,"/publish"),"PUT",r,n)},rejectLearningOutcomes:function(t,n,r){return e.request("/learning_outcomes/".concat(t,"/reject"),"PUT",r,n)}},e.lessonTypes={getLessonType:function(t){return e.request("/lesson_types","GET",t)},getLessonTypeById:function(t,n){return e.request("/lesson_types/".concat(t),"GET",n)}},e.milestones={searchMilestone:function(t,n){return e.request("/milestones".concat(e.addQueryParams(t)),"GET",n)},createMilestone:function(t,n){return e.request("/milestones","POST",n,t)},deleteMilestone:function(t,n){return e.request("/milestones","DELETE",n,t)},obtainMilestone:function(t,n){return e.request("/milestones/".concat(t),"GET",n)},updateMilestone:function(t,n,r){return e.request("/milestones/".concat(t),"PUT",r,n)},occupyMilestone:function(t,n){return e.request("/milestones/".concat(t,"/occupy"),"PUT",n)}},e.organizationPermissions={hasOrganizationPermissions:function(t,n){return e.request("/organization_permissions","POST",n,t)}},e.organizationsPropertys={getOrganizationPropertyById:function(t,n){return e.request("/organizations_propertys/".concat(t),"GET",n)}},e.organizationsRegion={getOrganizationByHeadquarterForDetails:function(t){return e.request("/organizations_region","GET",t)}},e.pendingLearningOutcomes={searchPendingLearningOutcomes:function(t,n){return e.request("/pending_learning_outcomes".concat(e.addQueryParams(t)),"GET",n)}},e.pendingMilestones={searchPendingMilestone:function(t,n){return e.request("/pending_milestones".concat(e.addQueryParams(t)),"GET",n)}},e.ping={ping:function(t){return e.request("/ping","GET",t)}},e.privateLearningOutcomes={searchPrivateLearningOutcomes:function(t,n){return e.request("/private_learning_outcomes".concat(e.addQueryParams(t)),"GET",n)}},e.privateMilestones={searchPrivateMilestone:function(t,n){return e.request("/private_milestones".concat(e.addQueryParams(t)),"GET",n)}},e.programs={getProgram:function(t){return e.request("/programs","GET",t)}},e.programsGroups={getProgramGroup:function(t){return e.request("/programs_groups","GET",t)}},e.publishedLearningOutcomes={searchPublishedLearningOutcomes:function(t,n){return e.request("/published_learning_outcomes","POST",n,t)}},e.reports={getLearnerMonthlyReportOverview:function(t,n){return e.request("/reports/learner_monthly_overview".concat(e.addQueryParams(t)),"GET",n)},getLearnerUsageOverview:function(t,n){return e.request("/reports/learner_usage/overview","POST",n,t)},getLearnerWeeklyReportOverview:function(t,n){return e.request("/reports/learner_weekly_overview".concat(e.addQueryParams(t)),"GET",n)},queryAssignmentsSummary:function(t,n){return e.request("/reports/learning_summary/assignments".concat(e.addQueryParams(t)),"GET",n)},queryAssignmentsSummaryV2:function(t,n){return e.request("/reports/learning_summary/assignments_v2".concat(e.addQueryParams(t)),"GET",n)},queryLiveClassesSummary:function(t,n){return e.request("/reports/learning_summary/live_classes".concat(e.addQueryParams(t)),"GET",n)},queryLiveClassesSummaryV2:function(t,n){return e.request("/reports/learning_summary/live_classes_v2".concat(e.addQueryParams(t)),"GET",n)},queryOutcomesByAssessmentId:function(t,n){return e.request("/reports/learning_summary/outcomes".concat(e.addQueryParams(t)),"GET",n)},queryLearningSummaryTimeFilter:function(t,n){return e.request("/reports/learning_summary/time_filter".concat(e.addQueryParams(t)),"GET",n)},listStudentsPerformanceReport:function(t,n){return e.request("/reports/performance/students".concat(e.addQueryParams(t)),"GET",n)},getStudentPerformanceReport:function(t,n,r){return e.request("/reports/performance/students/".concat(t).concat(e.addQueryParams(n)),"GET",r)},getAppInsightMessage:function(t,n){return e.request("/reports/student_progress/app/insight_message".concat(e.addQueryParams(t)),"GET",n)},getAssignmentsCompletion:function(t,n){return e.request("/reports/student_progress/assignment_completion","POST",n,t)},getClassAttendance:function(t,n){return e.request("/reports/student_progress/class_attendance","POST",n,t)},getLearnOutcomeAchievement:function(t,n){return e.request("/reports/student_progress/learn_outcome_achievement","POST",n,t)},getStudentUsageClassRegistrationReport:function(t,n){return e.request("/reports/student_usage/class_registration".concat(e.addQueryParams(t)),"GET",n)},getClassesAssignments:function(t,n){return e.request("/reports/student_usage/classes_assignments","POST",n,t)},getClassesAssignmentsUnattended:function(t,n,r){return e.request("/reports/student_usage/classes_assignments/".concat(t,"/unattended"),"POST",r,n)},getClassesAssignmentsOverview:function(t,n){return e.request("/reports/student_usage/classes_assignments_overview","POST",n,t)},getStudentUsageMaterialReport:function(t,n){return e.request("/reports/student_usage/material","POST",n,t)},getStudentUsageMaterialViewCountReport:function(t,n){return e.request("/reports/student_usage/material_view_count","POST",n,t)},getStudentUsageOrganizationRegistrationReport:function(t,n){return e.request("/reports/student_usage/organization_registration".concat(e.addQueryParams(t)),"GET",n)},listStudentsAchievementReport:function(t,n){return e.request("/reports/students".concat(e.addQueryParams(t)),"GET",n)},getStudentAchievementReport:function(t,n,r){return e.request("/reports/students/".concat(t).concat(e.addQueryParams(n)),"GET",r)},getLearningOutcomeOverView:function(t,n){return e.request("/reports/students_achievement_overview".concat(e.addQueryParams(t)),"GET",n)},getTeacherLoadReportOfAssignment:function(t,n){return e.request("/reports/teacher_load/assignments","POST",n,t)},listTeacherLoadLessons:function(t,n){return e.request("/reports/teacher_load/lessons_list","POST",n,t)},summaryTeacherLoadLessons:function(t,n){return e.request("/reports/teacher_load/lessons_summary","POST",n,t)},listTeacherMissedLessons:function(t,n){return e.request("/reports/teacher_load/missed_lessons","POST",n,t)},getTeacherLoadOverview:function(t,n){return e.request("/reports/teacher_load_overview".concat(e.addQueryParams(t)),"GET",n)},getTeachersReport:function(t){return e.request("/reports/teachers","GET",t)},getTeacherReport:function(t,n){return e.request("/reports/teachers/".concat(t),"GET",n)},listTeachingLoadReport:function(t,n){return e.request("/reports/teaching_loading","POST",n,t)}},e.schedules={querySchedule:function(t,n){return e.request("/schedules".concat(e.addQueryParams(t)),"GET",n)},addSchedule:function(t,n){return e.request("/schedules","POST",n,t)},checkScheduleReviewData:function(t,n){return e.request("/schedules/review/check_data","POST",n,t)},getScheduleById:function(t,n){return e.request("/schedules/".concat(t),"GET",n)},updateSchedule:function(t,n,r){return e.request("/schedules/".concat(t),"PUT",r,n)},deleteSchedule:function(t,n,r){return e.request("/schedules/".concat(t).concat(e.addQueryParams(n)),"DELETE",r)},getScheduleLiveLessonPlan:function(t,n){return e.request("/schedules/".concat(t,"/contents"),"GET",n)},getScheduleLiveToken:function(t,n,r){return e.request("/schedules/".concat(t,"/live/token").concat(e.addQueryParams(n)),"GET",r)},getScheduleNewestFeedbackByOperator:function(t,n){return e.request("/schedules/".concat(t,"/operator/newest_feedback"),"GET",n)},updateScheduleShowOption:function(t,n,r){return e.request("/schedules/".concat(t,"/show_option").concat(e.addQueryParams(n)),"PUT",r)},updateStatus:function(t,n,r){return e.request("/schedules/".concat(t,"/status").concat(e.addQueryParams(n)),"PUT",r)}},e.schedulesFeedbacks={queryFeedback:function(t,n){return e.request("/schedules_feedbacks".concat(e.addQueryParams(t)),"GET",n)},addScheduleFeedback:function(t,n){return e.request("/schedules_feedbacks","POST",n,t)}},e.schedulesFilter={getProgramsInScheduleFilter:function(t){return e.request("/schedules_filter/programs","GET",t)},getSubjectsInScheduleFilter:function(t,n){return e.request("/schedules_filter/subjects".concat(e.addQueryParams(t)),"GET",n)}},e.schedulesLessonPlans={getLessonPlans:function(t,n){return e.request("/schedules_lesson_plans".concat(e.addQueryParams(t)),"GET",n)}},e.schedulesTimeView={getScheduleTimeView:function(t,n){return e.request("/schedules_time_view".concat(e.addQueryParams(t)),"GET",n)},postScheduleTimeView:function(t,n){return e.request("/schedules_time_view","POST",n,t)},getScheduledDates:function(t,n){return e.request("/schedules_time_view/dates".concat(e.addQueryParams(t)),"GET",n)},postScheduledDates:function(t,n){return e.request("/schedules_time_view/dates","POST",n,t)},getScheduleTimeViewList:function(t,n){return e.request("/schedules_time_view/list","POST",n,t)}},e.schedulesView={getSchedulePopupById:function(t,n){return e.request("/schedules_view/".concat(t),"GET",n)}},e.sets={pullOutcomeSet:function(t,n){return e.request("/sets".concat(e.addQueryParams(t)),"GET",n)},createOutcomeSet:function(t,n){return e.request("/sets","POST",n,t)},bulkBindOutcomeSet:function(t,n){return e.request("/sets/bulk_bind","POST",n,t)}},e.shortcode={generateShortcode:function(t,n){return e.request("/shortcode","POST",n,t)}},e.skills={getSkill:function(t,n){return e.request("/skills".concat(e.addQueryParams(t)),"GET",n)}},e.studentUsageRecord={studentUsageRecord:function(t,n){return e.request("/student_usage_record/event","POST",n,t)}},e.subjects={getSubject:function(t,n){return e.request("/subjects".concat(e.addQueryParams(t)),"GET",n)}},e.userSettings={getUserSettingByOperator:function(t){return e.request("/user_settings","GET",t)},setUserSetting:function(t,n){return e.request("/user_settings","POST",n,t)}},e.users={checkAccount:function(t,n){return e.request("/users/check_account".concat(e.addQueryParams(t)),"GET",n)},forgottenPassword:function(t,n){return e.request("/users/forgotten_pwd","POST",n,t)},userLogin:function(t,n){return e.request("/users/login","POST",n,t)},userRegister:function(t,n){return e.request("/users/register","POST",n,t)},resetPassword:function(t,n){return e.request("/users/reset_password","POST",n,t)},inviteNotify:function(t,n){return e.request("/users/send_code","POST",n,t)}},e.visibilitySettings={getVisibilitySetting:function(t,n){return e.request("/visibility_settings".concat(e.addQueryParams(t)),"GET",n)},getVisibilitySettingById:function(t,n){return e.request("/visibility_settings/".concat(t),"GET",n)}},e}return(0,s.Z)(n)}(C),w=n(99807),S=n(81272);b().register({request:function(e,t){try{var n=(0,S.fB)()||"";if(!n)return[e,t];var r="https://_u_r_l_r_e_p_l_a_c_e_",s=new URL(e,r);return s.origin.includes("kidsloop")&&e.includes("/v1")&&s.searchParams.append(S.nl,n),[s.toString().replace(r,""),t]}catch(a){return[e,t]}},response:function(e){return e.ok||e.clone().json().catch(function(){var t=(0,l.Z)(u().mark((function t(n){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r="general_error_unknown",401!==e.status&&400!==e.status){t.next=3;break}throw e;case 3:w.V.emit(w.W.ResponseError,{label:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e}});var A=function(e){(0,o.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];var i=(e=t.call.apply(t,[this].concat(s))).request;return e.request=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[2],s=null===r||void 0===r?void 0:r.onError;return i.apply(void 0,t).catch(function(){var e=(0,l.Z)(u().mark((function e(n){var r,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("general_error_unauthorized"!==n.label){e.next=11;break}return e.prev=1,e.next=4,(0,S.g$)();case 4:return e.abrupt("return",i.apply(void 0,t));case 7:e.prev=7,e.t0=e.catch(1);case 9:e.next=12;break;case 11:n.label&&!n.name&&(r=n.msg,a=n.label,o=n.data,n.name=n.label,n.message=n.data,w.V.emit(w.W.ResponseError,{msg:r,label:a,data:o,onError:s}));case 12:throw n;case 13:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}())},e}return(0,s.Z)(n)}(k),N=new A({baseUrl:"".concat("https://cms.klasmart.id").concat("/v1"),baseApiParams:{credentials:"include",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"}}),B=function(){var e=(0,l.Z)(u().mark((function e(t,n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t>1)){e.next=2;break}return e.abrupt("return",!1);case 2:if("UNAUTHORIZED"===r.result.code){e.next=5;break}return e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,(0,S.g$)();case 8:return e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(5),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),I=(0,f.q)((function(e){var t=e.graphQLErrors,n=(e.networkError,e.response),r=e.operation;t&&t.forEach((function(e){e.message,e.locations,e.path})),"userNameByUserIdQuery"===r.operationName&&n&&(n.errors=null)})),P=new g.W({attempts:function(e,t,n){return B(e,t,n)}}),E=new d.u({uri:"".concat("https://api.klasmart.id","/user/"),credentials:"include"}),F=new _.f({link:m.i.from([I,P,E]),cache:new p.h}),O=(0,h.L)({uri:"".concat("https://api.klasmart.id","/media-storage/graphql"),credentials:"include"}),T=new _.f({link:O,cache:new p.h})},31366:function(e,t,n){"use strict";var r,s,a,o,i,l,c,u,d,_,m,p,h,f,g,v,b,x,y,j,Z,C,k,w;n.d(t,{S3:function(){return i},T9:function(){return d},WL:function(){return w},_W:function(){return j},hp:function(){return y},iY:function(){return Z},if:function(){return u},nk:function(){return c},yG:function(){return k}}),function(e){e[e.image=31]="image",e[e.video=32]="video",e[e.audio=33]="audio",e[e.doc=34]="doc",e[e.assets=3]="assets",e[e.plan=2]="plan",e[e.material=1]="material",e[e.folder=10]="folder"}(r||(r={})),function(e){e[e.image=1]="image",e[e.video=2]="video",e[e.audio=3]="audio",e[e.doc=7]="doc",e[e.h5p=5]="h5p",e[e.h5pExtend=6]="h5pExtend",e[e.pdf=4]="pdf"}(s||(s={})),function(e){e[e.h5p=1]="h5p",e[e.fromFile=2]="fromFile",e[e.fromAssets=3]="fromAssets"}(a||(a={})),function(e){e.published="published",e.pending="pending",e.draft="draft",e.rejected="rejected",e.archive="archive",e.assets="assets"}(o||(o={})),function(e){e.self="{self}"}(i||(i={})),function(e){e.id="id",e._id="-id",e.created_at="create_at",e._created_at="-create_at",e.updated_at="update_at",e._updated_at="-update_at",e.content_name="content_name",e._content_name="-content_name"}(l||(l={})),function(e){e.published="published",e.pending="pending",e.draft="draft",e.rejected="rejected"}(c||(c={})),function(e){e.name="name",e._name="-name",e.created_at="created_at",e._created_at="-created_at",e.updated_at="updated_at",e._updated_at="-updated_at"}(u||(u={})),function(e){e.all="all",e.in_progress="in_progress",e.complete="complete"}(d||(d={})),function(e){e.save="Draft",e.complete="Complete"}(_||(_={})),function(e){e.class_end_time="class_end_time",e._class_end_time="-class_end_time",e.complete_time="complete_time",e._complete_time="-complete_time"}(m||(m={})),function(e){e.material="1",e.plan="2",e.assets="3",e.materialandplan="1,2,10",e.folder="10",e.assetsandfolder="3,10"}(p||(p={})),function(e){e.delete="delete",e.download="download",e.edit="edit",e.new="new",e.view="view",e.clone="clone"}(h||(h={})),function(e){e.assets="assets",e.plansAndMaterials="plans and materials"}(f||(f={})),function(e){e[e.folder=1]="folder",e[e.file=2]="file"}(g||(g={})),function(e){e[e.org=1]="org",e[e.private=2]="private"}(v||(v={})),function(e){e.folder="folder",e.content="content"}(b||(b={})),function(e){e.submit_at="submit_at",e._submit_at="-submit_at",e.complete_at="complete_at",e._complete_at="-complete_at"}(x||(x={})),function(e){e.all="Started,Draft,Complete",e.in_progress="Started,Draft",e.complete="Complete"}(y||(y={})),function(e){e.published="published",e.pending="pending",e.draft="draft",e.rejected="rejected"}(j||(j={})),function(e){e.name="name",e._name="-name",e.created_at="created_at",e._created_at="-created_at",e.updated_at="updated_at",e._updated_at="-updated_at"}(Z||(Z={})),function(e){e.create_at="create_at",e._create_at="-create_at",e.complete_at="complete_time",e._complete_at="-complete_time"}(C||(C={})),function(e){e.all=" ",e.teacher_name="TeacherID"}(k||(k={})),function(e){e.class_end_time="class_end_at",e._class_end_time="-class_end_at",e.create_at="create_at",e._create_at="-create_at",e.complete_at="complete_at",e._complete_at="-complete_at"}(w||(w={}))},53781:function(e,t,n){"use strict";n.d(t,{IQ:function(){return u},bC:function(){return r},aO:function(){return c}});var r,s=n(81272),a=n(55471),o=n(23784),i=(n(96985),n(24971)),l=n(80184);!function(e){e.class="OfflineClass",e.live="OnlineClass",e.homeFun="OfflineStudy",e.study="OnlineStudy",e.review="ReviewStudy"}(r||(r={}));var c=function(){return s.a3?[{label:(0,i.d)("Class").t("schedule_detail_offline_class"),value:r.class},{label:(0,i.d)("Live").t("schedule_detail_online_class"),value:r.live},{label:(0,i.d)("Study").t("assess_study_list_study"),value:r.study},{label:(0,i.d)("Study / Home Fun").t("assess_class_type_homefun"),value:r.homeFun},{label:(0,i.d)("Study / Auto Review").t("assessment_list_study_review"),value:r.review}]:[{label:(0,i.d)("Class").t("schedule_detail_offline_class"),value:r.class},{label:(0,i.d)("Live").t("schedule_detail_online_class"),value:r.live},{label:(0,i.d)("Study").t("assess_study_list_study"),value:r.study},{label:(0,i.d)("Study / Home Fun").t("assess_class_type_homefun"),value:r.homeFun}]};function u(e){var t,n=e.type,r=e.onChangeAssessmentType;return(0,l.jsx)(o.Z,{style:{width:160,marginLeft:10},size:"small",onChange:function(e){r(e.target.value)},label:(0,i.d)("Class Type").t("assess_class_type"),value:n,select:!0,SelectProps:{MenuProps:{transformOrigin:{vertical:-40,horizontal:"left"}}},children:(t=c(),t.map((function(e){return(0,l.jsx)(a.Z,{value:e.value,children:e.label},e.label)})))})}},84149:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(38596),s=n(86297),a=(n(96985),n(80184)),o=(0,r.Z)({holder:function(e){return{flexGrow:1,flexShrink:1.5,flexBasis:e.holderBase,minWidth:e.holderMin}},main:function(e){return{flexGrow:1,flexShrink:1,flexBasis:e.mainBase,overflowX:e.overflowX||"visible"}}});function i(e){var t=o(e);return(0,a.jsxs)(s.Z,{display:"flex",className:e.className,children:[(0,a.jsx)(s.Z,{className:t.holder}),(0,a.jsx)(s.Z,{className:t.main,children:e.children}),(0,a.jsx)(s.Z,{className:t.holder})]})}},31044:function(e,t,n){"use strict";n.d(t,{P$:function(){return l},pJ:function(){return c},y3:function(){return i}});var r=n(96985),s=n.n(r),a=n(69890),o=n(80184),i=function(e){e.debug;var t=e.value,n=e.render,r=e.children,s="object"===typeof t?t:[t],i=(0,a.gI)(s),l=(0,a.oZ)(i,s),c=Object.values(l).every((function(e){return e}));return n?(0,o.jsx)(o.Fragment,{children:n(c)}):c?(0,o.jsx)(o.Fragment,{children:r}):null},l=function(e){var t=e.value,n=e.render,r=e.children,s=(0,a.gI)(t),i=(0,a.oZ)(s,t),l=Object.values(i).some((function(e){return e}));return n?(0,o.jsx)(o.Fragment,{children:n(l)}):l?(0,o.jsx)(o.Fragment,{children:r}):null},c=function(e){var t=e.value,n=e.children,r=[];return t?r=t:s().Children.forEach(n,(function(e){var t=e.props.value;"object"===typeof t?r.concat(t):r.push(t)})),(0,a.AV)(r)?(0,o.jsx)(o.Fragment,{children:n}):null}},69890:function(e,t,n){"use strict";n.d(t,{oZ:function(){return g},AV:function(){return f},gI:function(){return h}});var r=n(15861),s=n(70885),a=n(87757),o=n.n(a),i=n(96985),l=n.n(i),c=(n(46464),n(1413)),u=n(15671),d=n(43144),_=n(32780),m=n(81272),p=new(function(){function e(){(0,u.Z)(this,e),this.cacheKey="",this.data={}}return(0,d.Z)(e,[{key:"_add",value:function(e,t){this.cacheKey=e,this.data=(0,c.Z)((0,c.Z)({},this.data),t)}},{key:"_get",value:function(e){var t=this;return e.reduce((function(e,n){return t.data.hasOwnProperty(n)&&(e[n]=!!t.data[n]),e}),{})}},{key:"flush",value:function(){this.data={}}},{key:"usePermission",value:function(e){var t=this;return new Promise((function(n,r){(0,m.tS)().then((function(s){var a=""!==t.cacheKey&&s!==t.cacheKey;a&&t.flush();var o=a?{}:t._get(e),i=a?e:e.filter((function(e){return!o.hasOwnProperty(e)}));0===i.length?n(o):(0,m.If)(i).then((function(e){var a=e.error,l=e.data;if(a)r(),_.VS.emit(_.W.GraphQLError,{label:"general_error_fail_get_permission"});else{var u=i.reduce((function(e,t){return l&&l.hasOwnProperty(t)&&"boolean"===typeof l[t]&&(e[t]=l[t]),e}),{});t._add(s,u),n((0,c.Z)((0,c.Z)({},o),u))}})).catch((function(e){r()}))}))}))}}]),e}());function h(e){var t=l().useState({}),n=(0,s.Z)(t,2),a=n[0],c=n[1];return(0,i.useEffect)((function(){return(0,r.Z)(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.usePermission(e);case 2:n=t.sent,c(n);case 4:case"end":return t.stop()}}),t)})))(),function(){}}),[]),a}function f(e){var t=l().useState(!1),n=(0,s.Z)(t,2),a=n[0],i=n[1];return l().useEffect((function(){(0,r.Z)(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.usePermission(e);case 2:i(!0);case 3:case"end":return t.stop()}}),t)})))()}),[]),a}function g(e,t){return t.reduce((function(t,n){return t[n]=e[n],t}),{})}},24971:function(e,t,n){"use strict";n.d(t,{d:function(){return g},k:function(){return h},t:function(){return f}});var r=n(15861),s=n(15671),a=n(43144),o=n(37762),i=n(87757),l=n.n(i),c=n(82619),u=n(21569),d=n(81272),_=n(65005);var m=function(){function e(t){(0,s.Z)(this,e),this.intl=void 0,this.emitter=(0,c.Z)(),this.toggle(t)}return(0,a.Z)(e,[{key:"toggle",value:function(){var e=(0,r.Z)(l().mark((function e(t){var r,s,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(99405)("./".concat(t,".json"));case 2:r=e.sent,s=r.default,a=(0,u.createIntlCache)(),this.intl=(0,u.createIntl)({locale:t,messages:s},a),this.emitter.emit("change",this.intl);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLocale",value:function(){var e,t;if(null!==(e=this.intl)&&void 0!==e&&e.locale)return(0,_.u)(null===(t=this.intl)||void 0===t?void 0:t.locale)}},{key:"reportMiss",value:function(e,t,n){var r=function(e){var t=e.match(/{.*?}/g);if(null!=t)return t.map((function(e){return e.slice(1,-1)}))}(e);if(!r)return e;if(!n)return e;var s=Object.keys(n);return s.sort().toString(),r.sort().toString(),s.reduce((function(e,t){return e.replace(new RegExp("\\{".concat(t,"\\}"),"g"),String(n[t]))}),e)}},{key:"dscribe",value:function(e){var t=this;return{t:function(e,n){return t.formatMessage(e,n)}}}},{key:"formatMessage",value:function(e,t){return this.intl?this.intl.formatMessage({id:e},t):e}},{key:"on",value:function(e,t){this.emitter.on("change",t)}}]),e}(),p=new URL(window.location.href).searchParams.get("iso")||(0,d._h)()||function(e){var t,n=navigator.languages||[navigator.language,navigator.browserLanguage,navigator.userLanguage,navigator.systemLanguage],r=(0,o.Z)(n);try{for(r.s();!(t=r.n()).done;){var s=t.value.slice(0,2);if(e.includes(s))return s}}catch(a){r.e(a)}finally{r.f()}return"en"}(["en","zh","vi","ko","id","es","th"]),h=new m((0,_.u)(p)),f=h.formatMessage.bind(h),g=h.dscribe.bind(h);h.reportMiss.bind(h)},65005:function(e,t,n){"use strict";function r(e){return function(e){if(!e||!["en","es","id","ko","th","vi","zh","zh_CN"].includes(e))throw new TypeError}(e),e}n.d(t,{u:function(){return r}})},78432:function(e,t,n){"use strict";var r,s,a,o,i;n.d(t,{EZ:function(){return i},T9:function(){return o}}),function(e){e.EXECT_SEARCH="EXECT_SEARCH",e.SEARCH_TEXT="SEARCH_TEXT"}(r||(r={})),s||(s={}),function(e){e.LessonPlan="LessonPlan",e.LessonMaterial="LessonMaterial",e.ScheduleAttachment="ScheduleAttachment",e.Unknown="Unknow"}(a||(a={})),function(e){e.all="all",e.in_progress="InComplete",e.complete="Complete"}(o||(o={})),function(e){e.class_live_homefun_all="Started,Draft,Complete",e.study_all="NotStarted,Started,Draft,Complete",e.class_live_homefun_inprogress="Started,Draft",e.study_inprogress="NotStarted,Started,Draft",e.complete="Complete"}(i||(i={}))},944:function(e,t,n){"use strict";n.d(t,{rl:function(){return T},rz:function(){return W},uP:function(){return O},y8:function(){return M}});var r,s=n(4942),a=n(1413),o=n(70885),i=n(81272),l=n(26513),c=n(47501),u=n(93032),d=n(89526),_=n(61887),m=n(55471),p=n(17447),h=n(1288),f=n(23784),g=n(75321),v=n(12168),b=n(38596),x=n(48140),y=n(34726),j=n(70242),Z=n(28182),C=n(65442),k=n(96985),w=n.n(k),S=n(46464),A=n(31366),N=n(84149),B=n(31044),I=n(69890),P=n(24971),E=n(80184),F=(0,b.Z)((function(e){return{root:{flexGrow:1,marginBottom:30},createBtn:{width:"125px",borderRadius:"23px",height:"48px",backgroundColor:"#0E78D5",textTransform:"capitalize"},nav:{cursor:"pointer",fontWeight:"bold",marginRight:"3px",textTransform:"capitalize"},searchBtn:{width:"111px",height:"40px",backgroundColor:"#0E78D5",marginLeft:"20px"},bulkActionSelect:{width:160,height:40},formControl:{minWidth:136,marginLeft:"20px"},selectEmpty:{marginTop:e.spacing(2)},switch:{display:"none",marginRight:"22px"},navigation:{padding:"20px 0px 10px 0px"},searchText:{width:"34%"},actives:{color:"#0E78D5"},tabMb:{textAlign:"right",position:"relative"},switchBtn:{width:"60px",height:"40px"},capitalize:{textTransform:"capitalize"},tabs:{minHeight:"42px",height:"42px"},tabCon:{width:"100%",minHeight:"42px",height:"42px",display:"flex",justifyContent:"center"},button:{maxWidth:"264px",minWidth:"130px",borderRadius:0},active:{color:"#0E78D5",borderBottom:"2px solid #0E78D5 !important"},paper:{width:"30%",position:"absolute",left:"60%"},selectAll:{color:"#666",fontSize:14,marginLeft:5}}})),O="UNPUB",T=function(e){return e.publish_status===A.nk.pending&&!(null===e||void 0===e||!e.is_unpub)||e.publish_status===A.nk.draft||e.publish_status===A.nk.rejected};function L(e){var t=F(),n=e.value,r=e.onChange,i=w().useState(!1),p=(0,o.Z)(i,2),h=p[0],f=p[1],g=w().useRef(null),v=function(e){return function(){e!==A.nk.draft&&e!==A.nk.rejected&&r((0,a.Z)((0,a.Z)({},n),{},{publish_status:e,page:1,is_unpub:""}))}},b=function(){f(!1)};return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)("div",{className:t.tabCon,children:(0,E.jsxs)(B.pJ,{children:[(0,E.jsx)(B.y3,{value:S.Z.learning_outcome_page_404,children:(0,E.jsx)(l.Z,{className:(0,Z.default)(t.button,(0,s.Z)({},t.active,(null===n||void 0===n?void 0:n.publish_status)===A.nk.published)),onClick:v(A.nk.published),children:(0,P.d)("Published").t("assess_label_published")})}),(0,E.jsx)(B.y3,{value:S.Z.view_org_pending_learning_outcome_413,children:(0,E.jsx)(l.Z,{className:(0,Z.default)(t.button,(0,s.Z)({},t.active,(null===n||void 0===n?void 0:n.publish_status)===A.nk.pending&&n.is_unpub!==O)),onClick:v(A.nk.pending),children:(0,P.d)("Pending").t("assess_label_pending")})}),(0,E.jsx)(B.y3,{value:S.Z.unpublished_page_402,children:(0,E.jsxs)(l.Z,{ref:g,className:(0,Z.default)(t.button,(0,s.Z)({},t.active,n.is_unpub===O)),endIcon:(0,E.jsx)(y.Z,{}),onMouseEnter:function(e){f(!0)},onMouseLeave:b,children:[(0,P.d)("Unpublished").t("assess_label_unpublished"),(0,E.jsx)(c.Z,{open:h,anchorEl:g.current,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,s=e.placement;return(0,E.jsx)(u.Z,(0,a.Z)((0,a.Z)({},t),{},{style:{transformOrigin:"bottom"===s?"center top":"center bottom"},children:(0,E.jsx)(d.Z,{children:(0,E.jsx)(_.Z,{autoFocusItem:h,id:"menu-list-grow",onKeyDown:b,children:[{label:(0,P.d)("Draft").t("assess_label_draft"),value:A.nk.draft},{label:(0,P.d)("Waiting for Approval").t("assess_label_waiting_for_approval"),value:A.nk.pending},{label:(0,P.d)("Rejected").t("assess_label_rejected"),value:A.nk.rejected}].map((function(e){return(0,E.jsx)(m.Z,{selected:n.publish_status===A.nk.pending?n.publish_status===e.value&&n.is_unpub===O:n.publish_status===e.value,onClick:function(t){return s=e.value,void r((0,a.Z)((0,a.Z)({},n),{},{publish_status:s,page:1,is_unpub:O}));var s},children:e.label},e.label)}))})})}))}})]})})]})})})}function D(e,t){switch(e.publish_status){case A.nk.published:var n=[];if(t.edit_published_learning_outcome_436&&n.push({label:(0,P.d)("Add to Set").t("assess_set_add_to_set"),value:r.addSet}),t.delete_published_learning_outcome_448&&n.push({label:(0,P.d)("Delete").t("assess_label_delete"),value:r.remove}),t.create_learning_outcome_421){var s=[{label:(0,P.d)("Download All Rows").t("assessment_lo_download_all"),value:r.downloadAll},{label:(0,P.d)("Download Selected Rows").t("assessment_lo_download_selected"),value:r.downloadSelected}];(0,i.RL)()&&t.edit_published_learning_outcome_436&&s.push({label:(0,P.d)("Upload").t("assessment_lo_bulk_upload_button"),value:r.upload}),n.push.apply(n,s)}return n;case A.nk.pending:var a=[];return t.approve_pending_learning_outcome_481&&!T(e)&&a.push({label:(0,P.d)("Approve").t("assess_label_approve"),value:r.approve}),(t.delete_org_pending_learning_outcome_447||t.delete_my_pending_learning_outcome_446)&&a.push({label:(0,P.d)("Delete").t("assess_label_delete"),value:r.remove}),t.reject_pending_learning_outcome_482&&!T(e)&&a.push({label:(0,P.d)("Reject").t("assess_label_reject"),value:r.reject}),a;default:var o=[];return t.edit_my_unpublished_learning_outcome_430&&o.push({label:(0,P.d)("Add to Set").t("assess_set_add_to_set"),value:r.addSet}),(t.delete_org_unpublished_learning_outcome_445||t.delete_my_unpublished_learning_outcome_444)&&o.push({label:(0,P.d)("Delete").t("assess_label_delete"),value:r.remove}),o}}!function(e){e.publish="publish",e.remove="remove",e.approve="approve",e.reject="reject",e.addSet="addSet",e.downloadAll="downloadAll",e.downloadSelected="downloadSelected",e.upload="upload"}(r||(r={}));var R=function(){return[{label:(0,P.d)("Name (A-Z)").t("assess_label_name_atoz"),value:A.if.name},{label:(0,P.d)("Name (Z-A)").t("assess_label_name_ztoa"),value:A.if._name},{label:(0,P.d)("Created On (New-Old)").t("assess_label_created_on_newtoold"),value:A.if._updated_at},{label:(0,P.d)("Created On (Old-New)").t("assess_label_created_on_oldtonew"),value:A.if.updated_at}]};function M(e){var t=F(),n=e.value,s=e.selectedIdsLength,a=e.onChange,o=e.onBulkDelete,i=e.onBulkPublish,l=e.onBulkApprove,c=e.onBulkReject,u=e.onBulkAddSet,d=e.onBulkDownloadAll,_=e.onBulkDownloadSelected,g=e.onUpload,b=(0,I.gI)([S.Z.delete_published_learning_outcome_448,S.Z.delete_org_pending_learning_outcome_447,S.Z.delete_my_pending_learning_outcome_446,S.Z.delete_org_unpublished_learning_outcome_445,S.Z.delete_my_unpublished_learning_outcome_444,S.Z.approve_pending_learning_outcome_481,S.Z.reject_pending_learning_outcome_482,S.Z.edit_published_learning_outcome_436,S.Z.edit_my_unpublished_learning_outcome_430,S.Z.create_learning_outcome_421]),x=D(n,b).map((function(e){return(0,E.jsx)(m.Z,{value:e.value,children:e.label},e.label)})),y=R().map((function(e){return(0,E.jsx)(m.Z,{value:e.value,children:e.label},e.label)}));return(0,E.jsx)("div",{className:t.root,children:(0,E.jsx)(N.Z,{holderMin:40,holderBase:202,mainBase:1517,children:(0,E.jsxs)(v.Z,{only:["xs","sm"],children:[(0,E.jsx)(p.Z,{}),(0,E.jsxs)(h.Z,{container:!0,spacing:3,alignItems:"center",style:{marginTop:"6px"},children:[(0,E.jsxs)(h.Z,{item:!0,sm:6,xs:6,md:4,style:{display:"flex",alignItems:"center"},children:[x.length>0&&(0,E.jsx)(f.Z,{size:"small",style:{width:200},onChange:function(e){e.target.value===r.publish&&i(),e.target.value===r.remove&&o(),e.target.value===r.approve&&l(),e.target.value===r.reject&&c(),e.target.value===r.addSet&&u(),e.target.value===r.downloadAll&&d(),e.target.value===r.downloadSelected&&_(),e.target.value===r.upload&&g()},label:(0,P.d)("Bulk Actions").t("assess_label_bulk_actions"),value:"",select:!0,SelectProps:{MenuProps:{transformOrigin:{vertical:-40,horizontal:"left"}}},children:x}),(0,E.jsx)("span",{className:t.selectAll,children:(0,P.t)("assessment_lo_download_quantity",{number:s.toString()})})]}),(0,E.jsx)(h.Z,{item:!0,md:4,children:(0,E.jsx)(L,{value:n,onChange:a})}),(0,E.jsx)(h.Z,{container:!0,direction:"row",justifyContent:"flex-end",alignItems:"center",item:!0,sm:6,xs:6,md:4,children:(0,E.jsx)(f.Z,{size:"small",style:{width:200},onChange:function(e){var t=e.target.value;a((0,C.ZP)(n,(function(e){t?e.order_by=t:delete e.order_by})))},value:n.order_by||A.if._updated_at,label:(0,P.d)("Sort By").t("assess_label_sort_by"),select:!0,SelectProps:{MenuProps:{transformOrigin:{vertical:-40,horizontal:"left"}}},children:y})})]})]})})})}function W(e){var t=F(),n=e.value,s=e.onChange,a=e.onBulkDelete,i=e.onBulkPublish,l=e.onBulkApprove,c=e.onBulkReject,u=e.onBulkAddSet,d=e.onBulkDownloadAll,_=e.onBulkDownloadSelected,p=e.onUpload,f=(0,I.gI)([S.Z.delete_published_learning_outcome_448,S.Z.delete_org_pending_learning_outcome_447,S.Z.delete_my_pending_learning_outcome_446,S.Z.delete_org_unpublished_learning_outcome_445,S.Z.delete_my_unpublished_learning_outcome_444,S.Z.approve_pending_learning_outcome_481,S.Z.reject_pending_learning_outcome_482,S.Z.edit_published_learning_outcome_436,S.Z.edit_my_unpublished_learning_outcome_430,S.Z.create_learning_outcome_421]),b=w().useState(null),y=(0,o.Z)(b,2),Z=y[0],k=y[1],A=w().useState(null),B=(0,o.Z)(A,2),P=B[0],O=B[1],T=D(n,f);return(0,E.jsx)("div",{className:t.root,children:(0,E.jsx)(N.Z,{holderMin:40,holderBase:202,mainBase:1517,children:(0,E.jsxs)(v.Z,{only:["md","lg","xl"],children:[(0,E.jsx)("hr",{style:{borderColor:"#e0e0e0"}}),(0,E.jsxs)(h.Z,{container:!0,alignItems:"center",style:{marginTop:"6px",position:"relative"},children:[(0,E.jsx)(h.Z,{item:!0,sm:10,xs:10,children:(0,E.jsx)(L,{value:n,onChange:s})}),(0,E.jsxs)(h.Z,{container:!0,justifyContent:"flex-end",alignItems:"center",item:!0,sm:2,xs:2,children:[T.length>0&&(0,E.jsx)(x.Z,{onClick:function(e){O(e.currentTarget)}}),(0,E.jsx)(g.Z,{anchorEl:P,keepMounted:!0,open:Boolean(P),onClose:function(){O(null)},children:T.map((function(e,t){return(0,E.jsx)(m.Z,{onClick:function(t){return n=e.value,O(null),n===r.publish&&i(),n===r.remove&&a(),n===r.approve&&l(),n===r.reject&&c(),n===r.addSet&&u(),n===r.downloadAll&&d(),n===r.downloadSelected&&_(),void(n===r.upload&&p());var n},children:e.label},e.label)}))}),(0,E.jsx)(j.Z,{onClick:function(e){k(e.currentTarget)}}),(0,E.jsx)(g.Z,{anchorEl:Z,keepMounted:!0,open:Boolean(Z),onClose:function(){k(null)},children:R().map((function(e,t){return(0,E.jsx)(m.Z,{selected:n.order_by===e.value,onClick:function(t){return r=e.value,k(null),void s((0,C.ZP)(n,(function(e){r?e.order_by=r:delete e.order_by})));var r},children:e.label},e.label)}))})]})]})]})})})}},82341:function(e,t,n){"use strict";var r,s,a;n.d(t,{Wk:function(){return r},hQ:function(){return i},n7:function(){return a},vr:function(){return o}}),function(e){e.CHECKED_BULK_IDS="CHECKED_BULK_IDS",e.SEARCH_TEXT_KEY="SEARCH_TEXT_KEY",e.EXECT_SEARCH="EXECT_SEARCH"}(r||(r={})),function(e){e.assessment="assessments",e.outcome="outcome",e.milestones="milestones",e.standards="standards"}(s||(s={})),function(e){e.all="search_key",e.loName="outcome_name",e.shortCode="shortcode",e.author="author_name",e.loSet="set_name",e.keyWord="keywords",e.description="description"}(a||(a={}));var o,i=["outcome_name","shortcode","assumed","score_threshold","program","subject","category","subcategory","sets","age","grade","keywords","description","author","updated_at","milestones"];!function(e){e.create="create",e.modify="modify"}(o||(o={}))},7475:function(e,t,n){"use strict";n.d(t,{Db:function(){return j},O8:function(){return y},RM:function(){return w},WF:function(){return C},WX:function(){return x},Y8:function(){return Z},j8:function(){return k}});var r,s=n(4942),a=n(1413),o=n(45987),i=n(15861),l=n(87757),c=n.n(l),u=n(37853),d=n(81272),_=n(53781),m=n(95273),p=n(32780),h=n(60649),f=n(31366),g=n(78432),v=["metaLoading"],b={total:void 0,assessmentList:[],homefunFeedbacks:[],hasPermissionOfHomefun:!1,my_id:"",assessmentListV2:[],assessmentDetailV2:{},attachment_path:"",attachment_id:"",teacherList:void 0},x=(0,m.hg)("assessments/getAssessmentListV2",function(){var e=(0,i.Z)(c().mark((function e(t){var n,r,s,i,l,u,d,m,h,b,x,y,j,Z,C,k,w;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.metaLoading,n=(0,o.Z)(t,v),r=n.status,s=n.assessment_type,i=n.order_by,l=n.query_key,u=n.query_type,d=n.page,m=n.page_size,h=s===_.bC.study,b=s===_.bC.review,x=s===_.bC.homeFun,y="",h||b||x?(j=i||f.WL._create_at,y=r===g.T9.all?g.EZ.study_all:r===g.T9.in_progress?g.EZ.study_inprogress:g.EZ.complete):(j=i||f.WL._class_end_time,y=r===g.T9.all?g.EZ.class_live_homefun_all:r===g.T9.in_progress?g.EZ.class_live_homefun_inprogress:g.EZ.complete),Z={assessment_type:s,page:d,page_size:m,status:y,order_by:j,query_key:l||" ",query_type:l?u:void 0},e.next=10,p.ZP.assessmentsV2.queryAssessmentV2((0,a.Z)((0,a.Z)({},Z),{},{page_size:20}));case 10:return C=e.sent,k=C.assessments,w=C.total,e.abrupt("return",{assessments:k,total:w});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y=(0,m.hg)("assessments/getDetailAssessmentV2",function(){var e=(0,i.Z)(c().mark((function e(t){var n,r,s,o,i,l,u,_,m,f,g,v,b,x;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.id,e.next=3,p.YA.query({query:h.Wz});case 3:return o=e.sent,i=o.data.myUser,l=(null===i||void 0===i||null===(n=i.node)||void 0===n?void 0:n.id)||"",e.next=8,p.ZP.assessmentsV2.getAssessmentDetailV2(s);case 8:return u=e.sent,_=(0,a.Z)({},u),m=_.teacher_ids,f=_.students,g=_.diff_content_students,v=m||[],b=g?g.map((function(e){return e.student_id}))||[]:(null===f||void 0===f?void 0:f.map((function(e){return e.student_id})))||[],e.next=15,(0,d.Ak)(v.concat(b));case 15:return x=e.sent,_.teachers=null===m||void 0===m?void 0:m.map((function(e){return{id:e,name:x.get(e)}})),_.students=g?g.map((function(e){return e.student_name=x.get(e.student_id),e})):null===(r=_.students)||void 0===r?void 0:r.map((function(e){return e.student_name=x.get(e.student_id),e})),e.abrupt("return",{detail:_,my_id:l});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),j=(0,m.hg)("assessments/getUserListByName",function(){var e=(0,i.Z)(c().mark((function e(t){var n,r,s,a,o,i,l,_,m,f,g;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.next=4,p.YA.query({query:h.gJ,variables:{direction:u.YI.Forward,directionArgs:{count:10},filter:{system:{operator:u._W.Eq,value:!0}}}});case 4:return a=e.sent,o=a.data,i="",null===(n=o.rolesConnection)||void 0===n||null===(r=n.edges)||void 0===r||r.forEach((function(e){var t;"Teacher"===(null===e||void 0===e||null===(t=e.node)||void 0===t?void 0:t.name)&&(i=e.node.id)})),e.next=10,(0,d.nf)();case 10:return l=e.sent,_={filter:{roleId:{operator:u.I9.Eq,value:i},organizationId:{operator:u.I9.Eq,value:l},OR:[{familyName:{operator:u.wT.Contains,value:t,caseInsensitive:!0}},{givenName:{operator:u.wT.Contains,value:t,caseInsensitive:!0}}]},directionArgs:{count:15}},e.next=14,p.YA.query({query:h.x6,variables:_});case 14:return m=e.sent,f=m.data.usersConnection,g=null===f||void 0===f||null===(s=f.edges)||void 0===s?void 0:s.map((function(e){var t,n,r;return{id:null===e||void 0===e||null===(t=e.node)||void 0===t?void 0:t.id,name:"".concat(null===e||void 0===e||null===(n=e.node)||void 0===n?void 0:n.givenName," ").concat(null===e||void 0===e||null===(r=e.node)||void 0===r?void 0:r.familyName)}})),e.abrupt("return",g);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Z=(0,m.hg)("assessments/updateAssessment",function(){var e=(0,i.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.data,e.next=3,p.ZP.assessmentsV2.updateAssessmentV2(n,r);case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C=(0,m.hg)("content/getContentResourceUploadPath",(function(e){return p.ZP.contentsResources.getContentResourceUploadPath(e)})),k=((0,m.hg)("content/getDownloadPath",(function(e){return p.ZP.contentsResources.getDownloadPath(e)})),(0,m.hg)("content/actCreateDownload",(function(e){var t=e.resourceId;return p.ZP.contentsResources.getDownloadPath(t)}))),w=(0,m.hg)("content/checkResourceExist",(function(e){var t=e.resource_id;return p.ZP.contentsResources.checkResourceExist(t)})),S=(0,m.oM)({name:"assessments",initialState:b,reducers:{},extraReducers:(r={},(0,s.Z)(r,y.fulfilled.type,(function(e,t){var n=t.payload;e.assessmentDetailV2=n.detail,e.my_id=n.my_id})),(0,s.Z)(r,y.pending.type,(function(e,t){t.payload;e.assessmentDetailV2=b.assessmentDetailV2,e.my_id=b.my_id})),(0,s.Z)(r,x.fulfilled.type,(function(e,t){var n,r=t.payload;e.assessmentListV2=null!==(n=r.assessments)&&void 0!==n?n:[],e.total=r.total})),(0,s.Z)(r,x.pending.type,(function(e,t){t.payload;e.assessmentListV2=b.assessmentListV2,e.total=b.total})),(0,s.Z)(r,C.fulfilled.type,(function(e,t){var n=t.payload;e.attachment_path=n.path,e.attachment_id=n.resource_id})),(0,s.Z)(r,j.fulfilled.type,(function(e,t){var n=t.payload;e.teacherList=n})),(0,s.Z)(r,j.pending.type,(function(e,t){t.payload;e.teacherList=b.teacherList})),(0,s.Z)(r,j.rejected.type,(function(e,t){t.payload;e.teacherList=[]})),r)}).reducer;t.ZP=S},37346:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=(0,n(95273).oM)({name:"common",initialState:{organization_id:""},reducers:{setOrganizationId:function(e,t){var n=t.payload;e.organization_id=n}}}),s=r.actions,a=r.reducer,o=s.setOrganizationId;t.Z=a},95906:function(e,t,n){"use strict";n.d(t,{KO:function(){return r},Y2:function(){return p},xC:function(){return m}});var r,s=n(15861),a=n(87757),o=n.n(a),i=n(95273);!function(e){e.text="text",e.textField="textField",e.onlyInput="onlyInput"}(r||(r={}));var l,c={open:!1,title:"",content:"",type:r.text,label:"",confirmText:"",cancelText:"",placeholder:"",rules:void 0},u=(0,i.oM)({name:"confirm",initialState:c,reducers:{show:function(e,t){var n=t.payload;Object.assign(e,n,{open:!0})},actExitConfirm:function(e,t){var n=t.payload;Object.assign(e,c),l(n)}}}),d=u.actions,_=u.reducer,m=(0,i.hg)("confirm/actAsyncConfirm",function(){var e=(0,s.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,n.dispatch)(d.show(t)),e.abrupt("return",new Promise((function(e){l=e})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),p=d.actExitConfirm;t.ZP=_},21529:function(e,t,n){"use strict";n.d(t,{uA:function(){return C},ZP:function(){return w},N$:function(){return k}});var r=n(70885),s=n(15861),a=n(87757),o=n.n(a),i=n(37853),l=n(60649),c=n(81272),u=n(32780),d=n(95273),_=n(26181),m=n.n(_),p=n(45812),h=n.n(p);function f(e,t){return h()(e,[function(e){return e[t].toLowerCase()}],["asc"])}function g(e){var t=Array.isArray(e),n=null!==e&&!t&&"object"===typeof e;if(t)return e.filter((function(e){return m()(e,"status")!==i.qb.Inactive})).map((function(e){return g(e)}));if(n){var r={};return Object.keys(e).forEach((function(t){r[t]=g(e[t])})),r}return e}function v(e){return g(e.data)}function b(e,t){return x.apply(this,arguments)}function x(){return(x=(0,s.Z)(o().mark((function e(t,n){var r,s,a,d,_,m,p,h,f,g,b,x;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.nf)();case 2:return d=e.sent,_={operator:i.wT.Eq,value:"active"},m={operator:i.I9.Eq,value:d},p={operator:i._W.Eq,value:!0},h=n?{OR:[{organizationId:m},{system:p}]}:{AND:[{OR:[{organizationId:m},{system:p}]},{status:_}]},e.next=9,u.YA.query({query:l.Mr,variables:{filter:h,count:50,cursor:t}});case 9:return f=e.sent,g=v(f),b=[],null===(r=g.programsConnection)||void 0===r||null===(s=r.edges)||void 0===s||s.forEach((function(e){var t=null===e||void 0===e?void 0:e.node;t&&b.push(t)})),x=null===(a=g.programsConnection)||void 0===a?void 0:a.pageInfo,e.abrupt("return",[x,b]);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return j.apply(this,arguments)}function j(){return(j=(0,s.Z)(o().mark((function e(t){var n,s,a,i,l,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],s=!1,a="";case 3:if(s){e.next=14;break}return e.next=6,b(a,t);case 6:i=e.sent,l=(0,r.Z)(i,2),c=l[0],u=l[1],n=n.concat(u),c&&c.hasNextPage?a=c.endCursor:s=!0,e.next=3;break;case 14:return e.abrupt("return",f(n,"name"));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Z=function(){var e;function t(t){return t?y(!0):(e||(e=y()),e)}return{getProgramsOptions:function(){var e=arguments;return(0,s.Z)(o().mark((function n(){var r,s,a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]&&e[0],s=e.length>1&&void 0!==e[1]&&e[1],n.next=4,t(s);case 4:if(a=n.sent,!r){n.next=9;break}return n.abrupt("return",a.filter((function(e){return((null===e||void 0===e?void 0:e.subjects)||[]).length>0})).map((function(e){return{id:e.id,name:e.name,subjects:e.subjects}})));case 9:return n.abrupt("return",a.filter((function(e){return((null===e||void 0===e?void 0:e.subjects)||[]).length>0})).map((function(e){return{id:e.id,name:e.name}})));case 10:case"end":return n.stop()}}),n)})))()},getProgramById:function(e){return(0,s.Z)(o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t(!1);case 2:return r=n.sent,n.abrupt("return",r.find((function(t){return t.id===e})));case 4:case"end":return n.stop()}}),n)})))()},getSubjectAgeGradeByProgramId:function(e){var t=this;return(0,s.Z)(o().mark((function n(){var r,s,a,i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getProgramById(e);case 2:return r=n.sent,s=m()(r,"subjects",[]),a=m()(r,"ageRanges",[]),i=m()(r,"grades",[]),n.abrupt("return",[s,a,i]);case 7:case"end":return n.stop()}}),n)})))()},getAllSubjects:function(){var e=arguments;return(0,s.Z)(o().mark((function n(){var r,s,a,i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]&&e[0],s=e.length>1&&void 0!==e[1]&&e[1],n.next=4,t(s);case 4:return a=n.sent,i=a.reduce((function(e,t){return e.concat(((null===t||void 0===t?void 0:t.subjects)||[]).map((function(e){return{id:e.id,name:"".concat(r?t.name+" - ":"").concat(e.name)}})))}),[]),n.abrupt("return",f(i,"name"));case 7:case"end":return n.stop()}}),n)})))()}}}(),C=function(e){return(0,d.hg)(e,function(){var e=(0,s.Z)(o().mark((function e(t){var n,s,a,i,l,c,u,d,_,m,p,h,f,g,v,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.default_program_id,s=t.default_subject_ids,a=t.default_developmental_id,e.next=3,Z.getProgramsOptions();case 3:if(i=e.sent,!(l=n||i[0].id)){e.next=26;break}return e.next=8,Z.getSubjectAgeGradeByProgramId(l);case 8:if(c=e.sent,u=(0,r.Z)(c,3),d=u[0],_=u[1],m=u[2],p=s||(d.length>0?d[0].id:void 0)){e.next=16;break}return e.abrupt("return",{program:i,subject:[],developmental:[],age:[],grade:[],skills:[],program_id:"",developmental_id:""});case 16:return e.next=18,k(l,p,a);case 18:return h=e.sent,f=(0,r.Z)(h,3),g=f[0],v=f[1],b=f[2],e.abrupt("return",{program:i,subject:d,developmental:g,age:_,grade:m,skills:v,program_id:l,developmental_id:b});case 26:return e.abrupt("return",{program:i,subject:[],developmental:[],age:[],grade:[],skills:[],program_id:"",developmental_id:""});case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},k=function(){var e=(0,s.Z)(o().mark((function e(t,n,r){var s,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.ZP.developmentals.getDevelopmental({program_id:t,subject_ids:n});case 2:if(s=e.sent,!(a=r||s[0].id)){e.next=10;break}return e.next=7,u.ZP.skills.getSkill({program_id:t,developmental_id:a});case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=[];case 11:return i=e.t0,e.abrupt("return",[s,i,a]);case 13:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),w=Z},25649:function(e,t,n){"use strict";n.d(t,{h:function(){return b}});var r=n(95273),s=n(7475),a=n(37346),o=n(95906),i=(0,r.oM)({name:"loading",initialState:{loading:!1},reducers:{actSetLoading:function(e,t){var n=t.payload;e.loading=n}}}),l=i.actions,c=i.reducer,u=l.actSetLoading,d=c,_=/\/pending$/,m=/\/fulfilled$|\/rejected$/;var p,h=n(39521),f=n(39637),g=n(9337),v=(p={enableLoadingPayload:{type:u.type,payload:!0},disableLoadingPayload:{type:u.type,payload:!1}},function(e){return function(t){return function(n){var r,s;return null!==n&&void 0!==n&&null!==(r=n.meta)&&void 0!==r&&null!==(s=r.arg)&&void 0!==s&&s.metaLoading?(_.test(n.type)&&e.dispatch(p.enableLoadingPayload),m.test(n.type)&&e.dispatch(p.disableLoadingPayload),t(n)):t(n)}}}),b=(0,r.xC)({reducer:{loading:d,confirm:o.ZP,notify:f.ZP,outcome:g.ZP,assessments:s.ZP,milestone:h.ZP,common:a.Z},middleware:function(e){return e().concat(v)}})},39521:function(e,t,n){"use strict";n.d(t,{G5:function(){return F},PN:function(){return E},RX:function(){return A},Y7:function(){return C},_B:function(){return j},gs:function(){return y},hC:function(){return w},hK:function(){return P},pe:function(){return S},rd:function(){return I},tB:function(){return B},to:function(){return N},vF:function(){return k}});var r,s=n(4942),a=n(1413),o=n(45987),i=n(15861),l=n(87757),c=n.n(l),u=n(95273),d=n(32780),_=n(60649),m=n(31366),p=n(24971),h=n(82341),f=n(95906),g=n(21529),v=n(39637),b=["metaLoading"],x={milestoneList:[],milestoneDetail:{age:[],author:{},category:[],create_at:0,description:"",grade:[],milestone_id:"",milestone_name:"",organization:{},outcomes:[],program:[{program_id:"",program_name:""}],shortcode:"",status:"",sub_category:[],subject:[]},total:void 0,shortCode:"",linkedMockOptions:{program:[],subject:[],developmental:[],age:[],grade:[],skills:[],program_id:"",developmental_id:""},organization_name:"",user_name:"",outcomeList:[],outcomeTotal:void 0,user_id:""},y=(0,u.hg)("milestone/onLoadMilestoneList",function(){var e=(0,i.Z)(c().mark((function e(t){var n,r,s,i,l,u,p,h,f,g,v;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.metaLoading,s=(0,o.Z)(t,b),e.next=3,d.YA.query({query:_.Wz});case 3:if(i=e.sent,l=i.data,u=s.author_id,p=null===(n=l.myUser)||void 0===n||null===(r=n.node)||void 0===r?void 0:r.id,(h={}).user_id=p,f=s.status,g=s.is_unpub,v=(0,a.Z)((0,a.Z)({},s),{},{author_id:u?p:"",page_size:10}),f!==m._W.pending||g){e.next=17;break}return e.next=14,d.ZP.pendingMilestones.searchPendingMilestone(v);case 14:h.pendingRes=e.sent,e.next=26;break;case 17:if(!g){e.next=23;break}return e.next=20,d.ZP.privateMilestones.searchPrivateMilestone(v);case 20:h.privateRes=e.sent,e.next=26;break;case 23:return e.next=25,d.ZP.milestones.searchMilestone(v);case 25:h.milestoneRes=e.sent;case 26:return e.abrupt("return",h);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),j=(0,g.uA)("milestone/getLinkedMockOptions"),Z=(0,u.hg)("milestone/getMilestoneDetail",(function(e){var t=e.id;return d.ZP.milestones.obtainMilestone(t)})),C=(0,u.hg)("milestone/onLoadMilestoneEdit",function(){var e=(0,i.Z)(c().mark((function e(t,n){var r,s,a,o,i,l,u,m,p;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.id,i=n.dispatch,!o){e.next=8;break}return e.next=5,d.ZP.milestones.obtainMilestone(o);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=x.milestoneDetail;case 9:if(l=e.t0,o){e.next=13;break}return e.next=13,i(P({kind:"milestones"}));case 13:return e.next=15,i(F({exect_search:h.n7.all,search_key:"",assumed:-1,page:1}));case 15:return e.next=17,i(j({default_program_id:l.program&&l.program[0]?l.program[0].program_id:"",default_developmental_id:l.category&&l.category[0]?l.category[0].category_id:"",default_subject_ids:l.subject&&l.subject[0]?null===(r=l.subject)||void 0===r?void 0:r.map((function(e){return e.subject_id})).join(","):""}));case 17:return e.next=19,d.YA.query({query:_.Wz,fetchPolicy:"cache-first"});case 19:return u=e.sent,m=u.data,p=null===(s=m.myUser)||void 0===s||null===(a=s.node)||void 0===a?void 0:a.id,e.abrupt("return",{milestoneDetail:l,user_id:p});case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),k=(0,u.hg)("milestone/createMilestone",function(){var e=(0,i.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.ZP.milestones.createMilestone(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w=(0,u.hg)("milestone/deleteMilestone",function(){var e=(0,i.Z)(c().mark((function e(t,n){var r,s,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.dispatch,null!==t&&void 0!==t&&t.length){e.next=3;break}return e.abrupt("return",Promise.reject(r((0,v.WQ)((0,p.d)("At least one content should be selected.").t("library_msg_remove_select_one")))));case 3:return s=(0,p.d)("Are you sure you want to delete this milestone?").t("assess_msg_delete_milestone"),e.t0=u.SI,e.next=7,r((0,f.xC)({content:s}));case 7:if(e.t1=e.sent,a=(0,e.t0)(e.t1),a.isConfirmed){e.next=12;break}return e.abrupt("return",Promise.reject());case 12:return e.next=14,d.ZP.milestones.deleteMilestone({ids:t});case 14:return"ok"===(o=e.sent)&&r((0,v.HY)((0,p.d)("Deleted Successfully").t("assess_msg_deleted_successfully"))),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),S=((0,u.hg)("milestone/publishMilestone",(function(e){return d.ZP.bulkPublish.publishMilestonesBulk(e)})),(0,u.hg)("milestone/approveMilestone",function(){var e=(0,i.Z)(c().mark((function e(t,n){var r,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,e.next=3,d.ZP.bulkApprove.bulkApproveMilestone({ids:t});case 3:return"ok"===(s=e.sent)&&r((0,v.HY)("Approved Successfully")),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),A=((0,u.hg)("milestone/approveMilestone",function(){var e=(0,i.Z)(c().mark((function e(t,n){var r,s,a,o,i,l,_;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,s=(0,p.d)("Reason").t("library_label_reason"),a=(0,p.d)("Please specify the reason for rejection.").t("library_msg_reject_reason"),o=f.KO.onlyInput,e.t0=u.SI,e.next=7,r((0,f.xC)({title:s,content:a,type:o,defaultValue:""}));case 7:if(e.t1=e.sent,i=(0,e.t0)(e.t1),l=i.isConfirmed,_=i.otherValue,l){e.next=13;break}return e.abrupt("return",Promise.reject());case 13:return e.abrupt("return",d.ZP.bulkReject.bulkRejectMilestone({milestone_ids:t,reject_reason:_}));case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,u.hg)("outcome/bulkPublishMilestone",function(){var e=(0,i.Z)(c().mark((function e(t,n){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.dispatch,e.abrupt("return",d.ZP.bulkPublish.publishMilestonesBulk({ids:t}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())),N=(0,u.hg)("milestone/bulkApprove",function(){var e=(0,i.Z)(c().mark((function e(t,n){var r,s,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.dispatch,t&&t.length){e.next=3;break}return e.abrupt("return",Promise.reject(r((0,v.WQ)((0,p.d)("At least one learning outcome should be selected.").t("assess_msg_remove_select_one")))));case 3:return s=(0,p.d)("Are you sure you want to approve these milestones?").t("assess_msg_approve_milestone"),e.t0=u.SI,e.next=7,r((0,f.xC)({content:s}));case 7:if(e.t1=e.sent,a=(0,e.t0)(e.t1),a.isConfirmed){e.next=12;break}return e.abrupt("return",Promise.reject());case 12:return e.next=14,d.ZP.bulkApprove.bulkApproveMilestone({ids:t});case 14:return"ok"===(o=e.sent)&&r((0,v.HY)("Approved Successfully")),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),B=(0,u.hg)("outcome/bulkReject",function(){var e=(0,i.Z)(c().mark((function e(t,n){var r,s,a,o,i,l,_;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.dispatch,t&&t.length){e.next=3;break}return e.abrupt("return",Promise.reject(r((0,v.WQ)((0,p.d)("At least one learning outcome should be selected.").t("assess_msg_remove_select_one")))));case 3:return s=(0,p.d)("Reason").t("library_label_reason"),a=(0,p.d)("Please specify the reason for rejection.").t("library_msg_reject_reason"),o=f.KO.onlyInput,e.t0=u.SI,e.next=9,r((0,f.xC)({title:s,defaultValue:"",content:a,type:o}));case 9:if(e.t1=e.sent,i=(0,e.t0)(e.t1),l=i.isConfirmed,_=i.text,l){e.next=15;break}return e.abrupt("return",Promise.reject());case 15:return e.next=17,d.ZP.bulkReject.bulkRejectMilestone({milestone_ids:t,reject_reason:_});case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),I=((0,u.hg)("milestone/obtainMilestone",(function(e){return d.ZP.milestones.obtainMilestone(e)})),(0,u.hg)("milestone/updateMilestone",(function(e){var t=e.milestone_id,n=e.milestone;return d.ZP.milestones.updateMilestone(t,n)}))),P=(0,u.hg)("milestone/generateShortcode",(function(e){return d.ZP.shortcode.generateShortcode(e)})),E=(0,u.hg)("milestone/occupyMilestone",(function(e){var t=e.id;return d.ZP.milestones.occupyMilestone(t)})),F=(0,u.hg)("milestone/onLoadOutcomeList",function(){var e=(0,i.Z)(c().mark((function e(t){var n,r,a,o,i,l,u,m,p,h;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.next=3,d.YA.query({query:_.Wz,fetchPolicy:"cache-first"});case 3:return o=e.sent,i=o.data,a.user_id=null===(n=i.myUser)||void 0===n||null===(r=n.node)||void 0===r?void 0:r.id,l=t.search_key,u=t.page,m=t.exect_search,p=t.assumed,h=(0,s.Z)({publish_status:"published",page:u,order_by:"-created_at",page_size:10,assumed:p},"all"===m?"search_key":m,l),e.next=10,d.ZP.learningOutcomes.searchLearningOutcomes(h);case 10:return a.outcomeRes=e.sent,e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O=(0,u.oM)({name:"milestone",initialState:x,reducers:{},extraReducers:(r={},(0,s.Z)(r,y.fulfilled.type,(function(e,t){var n=t.payload;e.user_id=n.user_id,n.pendingRes&&(e.milestoneList=n.pendingRes.milestones,e.total=n.pendingRes.total||0),n.privateRes&&(e.milestoneList=n.privateRes.milestones,e.total=n.privateRes.total||0),n.milestoneRes&&(e.milestoneList=n.milestoneRes.milestones,e.total=n.milestoneRes.total||0)})),(0,s.Z)(r,j.fulfilled.type,(function(e,t){var n=t.payload;e.linkedMockOptions=n})),(0,s.Z)(r,j.rejected.type,(function(e,t){t.error})),(0,s.Z)(r,C.fulfilled.type,(function(e,t){var n,r,s=t.payload;e.milestoneDetail=s.milestoneDetail||{},e.user_id=s.user_id||"",e.shortCode=null!==(n=s.milestoneDetail)&&void 0!==n&&n.shortcode?(null===(r=s.milestoneDetail)||void 0===r?void 0:r.shortcode)||"":e.shortCode})),(0,s.Z)(r,C.pending.type,(function(e,t){t.payload;e.milestoneDetail=x.milestoneDetail,e.user_id=x.user_id})),(0,s.Z)(r,F.fulfilled.type,(function(e,t){var n,r,s=t.payload;e.outcomeList=(null===(n=s.outcomeRes)||void 0===n?void 0:n.list)||[],e.outcomeTotal=(null===(r=s.outcomeRes)||void 0===r?void 0:r.total)||0})),(0,s.Z)(r,F.pending.type,(function(e,t){t.payload;e.outcomeList=[],e.outcomeTotal=x.outcomeTotal})),(0,s.Z)(r,P.fulfilled.type,(function(e,t){var n=t.payload;e.shortCode=n.shortcode||""})),(0,s.Z)(r,P.pending.type,(function(e,t){t.payload;e.shortCode=x.shortCode})),(0,s.Z)(r,Z.fulfilled.type,(function(e,t){var n=t.payload;e.milestoneDetail=n||{}})),(0,s.Z)(r,Z.pending.type,(function(e,t){t.payload;e.milestoneDetail=x.milestoneDetail})),(0,s.Z)(r,k.fulfilled.type,(function(e,t){var n=t.payload;e.shortCode=n.shortcode||""})),r)}).reducer;t.ZP=O},39637:function(e,t,n){"use strict";n.d(t,{Gs:function(){return p},HY:function(){return m},WQ:function(){return u},vM:function(){return _},y6:function(){return d}});var r=n(1413),s=n(95273),a={},o=function(e){return function(t,n){var s=n.payload,a=Date.now().toString();t[a]="string"===typeof s?{key:a,label:s,variant:e}:(0,r.Z)((0,r.Z)({},s),{},{key:a,variant:e})}},i=(0,s.oM)({name:"notify",initialState:a,reducers:{actWarning:o("warning"),actError:o("error"),actInfo:o("info"),actSuccess:o("success"),actRemove:function(e,t){var n=t.payload;if(!n)return a;delete e[n]}}}),l=i.actions,c=i.reducer,u=l.actWarning,d=l.actError,_=l.actInfo,m=l.actSuccess,p=l.actRemove;t.ZP=c},9337:function(e,t,n){"use strict";n.d(t,{$c:function(){return J},Bb:function(){return L},E_:function(){return R},El:function(){return Y},G5:function(){return E},NR:function(){return M},P1:function(){return te},PH:function(){return ne},Ph:function(){return le},R4:function(){return oe},RG:function(){return X},ZF:function(){return ce},a1:function(){return W},cE:function(){return Q},d1:function(){return q},dE:function(){return U},ez:function(){return O},g2:function(){return T},hK:function(){return $},je:function(){return N},m8:function(){return A},m_:function(){return z},nM:function(){return D},oT:function(){return ie},tB:function(){return K},to:function(){return H},yn:function(){return G}});var r,s=n(37762),a=n(42982),o=n(1413),i=n(45987),l=n(70885),c=n(15861),u=n(4942),d=n(87757),_=n.n(d),m=n(60649),p=n(81272),h=n(32780),f=n(31366),g=n(24971),v=n(944),b=n(95273),x=n(95906),y=n(21529),j=n(39637),Z=["metaLoading"],C=["metaLoading"],k=["metaLoading"],w="assess_msg_no_permission",S={permission:(0,u.Z)({},w,void 0),outcomeDetail:{outcome_id:"",ancestor_id:"",shortcode:"",assumed:!0,outcome_name:"",program:[],subject:[],developmental:[],skills:[],age:[],grade:[],reject_reason:"",keywords:[],locked_by:"",author_id:"",author_name:"",organization_name:"",publish_status:"draft",created_at:0,description:""},total:void 0,outcomeList:[],lockOutcome_id:"",mockOptions:{options:[],visibility_settings:[],lesson_types:[],classes:[],class_types:[],organizations:[],teachers:[],students:[],users:[],teacher_class_relationship:[]},newOptions:{program:[],subject:[],developmental:[],skills:[],age:[],grade:[],user_id:""},user_id:"",outcomeSetList:[],defaultSelectOutcomeset:"",shortCode:"",selectedIdsMap:{},downloadOutcomes:[],programsArray:[],subjectArray:[],uploadLoList:[],createLoList:[],updateLoList:[]},A=(0,b.hg)("getNewOptions",function(){var e=(0,c.Z)(_().mark((function e(t){var n,r,s,a,o,i,c,u,d,p,f,g,v,b,x,j,Z,C,k,w,S;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.development_id,i=t.default_subject_ids,c=t.program_id,e.next=3,h.YA.query({query:m.Wz});case 3:return u=e.sent,d=u.data,e.next=7,y.ZP.getProgramsOptions();case 7:return p=e.sent,f=c||p[0].id,e.next=11,y.ZP.getSubjectAgeGradeByProgramId(f);case 11:if(g=e.sent,v=(0,l.Z)(g,3),b=v[0],x=v[1],j=v[2],b.length){e.next=18;break}return e.abrupt("return",{program:p,subject:[],developmental:[],skills:[],age:[],grade:[],user_id:null===(n=d.myUser)||void 0===n||null===(r=n.node)||void 0===r?void 0:r.id});case 18:return Z=i||b[0].id,e.next=21,(0,y.N$)(f,Z,o);case 21:return C=e.sent,k=(0,l.Z)(C,2),w=k[0],S=k[1],e.abrupt("return",{program:p,subject:b,developmental:w,skills:S,age:x,grade:j,user_id:null===(s=d.myUser)||void 0===s||null===(a=s.node)||void 0===a?void 0:a.id});case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),N=(0,b.hg)("getSecondLevelOptions",function(){var e=(0,c.Z)(_().mark((function e(t){var n,r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.developmental_id,r=t.program_id,e.next=3,h.ZP.skills.getSkill({developmental_id:n,program_id:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),B=(0,b.hg)("outcome/outcomeList",function(){var e=(0,c.Z)(_().mark((function e(t){var n,r,s,a,o,l,c,u;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.metaLoading,s=(0,i.Z)(t,Z),e.next=3,h.YA.query({query:m.Wz});case 3:return a=e.sent,o=a.data,e.next=7,h.ZP.learningOutcomes.searchLearningOutcomes(s);case 7:return l=e.sent,c=l.list,u=l.total,e.abrupt("return",{list:c,total:u,user_id:null===(n=o.myUser)||void 0===n||null===(r=n.node)||void 0===r?void 0:r.id});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),I=(0,b.hg)("outcome/actPendingOutcomeList",function(){var e=(0,c.Z)(_().mark((function e(t){var n,r,s,a,o,l,c,u;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.metaLoading,s=(0,i.Z)(t,C),e.next=3,h.YA.query({query:m.Wz});case 3:return a=e.sent,o=a.data,e.next=7,h.ZP.pendingLearningOutcomes.searchPendingLearningOutcomes(s);case 7:return l=e.sent,c=l.list,u=l.total,e.abrupt("return",{list:c,total:u,user_id:null===(n=o.myUser)||void 0===n||null===(r=n.node)||void 0===r?void 0:r.id});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),P=(0,b.hg)("outcome/actPrivateOutcomeList",function(){var e=(0,c.Z)(_().mark((function e(t){var n,r,s,a,o,l,c,u;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.metaLoading,s=(0,i.Z)(t,k),e.next=3,h.YA.query({query:m.Wz});case 3:return a=e.sent,o=a.data,e.next=7,h.ZP.privateLearningOutcomes.searchPrivateLearningOutcomes(s);case 7:return l=e.sent,c=l.list,u=l.total,e.abrupt("return",{list:c,total:u,user_id:null===(n=o.myUser)||void 0===n||null===(r=n.node)||void 0===r?void 0:r.id});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E=(0,b.hg)("outcome/onLoadOutcomeList",function(){var e=(0,c.Z)(_().mark((function e(t){var n,r,s,a,i,l,c,d,p,g,b,x,y;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={},e.next=3,h.YA.query({query:m.Wz});case 3:if(a=e.sent,i=a.data,s.user_id=null===(n=i.myUser)||void 0===n||null===(r=n.node)||void 0===r?void 0:r.id,l=t.search_key,c=t.publish_status,d=t.author_name,p=t.page,g=t.order_by,b=t.is_unpub,x=t.exect_search,y=(0,u.Z)({publish_status:c,author_name:d,page:p,order_by:g,page_size:20,assumed:-1},"all"===x?"search_key":x,l),c!==f.nk.pending||b){e.next=14;break}return e.next=11,h.ZP.pendingLearningOutcomes.searchPendingLearningOutcomes(y);case 11:s.pendingRes=e.sent,e.next=23;break;case 14:if(!(0,v.rl)((0,o.Z)({},t))){e.next=20;break}return e.next=17,h.ZP.privateLearningOutcomes.searchPrivateLearningOutcomes(y);case 17:s.privateRes=e.sent,e.next=23;break;case 20:return e.next=22,h.ZP.learningOutcomes.searchLearningOutcomes(y);case 22:s.outcomeRes=e.sent;case 23:return e.abrupt("return",s);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),F=function(){var e=(0,c.Z)(_().mark((function e(t,n,r){var s,i,l,c,u,d,m,p,f,g,v,b;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.page,i=t.outcome_ids,l=n?(0,a.Z)(n):[],!r||!i){e.next=17;break}return c=r.length,e.next=6,h.ZP.learningOutcomes.exportLearningOutcomes((0,o.Z)((0,o.Z)({},t),{},{page:1,outcome_ids:i.slice(0,50)}));case 6:if(u=e.sent,!(d=u.data)){e.next=14;break}if(l=[].concat((0,a.Z)(l),(0,a.Z)(d)),!(c>l.length)){e.next=14;break}return m=50*s,p=50*(s+1),e.abrupt("return",F((0,o.Z)((0,o.Z)({},t),{},{page:s+1,outcome_ids:null===r||void 0===r?void 0:r.slice(m,p)}),l,r));case 14:case 27:return e.abrupt("return",new Promise((function(e){e(l)})));case 17:return e.next=19,h.ZP.learningOutcomes.exportLearningOutcomes(t);case 19:if(f=e.sent,g=f.data,v=f.total_count,!g){e.next=27;break}if(l=[].concat((0,a.Z)(l),(0,a.Z)(g)),!(v&&v>l.length)){e.next=27;break}return b=l.length/50+1,e.abrupt("return",F((0,o.Z)((0,o.Z)({},t),{},{page:b}),l));case 28:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),O=(0,b.hg)("outcome/exportOutcomes",(function(e){return F(e,[],e.outcome_ids)})),T=(0,b.hg)("outcome/deleteOutcome",function(){var e=(0,c.Z)(_().mark((function e(t,n){var r,s,a,o;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,s=(0,g.d)("Are you sure you want to delete this learning outcome?").t("assess_msg_delete_content"),e.t0=b.SI,e.next=5,r((0,x.xC)({content:s}));case 5:if(e.t1=e.sent,a=(0,e.t0)(e.t1),a.isConfirmed){e.next=10;break}return e.abrupt("return",Promise.reject());case 10:return e.next=12,h.ZP.learningOutcomes.deleteLearningOutcome(t);case 12:return"ok"===(o=e.sent)&&r((0,j.HY)((0,g.d)("Deleted Successfully").t("assess_msg_deleted_successfully"))),e.abrupt("return",o);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),L=(0,b.hg)("outcome/publishOutcome",function(){var e=(0,c.Z)(_().mark((function e(t){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.ZP.learningOutcomes.publishLearningOutcomes(t,{scope:""}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D=(0,b.hg)("outcome/bulkDeleteOutcome",function(){var e=(0,c.Z)(_().mark((function e(t,n){var r,s,a,o;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.dispatch,null!==t&&void 0!==t&&t.length){e.next=3;break}return e.abrupt("return",Promise.reject(r((0,j.WQ)((0,g.d)("At least one learning outcome should be selected.").t("assess_msg_remove_select_one")))));case 3:return s=(0,g.d)("Are you sure you want to delete this learning outcome?").t("assess_msg_delete_content"),e.t0=b.SI,e.next=7,r((0,x.xC)({content:s}));case 7:if(e.t1=e.sent,a=(0,e.t0)(e.t1),a.isConfirmed){e.next=12;break}return e.abrupt("return",Promise.reject());case 12:return e.next=14,h.ZP.bulk.deleteOutcomeBulk({outcome_ids:t});case 14:return"ok"===(o=e.sent)&&r((0,j.HY)((0,g.d)("Deleted Successfully").t("assess_msg_deleted_successfully"))),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),R=(0,b.hg)("outcome/bulkPublishOutcome",function(){var e=(0,c.Z)(_().mark((function e(t,n){var r,s;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.dispatch,!t||t.length){e.next=3;break}return e.abrupt("return",Promise.reject(r((0,j.WQ)((0,g.d)("At least one learning outcome should be selected.").t("assess_msg_remove_select_one")))));case 3:return"Are you sure you want to publish these contents?",e.t0=b.SI,e.next=7,r((0,x.xC)({content:"Are you sure you want to publish these contents?"}));case 7:if(e.t1=e.sent,s=(0,e.t0)(e.t1),s.isConfirmed){e.next=12;break}return e.abrupt("return",Promise.reject());case 12:return e.abrupt("return",h.ZP.bulkPublish.publishLearningOutcomesBulk({outcome_ids:t}));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),M=(0,b.hg)("outcome/lockOutcome",function(){var e=(0,c.Z)(_().mark((function e(t){var n;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,h.ZP.learningOutcomes.lockLearningOutcomes(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),W=(0,b.hg)("outcome/save",function(){var e=(0,c.Z)(_().mark((function e(t,n){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,e.next=3,h.ZP.learningOutcomes.createLearningOutcomes(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),z=(0,b.hg)("outcome/update",(function(e){var t=e.outcome_id,n=e.value;return h.ZP.learningOutcomes.updateLearningOutcomes(t,n)})),Q=(0,b.hg)("outcome/getOutcomeDetail",(function(e){var t=e.id;return h.ZP.learningOutcomes.getLearningOutcomesById(t)})),q=(0,b.hg)("outcome/reject",function(){var e=(0,c.Z)(_().mark((function e(t){var n,r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.reject_reason,e.next=3,h.ZP.learningOutcomes.rejectLearningOutcomes(n,{reject_reason:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),U=(0,b.hg)("outcome/approve",function(){var e=(0,c.Z)(_().mark((function e(t,n){var r,s;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,e.next=3,h.ZP.learningOutcomes.approveLearningOutcomes(t);case 3:return"ok"===(s=e.sent)&&r((0,j.HY)("Approved Successfully")),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),V=(0,b.hg)("apiGetMockOptions",(0,c.Z)(_().mark((function e(){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.pC)();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),G=(0,b.hg)("outcome/reject",function(){var e=(0,c.Z)(_().mark((function e(t,n){var r,s,a,o,i,l,c,u;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,s=n.dispatch,a=(0,g.d)("Reason").t("library_label_reason"),o=(0,g.d)("Please specify the reason for rejection.").t("library_msg_reject_reason"),i=x.KO.onlyInput,e.t0=b.SI,e.next=8,s((0,x.xC)({title:a,defaultValue:"",content:o,type:i}));case 8:if(e.t1=e.sent,l=(0,e.t0)(e.t1),c=l.isConfirmed,u=l.text,c){e.next=14;break}return e.abrupt("return",Promise.reject());case 14:return e.next=16,h.ZP.learningOutcomes.rejectLearningOutcomes(r,{reject_reason:u});case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),H=(0,b.hg)("outcome/bulkApprove",function(){var e=(0,c.Z)(_().mark((function e(t,n){var r,s,a,o;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.dispatch,t&&t.length){e.next=3;break}return e.abrupt("return",Promise.reject(r((0,j.WQ)((0,g.d)("At least one learning outcome should be selected.").t("assess_msg_remove_select_one")))));case 3:return s=(0,g.d)("Are you sure you want to approve these learning outcomes?").t("assess_bulk_approval"),e.t0=b.SI,e.next=7,r((0,x.xC)({content:s}));case 7:if(e.t1=e.sent,a=(0,e.t0)(e.t1),a.isConfirmed){e.next=12;break}return e.abrupt("return",Promise.reject());case 12:return e.next=14,h.ZP.bulkApprove.approveLearningOutcomesBulk({outcome_ids:t});case 14:return"ok"===(o=e.sent)&&r((0,j.HY)("Approved Successfully")),e.abrupt("return",o);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),K=(0,b.hg)("outcome/bulkReject",function(){var e=(0,c.Z)(_().mark((function e(t,n){var r,s,a,o,i,l,c;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.dispatch,t&&t.length){e.next=3;break}return e.abrupt("return",Promise.reject(r((0,j.WQ)((0,g.d)("At least one learning outcome should be selected.").t("assess_msg_remove_select_one")))));case 3:return s=(0,g.d)("Reason").t("library_label_reason"),a=(0,g.d)("Please specify the reason for rejection.").t("library_msg_reject_reason"),o=x.KO.onlyInput,e.t0=b.SI,e.next=9,r((0,x.xC)({title:s,defaultValue:"",content:a,type:o}));case 9:if(e.t1=e.sent,i=(0,e.t0)(e.t1),l=i.isConfirmed,c=i.text,l){e.next=15;break}return e.abrupt("return",Promise.reject());case 15:return e.next=17,h.ZP.bulkReject.rejectLearningOutcomesBulk({outcome_ids:t,reject_reason:c});case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Y=(0,b.hg)("sets/pullOutcomeset",function(){var e=(0,c.Z)(_().mark((function e(t){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.ZP.sets.pullOutcomeSet(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),X=(0,b.hg)("sets/createOutcomeSet",function(){var e=(0,c.Z)(_().mark((function e(t){var n,r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.set_name,r=void 0===n?"":n,e.next=3,h.ZP.sets.createOutcomeSet(t);case 3:return e.abrupt("return",h.ZP.sets.pullOutcomeSet({set_name:r}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),J=(0,b.hg)("sets/bulkBindOutcomeSet",function(){var e=(0,c.Z)(_().mark((function e(t,n){var r,s,a,o;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.outcome_ids,s=t.set_ids,a=n.dispatch,s&&s.length){e.next=4;break}return e.abrupt("return",Promise.reject(a((0,j.WQ)((0,g.d)("At least one learning outcome should be selected.").t("assess_msg_remove_select_one")))));case 4:return e.next=6,h.ZP.sets.bulkBindOutcomeSet({outcome_ids:r,set_ids:s});case 6:return"ok"===(o=e.sent)&&a((0,j.HY)((0,g.d)("Updated Successfully").t("assess_msg_updated_successfully"))),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),$=(0,b.hg)("shortcode/generateShortcode",function(){var e=(0,c.Z)(_().mark((function e(t){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.ZP.shortcode.generateShortcode(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ee=((0,b.hg)("outcome/getProgramId",function(){var e=(0,c.Z)(_().mark((function e(t){var n,r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.programNames,e.next=3,(0,p.z$)(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,b.hg)("outcome/getSubjectIdsBySubjectName",function(){var e=(0,c.Z)(_().mark((function e(t){var n,r,s;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.programId,r=t.subjectNames,e.next=3,(0,p.OQ)(n,r);case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),te=(0,b.hg)("outcome/parseCsvLo",function(){var e=(0,c.Z)(_().mark((function e(t){var n,r,a,i,l,c,u,d,m,f,v,b,x,y,j,Z,C,k,w,S,A,N,B,I,P,E,F,O,T,L,D,R,M,W,z,Q,q,U,V,G,H,K,Y,X;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.loArray,r=new Set,n.forEach((function(e){e.program&&r.add(e.program)})),a=Array.from(r.keys()),e.next=6,(0,p.z$)(a);case 6:i=e.sent,l=new Map,i&&i.forEach((function(e){l.set(e.name,e)})),c=[],u=(0,s.Z)(n),e.prev=11,u.s();case 13:if((d=u.n()).done){e.next=68;break}if(Z=d.value,C=Z.outcome_name?Z.outcome_name.length>255||Z.outcome_name.length<1?(0,g.d)("The length must be 1~255 characters.").t("assessment_lo_bulk_upload_length_limit"):"":(0,g.d)("Can\u2019t not be empty!").t("assessment_lo_bulk_upload_empty_input"),k=""===Z.assumed||void 0===Z.assumed,w=Z.assumed?null===(m=Z.assumed)||void 0===m?void 0:m.toLocaleLowerCase():Z.assumed,S="true"===w||"false"!==w&&Z.assumed,A=k?(0,g.d)("Can\u2019t not be empty!").t("assessment_lo_bulk_upload_empty_input"):!0===S||!1===S?"":(0,g.d)("Invalid! Please type \u201dTrue\u201d or \u201cFalse\u201d in the CSV file.").t("assessment_lo_bulk_upload_invalid_assumed"),N=new RegExp(/^(100|[1-9]?\d()?)%$/),B=N.test(null===Z||void 0===Z?void 0:Z.score_threshold),I=!0===S?"0%":!1===S?B?"0%"===Z.score_threshold?"80%":Z.score_threshold:"80%":Z.score_threshold,P=""===I||void 0===I,E=N.test(I),F=P?(0,g.d)("Can\u2019t not be empty!").t("assessment_lo_bulk_upload_empty_input"):E?"":(0,g.d)("Invalid! Please type Text from \u201c0%\u201d to \u201c100%\u201d or nothing in the CSV file.").t("assessment_lo_bulk_upload_invalid_threshold"),O=Z.description&&Z.description.length>2e3?(0,g.d)("The length must be 0~2000 characters.").t("assessment_lo_bulk_upload_keyword_length"):"",T=void 0,L={id:"",value:Z.program,error:""},D=!Z.subject||0===Z.subject.length,R={error:"",items:Z&&Z.subject?Z.subject.map((function(e){return{id:"",value:e,error:""}})):[]},M=void 0===Z.category||""===Z.category,W={id:"",value:Z.category,error:""},z=!Z.subcategory||0===Z.subcategory.length,Q={error:"",items:Z.subcategory?Z.subcategory.map((function(e){return{id:"",value:e,error:""}})):[]},q=!Z.age||0===(null===Z||void 0===Z?void 0:Z.age.length),U={error:"",items:Z.age?Z.age.map((function(e){return{id:"",value:e,error:""}})):[]},V=!Z.grade||0===(null===Z||void 0===Z?void 0:Z.grade.length),G={error:"",items:Z.grade?null===Z||void 0===Z?void 0:Z.grade.map((function(e){return{id:"",value:e,error:""}})):[]},!Z.program||!Z.program.length){e.next=60;break}if(!(T=l.get(null===Z||void 0===Z?void 0:Z.program))){e.next=54;break}if(L.id=T.id,D){e.next=47;break}return e.delegateYield(_().mark((function e(){var t,n,r,s,a,o,i,l,c,u,d;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new Map,n=new Map,r=[],!Z.subject){e.next=7;break}return e.next=6,(0,p.OQ)(T.id,Z.subject);case 6:r=e.sent;case 7:r.forEach((function(e){n.set(e.name,e)})),R&&R.items&&(s=[],R.items.forEach((function(e){var r=n.get(e.value);if(r){e.id=r.id,e.value=r.name;var a=null===r||void 0===r?void 0:r.category;a&&a.forEach((function(e){t.set(e.name,e)}))}else s.push(e.value),e.error=(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:e.value})})),s.length&&(R.error=s.length?(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:s.join(",")}):"")),a=!!(R&&R.items&&R.items.length)&&R.items.some((function(e){return!e.error})),a?M?z||Q&&Q.items&&(u=[],Q.items.forEach((function(e){u.push(e.value),e.error=(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:e.value})})),Q.error=u.length?(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:u.join(",")}):""):(o=t.get(null===Z||void 0===Z?void 0:Z.category))?(W.id=o.id,z||(i=new Map,(l=o.subCategory)&&l.forEach((function(e){i.set(e.name,e)})),Q&&Q.items&&(c=[],Q.items.forEach((function(e){var t=i.get(e.value);t?(e.id=null===t||void 0===t?void 0:t.id,e.value=null===t||void 0===t?void 0:t.name):(c.push(e.value),e.error=(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:e.value}))})),Q.error=c.length?(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:c.join(",")}):""))):W.error=(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:Z.category}):(M||(Q.error=(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:Z.category})),z||Q&&Q.items&&(d=[],Q.items.forEach((function(e){d.push(e.value),e.error=(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:e.value})})),Q.error=d.length?(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:d.join(",")}):""));case 11:case"end":return e.stop()}}),e)}))(),"t0",45);case 45:e.next=50;break;case 47:R.error=(0,g.d)("Can\u2019t not be empty!").t("assessment_lo_bulk_upload_empty_input"),M?W.error=(0,g.d)("Can\u2019t not be empty!").t("assessment_lo_bulk_upload_empty_input"):Q.error=(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:Z.category}),z||Q&&Q.items&&function(){var e=[];Q.items.forEach((function(t){e.push(t.value),t.error=(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:t.value})})),Q.error=e.length?(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:e.join(",")}):""}();case 50:q||function(){var e=new Map;if(T.ages.forEach((function(t){e.set(t.name,t)})),U&&U.items){var t=[];U.items.forEach((function(n){var r=e.get(n.value);r?n.id=null===r||void 0===r?void 0:r.id:(t.push(n.value),n.error=(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:n.value}))})),U.error=t.length?(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:t.join(",")}):""}}(),V||function(){var e=new Map;if(T.grades.forEach((function(t){e.set(t.name,t)})),G&&G.items){var t=[];G.items.forEach((function(n){var r=e.get(n.value);r?n.id=null===r||void 0===r?void 0:r.id:(t.push(n.value),n.error=(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:n.value}))})),G.error=t.length?(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:t.join(",")}):""}}(),e.next=58;break;case 54:L.error=(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:Z.program}),D||R&&R.items&&function(){var e=[];R.items.forEach((function(t){e.push(t.value),t.error=(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:t.value})})),R.error=e.length?(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:e.join(",")}):""}(),W.error=M?(0,g.d)("Can\u2019t not be empty!").t("assessment_lo_bulk_upload_empty_input"):(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:Z.category}),z||Q&&Q.items&&function(){var e=[];Q.items.forEach((function(t){e.push(t.value),t.error=(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:t.value})})),Q.error=e.length?(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:e.join(",")}):""}();case 58:e.next=64;break;case 60:L.error=(0,g.d)("Can\u2019t not be empty!").t("assessment_lo_bulk_upload_empty_input"),D?R.error=(0,g.d)("Can\u2019t not be empty!").t("assessment_lo_bulk_upload_empty_input"):R&&R.items&&function(){var e=[];R.items.forEach((function(t){e.push(t.value),t.error=(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:t.value})})),Q.error=e.length?(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:e.join(",")}):""}(),M?W.error=(0,g.d)("Can\u2019t not be empty!").t("assessment_lo_bulk_upload_empty_input"):Q.error=(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:Z.category}),z||Q&&Q.items&&function(){var e=[];Q.items.forEach((function(t){e.push(t.value),t.error=(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:t.value})})),Q.error=e.length?(0,g.t)("assessment_lo_bulk_upload_invalid_name",{value:e.join(",")}):""}();case 64:c.push({row_number:Z.row_number,keywords:null!==(f=null===Z||void 0===Z||null===(v=Z.keywords)||void 0===v?void 0:v.map((function(e){return{value:e}})))&&void 0!==f?f:[],author:Z.author,updated_at:Z.updated_at,shortcode:Z.shortcode?Z.shortcode.padStart(5,"0"):Z.shortcode,sets:null!==(b=null===Z||void 0===Z||null===(x=Z.sets)||void 0===x?void 0:x.map((function(e){return{value:e}})))&&void 0!==b?b:[],milestones:null!==(y=null===Z||void 0===Z||null===(j=Z.milestones)||void 0===j?void 0:j.map((function(e){return{value:e}})))&&void 0!==y?y:[],outcome_name:{value:Z.outcome_name,error:C},assumed:{value:S,error:A},score_threshold:{value:I,error:F},description:{value:Z.description,error:O},program:L,subject:R,category:W,subcategory:Q,age:U,grade:G});case 66:e.next=13;break;case 68:e.next=73;break;case 70:e.prev=70,e.t1=e.catch(11),u.e(e.t1);case 73:return e.prev=73,u.f(),e.finish(73);case 76:return H=c.map((function(e){var t,n,r,s,a,o,i,l,c,u,d,_,m,p,h=e.score_threshold&&e.score_threshold.value?Number(e.score_threshold.value.split("%")[0]):0;return{age:null===e||void 0===e||null===(t=e.age)||void 0===t||null===(n=t.items)||void 0===n?void 0:n.map((function(e){return e.id})),assumed:Boolean(null===e||void 0===e||null===(r=e.assumed)||void 0===r?void 0:r.value),category:[null===e||void 0===e||null===(s=e.category)||void 0===s?void 0:s.id],description:null===e||void 0===e||null===(a=e.description)||void 0===a?void 0:a.value,grade:null===e||void 0===e||null===(o=e.grade)||void 0===o||null===(i=o.items)||void 0===i?void 0:i.map((function(e){return e.id})),keywords:null===e||void 0===e||null===(l=e.keywords)||void 0===l?void 0:l.map((function(e){return e.value})),outcome_name:null===e||void 0===e||null===(c=e.outcome_name)||void 0===c?void 0:c.value,program:[null===e||void 0===e||null===(u=e.program)||void 0===u?void 0:u.id],row_number:e.row_number,score_threshold:h/100,sets:e.sets?e.sets.map((function(e){return e.value})):[],shortcode:e.shortcode,subcategory:null===e||void 0===e||null===(d=e.subcategory)||void 0===d||null===(_=d.items)||void 0===_?void 0:_.map((function(e){return e.id})),subject:null===e||void 0===e||null===(m=e.subject)||void 0===m||null===(p=m.items)||void 0===p?void 0:p.map((function(e){return e.id}))}})),e.next=79,h.ZP.learningOutcomes.verifyImportLearningOutcomes({data:H});case 79:return K=e.sent,Y=K.create_data?K.create_data.map((function(e){var t,n,r,s,a,i,l=c.find((function(t){return e.row_number===t.row_number}));return(0,o.Z)((0,o.Z)({},l),{},{shortcode:{value:null===(t=e.shortcode)||void 0===t?void 0:t.value,error:null!==(n=null===(r=e.shortcode)||void 0===r||null===(s=r.errors)||void 0===s?void 0:s.map((function(t){var n,r=t;return(0,g.t)(r,{value:null===(n=e.shortcode)||void 0===n?void 0:n.value})})))&&void 0!==n?n:[]},sets:null!==(a=null===(i=e.sets)||void 0===i?void 0:i.map((function(e,t){var n,r=e.error?e.error:void 0,s=l&&l.sets&&l.sets[t]?null===(n=l.sets[t])||void 0===n?void 0:n.value:"";return{id:e.value,value:s,error:r?(0,g.t)(r,{value:s}):""}})))&&void 0!==a?a:[]})})):[],X=K.update_data?K.update_data.map((function(e){var t,n,r,s,a,i=c.find((function(t){return e.row_number===t.row_number}));return(0,o.Z)((0,o.Z)({},i),{},{shortcode:{value:null===(t=e.shortcode)||void 0===t?void 0:t.value,error:null!==(n=null===(r=e.shortcode)||void 0===r||null===(s=r.errors)||void 0===s?void 0:s.map((function(t){var n,r=t;return(0,g.t)(r,{value:null===(n=e.shortcode)||void 0===n?void 0:n.value})})))&&void 0!==n?n:[]},sets:null===(a=e.sets)||void 0===a?void 0:a.map((function(e,t){var n,r=e.error?e.error:void 0,s=i&&i.sets&&i.sets[t]?null===(n=i.sets[t])||void 0===n?void 0:n.value:"";return{id:e.value,value:s,error:r?(0,g.t)(r,{value:s}):""}}))})})):[],e.abrupt("return",{create:Y,update:X});case 83:case"end":return e.stop()}}),e,null,[[11,70,73,76]])})));return function(t){return e.apply(this,arguments)}}()),ne=(0,b.hg)("outcome/importOutcome",function(){var e=(0,c.Z)(_().mark((function e(t,n){var r,s,a,i,l,c,u,d,m,p,f,v,b,x;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.metaLoading,r=n.getState,s=n.dispatch,a=r(),i=a.outcome,l=i.createLoList,c=i.updateLoList,u=l.map((function(e){var t,n,r,s,a,o,i,l,c,u,d=e.score_threshold&&e.score_threshold.value?Number(e.score_threshold.value.split("%")[0]):0;return{age:null===e||void 0===e||null===(t=e.age)||void 0===t||null===(n=t.items)||void 0===n?void 0:n.map((function(e){return e.id})),assumed:Boolean(e.assumed.value),category:[null===e||void 0===e||null===(r=e.category)||void 0===r?void 0:r.id],description:e.description.value,grade:null===e||void 0===e||null===(s=e.grade)||void 0===s||null===(a=s.items)||void 0===a?void 0:a.map((function(e){return e.id})),keywords:e.keywords.map((function(e){return e.value})),outcome_name:e.outcome_name.value,program:[null===e||void 0===e||null===(o=e.program)||void 0===o?void 0:o.id],row_number:e.row_number,score_threshold:d/100,sets:e.sets.map((function(e){return e.id})),shortcode:e.shortcode.value,subcategory:null===e||void 0===e||null===(i=e.subcategory)||void 0===i||null===(l=i.items)||void 0===l?void 0:l.map((function(e){return e.id})),subject:null===e||void 0===e||null===(c=e.subject)||void 0===c||null===(u=c.items)||void 0===u?void 0:u.map((function(e){return e.id}))}})),d=c.map((function(e){var t,n,r,s,a,o,i,l,c,u,d=e.score_threshold&&e.score_threshold.value?Number(e.score_threshold.value.split("%")[0]):0;return{age:null===e||void 0===e||null===(t=e.age)||void 0===t||null===(n=t.items)||void 0===n?void 0:n.map((function(e){return e.id})),assumed:Boolean(e.assumed.value),category:[null===e||void 0===e||null===(r=e.category)||void 0===r?void 0:r.id],description:e.description.value,grade:null===e||void 0===e||null===(s=e.grade)||void 0===s||null===(a=s.items)||void 0===a?void 0:a.map((function(e){return e.id})),keywords:e.keywords.map((function(e){return e.value})),outcome_name:e.outcome_name.value,program:[null===e||void 0===e||null===(o=e.program)||void 0===o?void 0:o.id],row_number:e.row_number,score_threshold:d/100,sets:e.sets.map((function(e){return e.id})),shortcode:e.shortcode.value,subcategory:null===e||void 0===e||null===(i=e.subcategory)||void 0===i||null===(l=i.items)||void 0===l?void 0:l.map((function(e){return e.id})),subject:null===e||void 0===e||null===(c=e.subject)||void 0===c||null===(u=c.items)||void 0===u?void 0:u.map((function(e){return e.id}))}})),e.next=7,h.ZP.learningOutcomes.importLearningOutcomes({create_data:u,update_data:d});case 7:return m=e.sent,p=l,f=l,m.exist_error?(v=m.create_data,b=m.update_data,p=l.map((function(e){var t,n,r,s=null===v||void 0===v?void 0:v.find((function(t){return t.row_number===e.row_number}));return(0,o.Z)((0,o.Z)({},e),{},{shortcode:{value:null===s||void 0===s||null===(t=s.shortcode)||void 0===t?void 0:t.value,error:null===s||void 0===s||null===(n=s.shortcode)||void 0===n||null===(r=n.errors)||void 0===r?void 0:r.map((function(t){var n,r=t;return(0,g.t)(r,{value:null===(n=e.shortcode)||void 0===n?void 0:n.value})}))}})})),f=c.map((function(e){var t,n,r,s=null===b||void 0===b?void 0:b.find((function(t){return t.row_number===e.row_number}));return(0,o.Z)((0,o.Z)({},e),{},{shortcode:{value:null===s||void 0===s||null===(t=s.shortcode)||void 0===t?void 0:t.value,error:null===s||void 0===s||null===(n=s.shortcode)||void 0===n||null===(r=n.errors)||void 0===r?void 0:r.map((function(t){var n,r=t;return(0,g.t)(r,{value:null===(n=e.shortcode)||void 0===n?void 0:n.value})}))}})}))):(x=u.length+d.length,s((0,j.HY)((0,g.t)("assessment_lo_bulk_upload_validation_success",{number:x})))),e.abrupt("return",{exist_error:m.exist_error,create:p,update:f});case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),re=(0,b.oM)({name:"outcome",initialState:S,reducers:{resetShortCode:function(e,t){var n=t.payload;e.shortCode=n},setSelectedIds:function(e,t){var n=t.payload;e.selectedIdsMap=n},resetSelectedIds:function(e,t){var n=t.payload;e.selectedIdsMap=n},resetUploadData:function(e,t){t.payload;e.createLoList=[],e.updateLoList=[]}},extraReducers:(r={},(0,u.Z)(r,B.fulfilled.type,(function(e,t){var n=t.payload;e.permission.assess_msg_no_permission=void 0,e.outcomeList=n.list,e.total=n.total,e.user_id=n.user_id})),(0,u.Z)(r,B.rejected.type,(function(e,t){t.error;e.permission.assess_msg_no_permission=!1})),(0,u.Z)(r,I.fulfilled.type,(function(e,t){var n=t.payload;e.permission.assess_msg_no_permission=void 0,e.outcomeList=n.list,e.total=n.total,e.user_id=n.user_id})),(0,u.Z)(r,I.rejected.type,(function(e,t){t.error;e.permission.assess_msg_no_permission=!1})),(0,u.Z)(r,P.fulfilled.type,(function(e,t){var n=t.payload;e.permission.assess_msg_no_permission=void 0,e.outcomeList=n.list,e.total=n.total,e.user_id=n.user_id})),(0,u.Z)(r,P.rejected.type,(function(e,t){t.error;e.permission.assess_msg_no_permission=!1})),(0,u.Z)(r,T.fulfilled.type,(function(e,t){t.payload})),(0,u.Z)(r,T.rejected.type,(function(e,t){throw t.error})),(0,u.Z)(r,L.fulfilled.type,(function(e,t){t.payload})),(0,u.Z)(r,L.rejected.type,(function(e,t){t.error})),(0,u.Z)(r,D.fulfilled.type,(function(e,t){t.payload})),(0,u.Z)(r,D.rejected.type,(function(e,t){throw t.error})),(0,u.Z)(r,R.fulfilled.type,(function(e,t){t.payload})),(0,u.Z)(r,R.rejected.type,(function(e,t){throw t.error})),(0,u.Z)(r,M.fulfilled.type,(function(e,t){var n=t.payload;e.lockOutcome_id=n.outcome_id})),(0,u.Z)(r,M.rejected.type,(function(e,t){throw t.error})),(0,u.Z)(r,W.fulfilled.type,(function(e,t){var n=t.payload;e.outcomeDetail=n})),(0,u.Z)(r,W.rejected.type,(function(e,t){throw t.error})),(0,u.Z)(r,Q.fulfilled.type,(function(e,t){var n=t.payload;e.outcomeDetail=n})),(0,u.Z)(r,Q.pending.type,(function(e,t){t.payload;e.outcomeDetail=S.outcomeDetail})),(0,u.Z)(r,Q.rejected.type,(function(e,t){throw t.error})),(0,u.Z)(r,U.fulfilled.type,(function(e,t){t.payload})),(0,u.Z)(r,U.rejected.type,(function(e,t){throw t.error})),(0,u.Z)(r,z.fulfilled.type,(function(e,t){t.payload})),(0,u.Z)(r,z.rejected.type,(function(e){e.error})),(0,u.Z)(r,V.fulfilled.type,(function(e,t){var n=t.payload;e.mockOptions=n})),(0,u.Z)(r,V.rejected.type,(function(e,t){t.error})),(0,u.Z)(r,A.fulfilled.type,(function(e,t){var n=t.payload;e.newOptions=n})),(0,u.Z)(r,N.fulfilled.type,(function(e,t){var n=t.payload;e.newOptions.skills=n})),(0,u.Z)(r,E.fulfilled.type,(function(e,t){var n=t.payload;e.permission.assess_msg_no_permission=void 0,e.user_id=n.user_id,n.pendingRes&&(e.outcomeList=n.pendingRes.list,e.total=n.pendingRes.total),n.privateRes&&(e.outcomeList=n.privateRes.list,e.total=n.privateRes.total),n.outcomeRes&&(e.outcomeList=n.outcomeRes.list,e.total=n.outcomeRes.total)})),(0,u.Z)(r,E.pending.type,(function(e,t){t.payload;e.outcomeList=S.outcomeList,e.total=S.total})),(0,u.Z)(r,E.rejected.type,(function(e,t){t.error;e.permission.assess_msg_no_permission=!1})),(0,u.Z)(r,G.rejected.type,(function(e,t){throw t.error})),(0,u.Z)(r,H.rejected.type,(function(e,t){throw t.error})),(0,u.Z)(r,K.rejected.type,(function(e,t){throw t.error})),(0,u.Z)(r,Y.fulfilled.type,(function(e,t){var n=t.payload;e.outcomeSetList=n.sets,e.defaultSelectOutcomeset=""})),(0,u.Z)(r,X.fulfilled.type,(function(e,t){var n=t.payload;e.outcomeSetList=n.sets,e.defaultSelectOutcomeset=n&&n.sets&&n.sets[0].set_id?n.sets[0].set_id:""})),(0,u.Z)(r,$.fulfilled.type,(function(e,t){var n=t.payload;e.shortCode=n.shortcode||"",e.outcomeDetail.shortcode=n.shortcode})),(0,u.Z)(r,O.fulfilled.type,(function(e,t){var n=t.payload;e.downloadOutcomes=n})),(0,u.Z)(r,ee.fulfilled.type,(function(e,t){t.payload.forEach((function(t){e.subjectArray.push(t)}))})),(0,u.Z)(r,te.fulfilled.type,(function(e,t){var n=t.payload;e.createLoList=n.create,e.updateLoList=n.update})),(0,u.Z)(r,ne.fulfilled.type,(function(e,t){var n=t.payload;e.createLoList=n.create,e.updateLoList=n.update})),r)}),se=re.actions,ae=re.reducer,oe=se.resetShortCode,ie=se.setSelectedIds,le=se.resetSelectedIds,ce=se.resetUploadData;t.ZP=ae},51174:function(){},99405:function(e,t,n){var r={"./en.json":[51607,607],"./es.json":[49444,444],"./id.json":[78669,669],"./ko.json":[91205,205],"./th.json":[64939,939],"./vi.json":[20220,220],"./zh.json":[73382,382],"./zh_CN.json":[24341,341]};function s(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],s=t[0];return n.e(t[1]).then((function(){return n.t(s,19)}))}s.keys=function(){return Object.keys(r)},s.id=99405,e.exports=s},80950:function(){},46601:function(){},89214:function(){},8623:function(){},7748:function(){},85568:function(){},25832:function(){},56619:function(){},77108:function(){},52361:function(){},94616:function(){}}]);
//# sourceMappingURL=739.94310328.chunk.js.map