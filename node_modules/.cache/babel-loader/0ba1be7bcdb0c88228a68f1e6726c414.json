{"ast":null,"code":"import _toConsumableArray from\"/Users/evik/kl/project-2024/klasmart-assessment-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/evik/kl/project-2024/klasmart-assessment-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Box,Button,Checkbox,Dialog,DialogActions,DialogContent,DialogTitle,FormControlLabel,IconButton,InputAdornment,makeStyles,TextField,Typography}from\"@material-ui/core\";import{Close}from\"@material-ui/icons\";import BorderColorOutlinedIcon from\"@material-ui/icons/BorderColorOutlined\";import MessageOutlinedIcon from\"@material-ui/icons/MessageOutlined\";import{actWarning}from\"@reducers/notify\";import clsx from\"clsx\";import{cloneDeep}from\"lodash\";import React,{useCallback,useMemo,useState}from\"react\";import{Controller,useForm}from\"react-hook-form\";import{useDispatch}from\"react-redux\";import{AssessmentStatus}from\"../../api/type\";import{d}from\"../../locale/LocaleManager\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(_ref){var palette=_ref.palette,spacing=_ref.spacing;return{editBox:{width:\"100%\",marginTop:30,position:\"relative\"},materialEditBox:{\"& .assessment-MuiOutlinedInput-multiline\":{padding:\"18.5px 14px 40px 14px\"}},fieldset:{\"& .assessment-MuiInputBase-input\":{color:\"rgba(0,0,0,1)\"},\"&:not(:first-child)\":{marginTop:30}},blockEle:{\"& .assessment-MuiInputBase-root\":{display:\"block\",minHeight:120}},materialTitle:{color:\"#000\",fontSize:18,fontWeight:700},materialNameCon:{color:\"#000\",fontSize:18,margin:\"16px 0\",wordBreak:\"break-all\"},editButton:{position:\"absolute\",bottom:10,right:14,background:\"rgba(14,120,213,0.24)\",\"&:hover\":{background:\"rgba(14,120,213,0.24)\"}},title:{\"& .assessment-MuiTypography-root\":{fontSize:\"24px !important\",fontWeight:700}},closeBtn:{color:\"#000\",position:\"absolute\",top:spacing(1),right:spacing(1)},okBtn:{marginLeft:\"40px !important\"},subTitle:{fontSize:18,color:\"#666\",marginBottom:10},checkBoxCon:{\"& .assessment-MuiFormControlLabel-label\":{fontSize:18},\"& .assessment-MuiTypography-root\":{wordBreak:\"break-all\"}},commentCon:{marginLeft:10,width:\"100%\",\"& .assessment-MuiInputBase-root\":{height:\"100%\"},\"& .assessment-MuiOutlinedInput-notchedOutline\":{border:\"none\"}},mCoverIcon:{fontSize:16,color:\"#999999\"}};});export function MaterialEdit(props){var css=useStyles();var _useContentEdit=useContentEdit(),contentEditActive=_useContentEdit.contentEditActive,openCotnentEdit=_useContentEdit.openCotnentEdit,closeCotentEdit=_useContentEdit.closeCotentEdit,contentEditIndex=_useContentEdit.contentEditIndex;var assessmentDetail=props.assessmentDetail,contents=props.contents,editable=props.editable,hasEditPerm=props.hasEditPerm,onChangeContents=props.onChangeContents;// 过滤掉子material和lessonplan\nvar materialArr=useMemo(function(){return contents===null||contents===void 0?void 0:contents.filter(function(item){return item.content_type===\"LessonMaterial\"&&item.parent_id===\"\";});},[contents]);var materialNameArr=useMemo(function(){return materialArr===null||materialArr===void 0?void 0:materialArr.filter(function(item){return item.status===\"Covered\";}).map(function(item){return item.content_name;});},[materialArr]);var handleChangeContent=function handleChangeContent(contents){onChangeContents(contents);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Box,{className:clsx(css.editBox,css.materialEditBox),children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,disabled:true,multiline:true,className:clsx(css.fieldset,css.blockEle),InputProps:{readOnly:true,startAdornment:/*#__PURE__*/_jsx(_Fragment,{children:materialNameArr&&materialNameArr.length?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:css.materialTitle,children:[d(\"Lesson Materials Covered\").t(\"assess_detail_lesson_materials_covered\"),\"(\",\"\".concat(materialNameArr.length,\"/\").concat(materialArr===null||materialArr===void 0?void 0:materialArr.length),\")\"]}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:180,minHeight:90,overflow:\"auto\"},children:materialNameArr.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{className:css.materialNameCon,children:item},index);})})]}):d(\"N/A\").t(\"assess_column_n_a\")})}}),hasEditPerm&&/*#__PURE__*/_jsx(Button,{className:css.editButton,color:\"primary\",variant:\"outlined\",onClick:openCotnentEdit,children:!editable?d(\"View\").t(\"assess_detail_button_view\"):d(\"Edit\").t(\"assess_button_edit\")}),/*#__PURE__*/_jsx(ContentInput,{open:contentEditActive,onClose:closeCotentEdit,editable:editable,assessmentDetail:assessmentDetail,contents:contents,onChangeContent:handleChangeContent},contentEditIndex)]})});}export function ContentInput(props){var _materialArr$length;var css=useStyles();var dispatch=useDispatch();var formMethods=useForm();var control=formMethods.control,getValues=formMethods.getValues;var open=props.open,editable=props.editable,contents=props.contents,assessmentDetail=props.assessmentDetail,onClose=props.onClose,onChangeContent=props.onChangeContent;var _useState=useState(contents),_useState2=_slicedToArray(_useState,2),contentArr=_useState2[0],setContentArr=_useState2[1];// 过滤掉子material和lessonplan\nvar materialArr=useMemo(function(){return contentArr===null||contentArr===void 0?void 0:contentArr.filter(function(item){return item.content_type===\"LessonMaterial\"&&item.parent_id===\"\";});},[contentArr]);var materialNameArr=useMemo(function(){return materialArr===null||materialArr===void 0?void 0:materialArr.filter(function(item){return item.status===\"Covered\";}).map(function(item){return item.content_name;});},[materialArr]);var handleChange=function handleChange(e,id){var _cloneDeep;var checked=e.target.checked;var _contents=(_cloneDeep=cloneDeep(contentArr))!==null&&_cloneDeep!==void 0?_cloneDeep:[];_contents===null||_contents===void 0?void 0:_contents.forEach(function(item){if(item.content_id===id||item.parent_id===id){item.status=checked?\"Covered\":\"NotCovered\";}});setContentArr(_toConsumableArray(_contents));};var handleOk=useCallback(function(){var length=contentArr===null||contentArr===void 0?void 0:contentArr.filter(function(item){return item.content_type===\"LessonMaterial\"&&item.parent_id===\"\"&&item.status===\"Covered\";}).length;if(length){var _cloneDeep2;var _contents=(_cloneDeep2=cloneDeep(contentArr))!==null&&_cloneDeep2!==void 0?_cloneDeep2:[];var commentArr=getValues()[\"comment\"];_contents===null||_contents===void 0?void 0:_contents.forEach(function(item){if(item.content_type===\"LessonMaterial\"&&commentArr[item.content_id]){item.reviewer_comment=commentArr[item.content_id];}});setContentArr(_toConsumableArray(_contents));onChangeContent(_toConsumableArray(_contents));onClose();}else{return Promise.reject(dispatch(actWarning(d(\"At least one lesson material needs to be selected as covered.\").t(\"assess_msg_one_exposed\"))));}},[contentArr,dispatch,getValues,onChangeContent,onClose]);return/*#__PURE__*/_jsxs(Dialog,{maxWidth:\"sm\",fullWidth:true,open:open,onClose:onClose,children:[/*#__PURE__*/_jsxs(DialogTitle,{className:css.title,children:[assessmentDetail.status===AssessmentStatus.complete?d(\"View Lesson Materials Covered\").t(\"assess_detail_view_covered\"):d(\"Edit Lesson Materials Covered\").t(\"assess_detail_edit_covered\"),!editable&&/*#__PURE__*/_jsx(IconButton,{onClick:onClose,className:css.closeBtn,children:/*#__PURE__*/_jsx(Close,{})})]}),/*#__PURE__*/_jsx(DialogContent,{dividers:true,style:{borderBottom:\"none\"},children:/*#__PURE__*/_jsxs(Box,{style:{height:390},children:[/*#__PURE__*/_jsxs(Typography,{className:css.subTitle,children:[d(\"Lesson Materials Covered\").t(\"assess_detail_lesson_materials_covered\"),\":\",\" \",\"\".concat(materialNameArr===null||materialNameArr===void 0?void 0:materialNameArr.length,\"/\").concat((_materialArr$length=materialArr===null||materialArr===void 0?void 0:materialArr.length)!==null&&_materialArr$length!==void 0?_materialArr$length:0)]}),contentArr===null||contentArr===void 0?void 0:contentArr.map(function(item,index){return item.content_type===\"LessonMaterial\"&&item.parent_id===\"\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(FormControlLabel,{className:css.checkBoxCon,control:/*#__PURE__*/_jsx(Checkbox,{checked:item.status===\"Covered\",disabled:!editable,onChange:function onChange(e){return handleChange(e,item.content_id);},color:\"primary\"}),label:item.content_name}),/*#__PURE__*/_jsx(Controller,{as:TextField,name:\"comment[\".concat(item.content_id,\"]\"),control:control,multiline:true,className:css.commentCon,placeholder:d(\"Comment here\").t(\"assess_detail_comment_here\"),disabled:!editable,inputProps:{maxLength:100},defaultValue:item.reviewer_comment,InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:!editable?/*#__PURE__*/_jsx(MessageOutlinedIcon,{className:css.mCoverIcon}):/*#__PURE__*/_jsx(BorderColorOutlinedIcon,{className:css.mCoverIcon})})}})]},item.content_id);})]})}),editable&&/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{autoFocus:true,onClick:onClose,color:\"primary\",variant:\"outlined\",children:d(\"CANCEL\").t(\"general_button_CANCEL\")}),/*#__PURE__*/_jsx(Button,{onClick:handleOk,color:\"primary\",variant:\"contained\",className:css.okBtn,children:d(\"OK\").t(\"general_button_OK\")})]})]});}export function useContentEdit(){var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),active=_useState4[0],setActive=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),contentEditIndex=_useState6[0],setContentEditIndex=_useState6[1];return useMemo(function(){return{contentEditIndex:contentEditIndex,contentEditActive:active,openCotnentEdit:function openCotnentEdit(){setContentEditIndex(contentEditIndex+1);setActive(true);},closeCotentEdit:function closeCotentEdit(){return setActive(false);}};},[active,contentEditIndex]);}","map":{"version":3,"names":["Box","Button","Checkbox","Dialog","DialogActions","DialogContent","DialogTitle","FormControlLabel","IconButton","InputAdornment","makeStyles","TextField","Typography","Close","BorderColorOutlinedIcon","MessageOutlinedIcon","actWarning","clsx","cloneDeep","React","useCallback","useMemo","useState","Controller","useForm","useDispatch","AssessmentStatus","d","useStyles","palette","spacing","editBox","width","marginTop","position","materialEditBox","padding","fieldset","color","blockEle","display","minHeight","materialTitle","fontSize","fontWeight","materialNameCon","margin","wordBreak","editButton","bottom","right","background","title","closeBtn","top","okBtn","marginLeft","subTitle","marginBottom","checkBoxCon","commentCon","height","border","mCoverIcon","MaterialEdit","props","css","useContentEdit","contentEditActive","openCotnentEdit","closeCotentEdit","contentEditIndex","assessmentDetail","contents","editable","hasEditPerm","onChangeContents","materialArr","filter","item","content_type","parent_id","materialNameArr","status","map","content_name","handleChangeContent","readOnly","startAdornment","length","t","maxHeight","overflow","index","ContentInput","dispatch","formMethods","control","getValues","open","onClose","onChangeContent","contentArr","setContentArr","handleChange","e","id","checked","target","_contents","forEach","content_id","handleOk","commentArr","reviewer_comment","Promise","reject","complete","borderBottom","maxLength","active","setActive","setContentEditIndex"],"sources":["/Users/evik/kl/project-2024/klasmart-assessment-frontend/src/pages/DetailAssessment/MaterialEdit.tsx"],"sourcesContent":["import {\n  Box,\n  Button,\n  Checkbox,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  FormControlLabel,\n  IconButton,\n  InputAdornment,\n  makeStyles,\n  TextField,\n  Typography\n} from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\nimport BorderColorOutlinedIcon from \"@material-ui/icons/BorderColorOutlined\";\nimport MessageOutlinedIcon from \"@material-ui/icons/MessageOutlined\";\nimport { actWarning } from \"@reducers/notify\";\nimport clsx from \"clsx\";\nimport { cloneDeep } from \"lodash\";\nimport React, { ChangeEvent, useCallback, useMemo, useState } from \"react\";\nimport { Controller, useForm, UseFormMethods } from \"react-hook-form\";\nimport { useDispatch } from \"react-redux\";\nimport { AssessmentStatus } from \"../../api/type\";\nimport { d } from \"../../locale/LocaleManager\";\nimport { DetailAssessmentResult } from \"../ListAssessment/types\";\nimport { UpdateAssessmentDataOmitAction } from \"./type\";\nconst useStyles = makeStyles(({ palette, spacing }) => ({\n  editBox: {\n    width: \"100%\",\n    marginTop: 30,\n    position: \"relative\",\n  },\n  materialEditBox: {\n    \"& .assessment-MuiOutlinedInput-multiline\": {\n      padding: \"18.5px 14px 40px 14px\",\n    },\n  },\n  fieldset: {\n    \"& .assessment-MuiInputBase-input\": {\n      color: \"rgba(0,0,0,1)\",\n    },\n    \"&:not(:first-child)\": {\n      marginTop: 30,\n    },\n  },\n  blockEle: {\n    \"& .assessment-MuiInputBase-root\": {\n      display: \"block\",\n      minHeight: 120,\n    },\n  },\n  materialTitle: {\n    color: \"#000\",\n    fontSize: 18,\n    fontWeight: 700,\n  },\n  materialNameCon: {\n    color: \"#000\",\n    fontSize: 18,\n    margin: \"16px 0\",\n    wordBreak: \"break-all\",\n  },\n  editButton: {\n    position: \"absolute\",\n    bottom: 10,\n    right: 14,\n    background: \"rgba(14,120,213,0.24)\",\n    \"&:hover\": {\n      background: \"rgba(14,120,213,0.24)\",\n    },\n  },\n  title: {\n    \"& .assessment-MuiTypography-root\": {\n      fontSize: \"24px !important\",\n      fontWeight: 700,\n    },\n  },\n  closeBtn: {\n    color: \"#000\",\n    position: \"absolute\",\n    top: spacing(1),\n    right: spacing(1),\n  },\n  okBtn: {\n    marginLeft: \"40px !important\",\n  },\n  subTitle: {\n    fontSize: 18,\n    color: \"#666\",\n    marginBottom: 10,\n  },\n  checkBoxCon: {\n    \"& .assessment-MuiFormControlLabel-label\": {\n      fontSize: 18,\n    },\n    \"& .assessment-MuiTypography-root\": {\n      wordBreak: \"break-all\",\n    },\n  },\n  commentCon: {\n    marginLeft: 10,\n    width: \"100%\",\n    \"& .assessment-MuiInputBase-root\": {\n      height: \"100%\",\n    },\n    \"& .assessment-MuiOutlinedInput-notchedOutline\": {\n      border: \"none\",\n    },\n  },\n  mCoverIcon: {\n    fontSize: 16,\n    color: \"#999999\",\n  },\n}));\n\ninterface MaterialEditProps {\n  assessmentDetail: DetailAssessmentResult;\n  editable: boolean;\n  hasEditPerm: boolean;\n  contents: DetailAssessmentResult[\"contents\"];\n  formMethods: UseFormMethods<UpdateAssessmentDataOmitAction>;\n  onChangeContents: (contents: DetailAssessmentResult[\"contents\"]) => void;\n}\nexport function MaterialEdit(props: MaterialEditProps) {\n  const css = useStyles();\n  const { contentEditActive, openCotnentEdit, closeCotentEdit, contentEditIndex } = useContentEdit();\n  const { assessmentDetail, contents, editable, hasEditPerm, onChangeContents } = props;\n  // 过滤掉子material和lessonplan\n  const materialArr = useMemo(() => {\n    return contents?.filter((item) => item.content_type === \"LessonMaterial\" && item.parent_id === \"\");\n  }, [contents]);\n  const materialNameArr = useMemo(() => {\n    return materialArr?.filter((item) => item.status === \"Covered\").map((item) => item.content_name);\n  }, [materialArr]);\n  const handleChangeContent = (contents: DetailAssessmentResult[\"contents\"]) => {\n    onChangeContents(contents);\n  };\n  return (\n    <>\n      <Box className={clsx(css.editBox, css.materialEditBox)}>\n        <TextField\n          fullWidth\n          disabled\n          multiline={true}\n          className={clsx(css.fieldset, css.blockEle)}\n          InputProps={{\n            readOnly: true,\n            startAdornment: (\n              <>\n                {materialNameArr && materialNameArr.length ? (\n                  <>\n                    <div className={css.materialTitle}>\n                      {d(\"Lesson Materials Covered\").t(\"assess_detail_lesson_materials_covered\")}(\n                      {`${materialNameArr.length}/${materialArr?.length}`})\n                    </div>\n                    <div style={{ maxHeight: 180, minHeight: 90, overflow: \"auto\" }}>\n                      {materialNameArr.map((item, index) => (\n                        <div className={css.materialNameCon} key={index}>\n                          {item}\n                        </div>\n                      ))}\n                    </div>\n                  </>\n                ) : (\n                  d(\"N/A\").t(\"assess_column_n_a\")\n                )}\n              </>\n            ),\n          }}\n        />\n        {hasEditPerm && \n          <Button className={css.editButton} color=\"primary\" variant=\"outlined\" onClick={openCotnentEdit}>\n            {!editable ? d(\"View\").t(\"assess_detail_button_view\") : d(\"Edit\").t(\"assess_button_edit\")}\n          </Button>\n        }\n        <ContentInput\n          open={contentEditActive}\n          onClose={closeCotentEdit}\n          editable={editable}\n          assessmentDetail={assessmentDetail}\n          contents={contents}\n          onChangeContent={handleChangeContent}\n          key={contentEditIndex}\n        />\n      </Box>\n    </>\n  );\n}\n\nexport interface ContentInputProps {\n  open: boolean;\n  onClose: () => void;\n  editable: boolean;\n  assessmentDetail: DetailAssessmentResult;\n  contents: DetailAssessmentResult[\"contents\"];\n  onChangeContent: (contents: DetailAssessmentResult[\"contents\"]) => void;\n}\nexport function ContentInput(props: ContentInputProps) {\n  const css = useStyles();\n  const dispatch = useDispatch();\n  const formMethods = useForm();\n  const { control, getValues } = formMethods;\n  const { open, editable, contents, assessmentDetail, onClose, onChangeContent } = props;\n\n  const [contentArr, setContentArr] = useState(contents);\n  // 过滤掉子material和lessonplan\n  const materialArr = useMemo(() => {\n    return contentArr?.filter((item) => item.content_type === \"LessonMaterial\" && item.parent_id === \"\");\n  }, [contentArr]);\n  const materialNameArr = useMemo(() => {\n    return materialArr?.filter((item) => item.status === \"Covered\").map((item) => item.content_name);\n  }, [materialArr]);\n  const handleChange = (e: ChangeEvent<HTMLInputElement>, id?: string) => {\n    const checked = e.target.checked;\n    const _contents = cloneDeep(contentArr) ?? [];\n    _contents?.forEach((item) => {\n      if (item.content_id === id || item.parent_id === id) {\n        item.status = checked ? \"Covered\" : \"NotCovered\";\n      }\n    });\n    setContentArr([..._contents]);\n  };\n  const handleOk = useCallback(() => {\n    const length = contentArr?.filter(\n      (item) => item.content_type === \"LessonMaterial\" && item.parent_id === \"\" && item.status === \"Covered\"\n    ).length;\n    if (length) {\n      const _contents = cloneDeep(contentArr) ?? [];\n      const commentArr = getValues()[\"comment\"];\n      _contents?.forEach((item) => {\n        if (item.content_type === \"LessonMaterial\" && commentArr[item.content_id!]) {\n          item.reviewer_comment = commentArr[item.content_id!];\n        }\n      });\n      setContentArr([..._contents]);\n      onChangeContent([..._contents]);\n      onClose();\n    } else {\n      return Promise.reject(\n        dispatch(actWarning(d(\"At least one lesson material needs to be selected as covered.\").t(\"assess_msg_one_exposed\")))\n      );\n    }\n  }, [contentArr, dispatch, getValues, onChangeContent, onClose]);\n  return (\n    <Dialog maxWidth={\"sm\"} fullWidth={true} open={open} onClose={onClose}>\n      <DialogTitle className={css.title}>\n        {assessmentDetail.status === AssessmentStatus.complete\n          ? d(\"View Lesson Materials Covered\").t(\"assess_detail_view_covered\")\n          : d(\"Edit Lesson Materials Covered\").t(\"assess_detail_edit_covered\")}\n        {!editable && (\n          <IconButton onClick={onClose} className={css.closeBtn}>\n            <Close />\n          </IconButton>\n        )}\n      </DialogTitle>\n      <DialogContent dividers style={{ borderBottom: \"none\" }}>\n        <Box style={{ height: 390 }}>\n          <Typography className={css.subTitle}>\n            {d(\"Lesson Materials Covered\").t(\"assess_detail_lesson_materials_covered\")}:{\" \"}\n            {`${materialNameArr?.length}/${materialArr?.length ?? 0}`}\n          </Typography>\n          {contentArr?.map(\n            (item, index) =>\n              item.content_type === \"LessonMaterial\" &&\n              item.parent_id === \"\" && (\n                <div key={item.content_id}>\n                  <FormControlLabel\n                    className={css.checkBoxCon}\n                    control={\n                      <Checkbox\n                        checked={item.status === \"Covered\"}\n                        disabled={!editable}\n                        onChange={(e) => handleChange(e, item.content_id)}\n                        color=\"primary\"\n                      />\n                    }\n                    label={item.content_name}\n                  />\n                  <Controller\n                    as={TextField}\n                    name={`comment[${item.content_id}]`}\n                    control={control}\n                    multiline\n                    className={css.commentCon}\n                    placeholder={d(\"Comment here\").t(\"assess_detail_comment_here\")}\n                    disabled={!editable}\n                    inputProps={{ maxLength: 100 }}\n                    defaultValue={item.reviewer_comment}\n                    InputProps={{\n                      startAdornment: (\n                        <InputAdornment position=\"start\">\n                          {!editable ? (\n                            <MessageOutlinedIcon className={css.mCoverIcon} />\n                          ) : (\n                            <BorderColorOutlinedIcon className={css.mCoverIcon} />\n                          )}\n                        </InputAdornment>\n                      ),\n                    }}\n                  />\n                </div>\n              )\n          )}\n        </Box>\n      </DialogContent>\n      {editable && (\n        <DialogActions>\n          <Button autoFocus onClick={onClose} color=\"primary\" variant=\"outlined\">\n            {d(\"CANCEL\").t(\"general_button_CANCEL\")}\n          </Button>\n          <Button onClick={handleOk} color=\"primary\" variant=\"contained\" className={css.okBtn}>\n            {d(\"OK\").t(\"general_button_OK\")}\n          </Button>\n        </DialogActions>\n      )}\n    </Dialog>\n  );\n}\n\nexport function useContentEdit() {\n  const [active, setActive] = useState(false);\n  const [contentEditIndex, setContentEditIndex] = useState(0);\n  return useMemo(\n    () => ({\n      contentEditIndex,\n      contentEditActive: active,\n      openCotnentEdit: () => {\n        setContentEditIndex(contentEditIndex + 1);\n        setActive(true);\n      },\n      closeCotentEdit: () => setActive(false),\n    }),\n    [active, contentEditIndex]\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}