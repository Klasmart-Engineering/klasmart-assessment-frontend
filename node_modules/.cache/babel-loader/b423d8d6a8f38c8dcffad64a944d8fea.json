{"ast":null,"code":"import{makeStyles}from\"@material-ui/core\";import TextField from\"@material-ui/core/TextField\";import React from\"react\";import{useDispatch}from\"react-redux\";import{d}from\"../../locale/LocaleManager\";import{actWarning}from\"../../reducers/notify\";import{FileTypes}from\"./type\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles({scoreEditBox:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}});export function EditScore(props){var fileType=props.fileType,score=props.score,onChangeScore=props.onChangeScore,editable=props.editable,maxScore=props.maxScore,attempted=props.attempted,studentId=props.studentId,contentId=props.contentId,subType=props.subType;// const [scoreNum, setScoreNum] = React.useState<number | string | undefined>(score);\nvar dispatch=useDispatch();var classes=useStyles();var handleChange=function handleChange(event){var val=event.target.value.replace(/^(.*\\..{1}).*$/,\"$1\");var value=val;if(value>maxScore){dispatch(actWarning(d(\"The score you entered cannot exceed the maximum score.\").t(\"assess_msg_exceed_maximum\")));}else if(Number(value)+\"\"!==NaN+\"\"){onChangeScore(value,studentId,contentId);}};var subjectiveActivity=function subjectiveActivity(type){return[\"Essay\",\"AudioRecorder\",\"SpeakTheWordsSet\",\"SpeakTheWords\"].includes(type!==null&&type!==void 0?type:\"\");};var showNotApplicable=fileType===FileTypes.Unknown||fileType===FileTypes.NotChildContainer||fileType===FileTypes.NotSupportScoreStandAlone;return/*#__PURE__*/_jsx(\"div\",{className:classes.scoreEditBox,children:showNotApplicable?d(\"Not Applicable\").t(\"assessment_not_applicable\"):!attempted?d(\"Not Attempted\").t(\"assess_detail_not_attempted\"):fileType===FileTypes.HasChildContainer?d(\"Attempted\").t(\"assessment_activity_attempted\"):editable&&subjectiveActivity(subType)?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TextField,{style:{width:\"59px\",transform:\"scale(0.8)\"},value:score,size:\"small\",onChange:handleChange}),\"/\",maxScore]}):maxScore===0?d(\"Attempted\").t(\"assessment_activity_attempted\"):\"\".concat(score,\" / \").concat(maxScore)});}","map":{"version":3,"names":["makeStyles","TextField","React","useDispatch","d","actWarning","FileTypes","useStyles","scoreEditBox","display","justifyContent","alignItems","EditScore","props","fileType","score","onChangeScore","editable","maxScore","attempted","studentId","contentId","subType","dispatch","classes","handleChange","event","val","target","value","replace","t","Number","NaN","subjectiveActivity","type","includes","showNotApplicable","Unknown","NotChildContainer","NotSupportScoreStandAlone","HasChildContainer","width","transform"],"sources":["/Users/evik/kl/project-2024/klasmart-assessment-frontend/src/pages/DetailAssessment/EditScore.tsx"],"sourcesContent":["import { makeStyles } from \"@material-ui/core\";\nimport TextField from \"@material-ui/core/TextField\";\nimport React, { ChangeEvent } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { d } from \"../../locale/LocaleManager\";\nimport { AppDispatch } from \"../../reducers\";\nimport { actWarning } from \"../../reducers/notify\";\nimport { EditScoreProps, FileTypes } from \"./type\";\n\nconst useStyles = makeStyles({\n  scoreEditBox: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n});\n\nexport function EditScore(props: EditScoreProps) {\n  const {\n    fileType,\n    score,\n    onChangeScore,\n    editable,\n    maxScore,\n    attempted,\n    // isComplete,\n    studentId,\n    contentId,\n    subType,\n  } = props;\n  // const [scoreNum, setScoreNum] = React.useState<number | string | undefined>(score);\n  const dispatch = useDispatch<AppDispatch>();\n  const classes = useStyles();\n  const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const val = event.target.value.replace(/^(.*\\..{1}).*$/, \"$1\");\n    const value = val as unknown as number;\n    if (value! > maxScore!) {\n      dispatch(actWarning(d(\"The score you entered cannot exceed the maximum score.\").t(\"assess_msg_exceed_maximum\")));\n    } else if (Number(value) + \"\" !== NaN + \"\") {\n      onChangeScore(value, studentId, contentId);\n    }\n  };\n  const subjectiveActivity = (type?: string) => {\n    return [\"Essay\", \"AudioRecorder\", \"SpeakTheWordsSet\", \"SpeakTheWords\"].includes(type ?? \"\");\n  };\n  const showNotApplicable =\n    fileType === FileTypes.Unknown || fileType === FileTypes.NotChildContainer || fileType === FileTypes.NotSupportScoreStandAlone;\n  return (\n    <div className={classes.scoreEditBox}>\n      {showNotApplicable ? (\n        d(\"Not Applicable\").t(\"assessment_not_applicable\")\n      ) : !attempted ? (\n        d(\"Not Attempted\").t(\"assess_detail_not_attempted\")\n      ) : fileType === FileTypes.HasChildContainer ? (\n        d(\"Attempted\").t(\"assessment_activity_attempted\")\n      ) : editable && subjectiveActivity(subType) ? (\n        <>\n          <TextField style={{ width: \"59px\", transform: \"scale(0.8)\" }} value={score} size=\"small\" onChange={handleChange} />/{maxScore}\n        </>\n      ) : maxScore === 0 ? (\n        d(\"Attempted\").t(\"assessment_activity_attempted\")\n      ) : (\n        `${score} / ${maxScore}`\n      )}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}