{"ast":null,"code":"import _toConsumableArray from\"/Users/evik/kl/project-2024/klasmart-assessment-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/evik/kl/project-2024/klasmart-assessment-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{AssessmentTypeValues}from\"@components/AssessmentType\";import{Dimension}from\"@pages/DetailAssessment/MultiSelect\";import\"../api/type\";import{OutcomeStatus,StudentParticipate}from\"../pages/DetailAssessment/type\";// interface ObjContainId {\n//   id?: string;\n// }\n// function toHash<T extends ObjContainId>(arr: T[]): Record<string, T> {\n//   return arr.reduce<Record<string, T>>((result, item) => {\n//     if (!item.id) return result;\n//     result[item.id] = item;\n//     return result;\n//   }, {});\n// }\nexport var ModelAssessment={// setInitFormValue(contents: DetailAssessmentResult[\"contents\"], students: DetailAssessmentResult[\"students\"]) {\n//   const _contents = contents\n//     ?.filter((item) => item.content_type === \"LessonMaterial\" && !item.parent_id)\n//     .map((item) => {\n//       const { content_id, parent_id, reviewer_comment, status } = item;\n//       return {\n//         content_id,\n//         parent_id,\n//         reviewer_comment,\n//         status,\n//       };\n//     });\n//   return { contents: _contents };\n// },\ngetStudentViewItems:function getStudentViewItems(students,contents,outcomes,assessment_type){// const participateStudent = students?.filter((item) => item.status === StudentParticipate.Participate);\nvar isHomefun=assessment_type===AssessmentTypeValues.homeFun;var contentObj={};var outcomeObj={};contents// ?.filter((item) => item.status === \"Covered\")\n===null||contents// ?.filter((item) => item.status === \"Covered\")\n===void 0?void 0:contents// ?.filter((item) => item.status === \"Covered\")\n.forEach(function(item){if(!contentObj[item.content_id]){contentObj[item.content_id]=_objectSpread({},item);}});outcomes===null||outcomes===void 0?void 0:outcomes.forEach(function(item){if(!outcomeObj[item.outcome_id]){outcomeObj[item.outcome_id]=_objectSpread({},item);}});var studentViewItems=students===null||students===void 0?void 0:students.map(function(item){var student_id=item.student_id,student_name=item.student_name,reviewer_comment=item.reviewer_comment,status=item.status,results=item.results;return{student_id:student_id,student_name:student_name,reviewer_comment:reviewer_comment,status:status,attempted:isHomefun?true:!(results!==null&&results!==void 0&&results.every(function(r){return r.attempted===false;})),results:isHomefun?results===null||results===void 0?void 0:results.map(function(result){var outcomes=result.outcomes;return _objectSpread(_objectSpread({},result),{},{outcomes:outcomes===null||outcomes===void 0?void 0:outcomes.map(function(oItem){if(outcomeObj[oItem.outcome_id]){var _outcomeObj=outcomeObj[oItem.outcome_id],assumed=_outcomeObj.assumed,outcome_name=_outcomeObj.outcome_name;return _objectSpread(_objectSpread({},oItem),{},{assumed:assumed,outcome_name:outcome_name});}else{return _objectSpread({},oItem);}})});}):results===null||results===void 0?void 0:results.filter(function(r){return!!contentObj[r.content_id];}).map(function(result){var answer=result.answer,attempted=result.attempted,content_id=result.content_id,score=result.score,outcomes=result.outcomes;var _contentObj=contentObj[content_id],content_name=_contentObj.content_name,content_type=_contentObj.content_type,content_subtype=_contentObj.content_subtype,file_type=_contentObj.file_type,max_score=_contentObj.max_score,number=_contentObj.number,parent_id=_contentObj.parent_id,h5p_id=_contentObj.h5p_id,h5p_sub_id=_contentObj.h5p_sub_id,status=_contentObj.status;return{answer:answer,attempted:attempted,content_id:content_id,score:score,content_name:content_name,content_type:content_type,content_subtype:content_subtype,file_type:file_type,max_score:max_score,number:number,parent_id:parent_id,h5p_id:h5p_id,h5p_sub_id:h5p_sub_id,status:status,outcomes:outcomes===null||outcomes===void 0?void 0:outcomes.map(function(item){if(outcomeObj[item.outcome_id]){var _outcomeObj2=outcomeObj[item.outcome_id],assumed=_outcomeObj2.assumed,outcome_name=_outcomeObj2.outcome_name,assigned_to=_outcomeObj2.assigned_to;return _objectSpread(_objectSpread({},item),{},{assumed:assumed,outcome_name:outcome_name,assigned_to:assigned_to});}else{return _objectSpread({},item);}})};})};});return studentViewItems;},getStudentViewItemsByContent:function getStudentViewItemsByContent(students,contents){var contentObj={};contents// ?.filter((item) => item.status === \"Covered\")\n===null||contents// ?.filter((item) => item.status === \"Covered\")\n===void 0?void 0:contents// ?.filter((item) => item.status === \"Covered\")\n.forEach(function(item){if(!contentObj[item.content_id]){contentObj[item.content_id]=_objectSpread({},item);}});var studentViewItems=students===null||students===void 0?void 0:students.map(function(item){var _item$results;return _objectSpread(_objectSpread({},item),{},{results:(_item$results=item.results)===null||_item$results===void 0?void 0:_item$results.map(function(ritem){return _objectSpread(_objectSpread({},ritem),{},{status:contentObj[ritem.content_id].status});})});});return studentViewItems;},getStudentViewItemByStudent:function getStudentViewItemByStudent(students,studentViewItems){var studentObj={};students===null||students===void 0?void 0:students.forEach(function(item){if(!studentObj[item.student_id]){studentObj[item.student_id]=_objectSpread({},item);}});var new_studentViewItems=studentViewItems===null||studentViewItems===void 0?void 0:studentViewItems.map(function(item){var status=studentObj[item.student_id].status;return _objectSpread(_objectSpread({},item),{},{status:status});});return new_studentViewItems;},getReviewStudentsItems:function getReviewStudentsItems(students){var reviewStudentsItems=students===null||students===void 0?void 0:students.map(function(item){var status=item.status,student_id=item.student_id,student_name=item.student_name,reviewer_comment=item.reviewer_comment,results=item.results;return{status:status,student_id:student_id,student_name:student_name,reviewer_comment:reviewer_comment,attempted:!(results!==null&&results!==void 0&&results.every(function(r){return r.attempted===false;})),results:results===null||results===void 0?void 0:results.map(function(rItem){var answer=rItem.answer,attempted=rItem.attempted,score=rItem.score,content=rItem.content;return _objectSpread({answer:answer,attempted:attempted,score:score},content);})};});return reviewStudentsItems;},getOverallOutcomes:function getOverallOutcomes(studentViewItems){var _studentViewItems$fil;var outcomeView={};var overAllOutcomes=[];studentViewItems===null||studentViewItems===void 0?void 0:(_studentViewItems$fil=studentViewItems.filter(function(item){return item.status===StudentParticipate.Participate;}))===null||_studentViewItems$fil===void 0?void 0:_studentViewItems$fil.forEach(function(sItem){var _sItem$results;var student_id=sItem.student_id;(_sItem$results=sItem.results)===null||_sItem$results===void 0?void 0:_sItem$results.forEach(function(rItem){if(rItem.content_type===\"LessonMaterial\"){var _rItem$outcomes;(_rItem$outcomes=rItem.outcomes)===null||_rItem$outcomes===void 0?void 0:_rItem$outcomes.forEach(function(oItem){var outcome_id=oItem.outcome_id,status=oItem.status,outcome_name=oItem.outcome_name,assumed=oItem.assumed,assigned_to=oItem.assigned_to;if(!outcomeView[outcome_id]){outcomeView[outcome_id]={outcome_id:outcome_id,outcome_name:outcome_name,assumed:assumed,assigned_to:assigned_to,attendance_ids:status===OutcomeStatus.Achieved?[student_id]:[],not_attendance_ids:status!==OutcomeStatus.Achieved?[student_id]:[],partial_attendance_ids:[],none_achieved:status===OutcomeStatus.NotAchieved,skip:status===OutcomeStatus.NotCovered};}else{var _attendance_ids$index,_not_attendance_ids$i;var _outcomeView=outcomeView[outcome_id],none_achieved=_outcomeView.none_achieved,skip=_outcomeView.skip,attendance_ids=_outcomeView.attendance_ids,not_attendance_ids=_outcomeView.not_attendance_ids;outcomeView[outcome_id].none_achieved=status===\"NotAchieved\"&&none_achieved;outcomeView[outcome_id].skip=status===\"NotCovered\"&&skip;var a_index=(_attendance_ids$index=attendance_ids===null||attendance_ids===void 0?void 0:attendance_ids.indexOf(student_id))!==null&&_attendance_ids$index!==void 0?_attendance_ids$index:-1;var n_index=(_not_attendance_ids$i=not_attendance_ids===null||not_attendance_ids===void 0?void 0:not_attendance_ids.indexOf(student_id))!==null&&_not_attendance_ids$i!==void 0?_not_attendance_ids$i:-1;if(status===\"Achieved\"){if(a_index<0&&n_index<0){var _outcomeView$attendan;(_outcomeView$attendan=outcomeView[outcome_id].attendance_ids)===null||_outcomeView$attendan===void 0?void 0:_outcomeView$attendan.push(student_id);}if(n_index>=0){var _outcomeView$partial_;(_outcomeView$partial_=outcomeView[outcome_id].partial_attendance_ids)===null||_outcomeView$partial_===void 0?void 0:_outcomeView$partial_.push(student_id);if(a_index>=0){var _outcomeView$attendan2;(_outcomeView$attendan2=outcomeView[outcome_id].attendance_ids)===null||_outcomeView$attendan2===void 0?void 0:_outcomeView$attendan2.splice(a_index,1);}}}else{if(a_index>=0){var _outcomeView$partial_2,_outcomeView$attendan3;(_outcomeView$partial_2=outcomeView[outcome_id].partial_attendance_ids)===null||_outcomeView$partial_2===void 0?void 0:_outcomeView$partial_2.push(student_id);(_outcomeView$attendan3=outcomeView[outcome_id].attendance_ids)===null||_outcomeView$attendan3===void 0?void 0:_outcomeView$attendan3.splice(a_index,1);}if(n_index<0){var _outcomeView$not_atte;(_outcomeView$not_atte=outcomeView[outcome_id].not_attendance_ids)===null||_outcomeView$not_atte===void 0?void 0:_outcomeView$not_atte.push(student_id);}}}});}else{var _rItem$outcomes2;(_rItem$outcomes2=rItem.outcomes)===null||_rItem$outcomes2===void 0?void 0:_rItem$outcomes2.forEach(function(oItem){var _oItem$assigned_to;var outcome_id=oItem.outcome_id,status=oItem.status,outcome_name=oItem.outcome_name,assumed=oItem.assumed,assigned_to=oItem.assigned_to;if(((_oItem$assigned_to=oItem.assigned_to)===null||_oItem$assigned_to===void 0?void 0:_oItem$assigned_to.length)===1){if(!outcomeView[outcome_id]){outcomeView[outcome_id]={outcome_id:outcome_id,outcome_name:outcome_name,assumed:assumed,assigned_to:assigned_to,attendance_ids:status===OutcomeStatus.Achieved?[student_id]:[],not_attendance_ids:[],partial_attendance_ids:[],none_achieved:status===OutcomeStatus.NotAchieved,skip:status===OutcomeStatus.NotCovered};}else{var _attendance_ids$index2;var _outcomeView2=outcomeView[outcome_id],none_achieved=_outcomeView2.none_achieved,skip=_outcomeView2.skip,_outcomeView2$attenda=_outcomeView2.attendance_ids,attendance_ids=_outcomeView2$attenda===void 0?[]:_outcomeView2$attenda;outcomeView[outcome_id].none_achieved=status===OutcomeStatus.NotAchieved&&none_achieved;outcomeView[outcome_id].skip=status===OutcomeStatus.NotCovered&&skip;var a_index=(_attendance_ids$index2=attendance_ids===null||attendance_ids===void 0?void 0:attendance_ids.indexOf(student_id))!==null&&_attendance_ids$index2!==void 0?_attendance_ids$index2:-1;if(status===OutcomeStatus.Achieved){if(a_index<0){var _outcomeView$attendan4;(_outcomeView$attendan4=outcomeView[outcome_id].attendance_ids)===null||_outcomeView$attendan4===void 0?void 0:_outcomeView$attendan4.push(student_id);}}else{if(a_index>=0){var _outcomeView$attendan5;(_outcomeView$attendan5=outcomeView[outcome_id].attendance_ids)===null||_outcomeView$attendan5===void 0?void 0:_outcomeView$attendan5.splice(a_index,1);}}}}});}});});overAllOutcomes=Object.values(outcomeView);return overAllOutcomes;},getMaterialViewItems:function getMaterialViewItems(// contents: DetailAssessmentResult[\"contents\"],\n// students: DetailAssessmentResult[\"students\"],\nstudentViewItems){var materialViewObj={};var materialViewItems=[];studentViewItems===null||studentViewItems===void 0?void 0:studentViewItems.forEach(function(sItem){var _sItem$results2;var student_id=sItem.student_id,student_name=sItem.student_name;(_sItem$results2=sItem.results// ?.filter((r) => r.content_type === \"LessonMaterial\" || r.content_type === \"Unknown\")\n)===null||_sItem$results2===void 0?void 0:_sItem$results2.forEach(function(rItem){var content_id=rItem.content_id,content_name=rItem.content_name,number=rItem.number,content_subtype=rItem.content_subtype,answer=rItem.answer,score=rItem.score,max_score=rItem.max_score,file_type=rItem.file_type,parent_id=rItem.parent_id,outcomes=rItem.outcomes,status=rItem.status,attempted=rItem.attempted,h5p_id=rItem.h5p_id,h5p_sub_id=rItem.h5p_sub_id;if(!materialViewObj[content_id]){materialViewObj[content_id]={content_id:content_id,content_name:content_name,content_subtype:content_subtype,number:number,max_score:max_score,file_type:file_type,parent_id:parent_id,status:status,attempted:attempted,h5p_id:h5p_id,h5p_sub_id:h5p_sub_id,students:[{student_id:student_id,student_name:student_name,answer:answer,score:score,attempted:attempted,status:sItem.status}],outcomes:outcomes===null||outcomes===void 0?void 0:outcomes.map(function(oItem){var outcome_id=oItem.outcome_id,outcome_name=oItem.outcome_name,assumed=oItem.assumed,status=oItem.status;return{outcome_id:outcome_id,outcome_name:outcome_name,assumed:assumed,status:status,attendance_ids:status===OutcomeStatus.Achieved?[student_id]:[]};})};}else{var _materialViewObj$stud,_materialViewObj$outc;(_materialViewObj$stud=materialViewObj[content_id].students)===null||_materialViewObj$stud===void 0?void 0:_materialViewObj$stud.push({student_id:student_id,student_name:student_name,answer:answer,score:score,attempted:attempted,status:sItem.status});materialViewObj[content_id].outcomes=(_materialViewObj$outc=materialViewObj[content_id].outcomes)===null||_materialViewObj$outc===void 0?void 0:_materialViewObj$outc.map(function(oItem){var _oItem$attendance_ids;var currOutcome=outcomes===null||outcomes===void 0?void 0:outcomes.find(function(item){return item.outcome_id===oItem.outcome_id;});var _attendance_ids=(_oItem$attendance_ids=oItem.attendance_ids)!==null&&_oItem$attendance_ids!==void 0?_oItem$attendance_ids:[];var n_attendance_ids=[];if((currOutcome===null||currOutcome===void 0?void 0:currOutcome.status)===OutcomeStatus.Achieved){n_attendance_ids=[].concat(_toConsumableArray(_attendance_ids),[student_id]);}return _objectSpread(_objectSpread({},oItem),{},{attendance_ids:(currOutcome===null||currOutcome===void 0?void 0:currOutcome.status)===OutcomeStatus.Achieved?n_attendance_ids:_attendance_ids});});}});});materialViewItems=Object.values(materialViewObj);return materialViewItems;},getInitSubDimension:function getInitSubDimension(dimension,studentViewItems){if(dimension!==Dimension.material){var participateStudent=studentViewItems===null||studentViewItems===void 0?void 0:studentViewItems.filter(function(student){return student.status===StudentParticipate.Participate;});if(dimension===Dimension.student||dimension===Dimension.all){return participateStudent===null||participateStudent===void 0?void 0:participateStudent.map(function(item){return{id:item.student_id,name:item.student_name};});}if(dimension===Dimension.submitted){return participateStudent===null||participateStudent===void 0?void 0:participateStudent.filter(function(student){return student.results.length&&!!student.results[0].student_feed_backs;}).map(function(item){return{id:item.student_id,name:item.student_name};});}if(dimension===Dimension.notSubmitted){return participateStudent===null||participateStudent===void 0?void 0:participateStudent.filter(function(student){return!student.results.length||student.results.length&&!student.results[0].student_feed_backs;}).map(function(item){return{id:item.student_id,name:item.student_name};});}}else{if(studentViewItems&&studentViewItems[0]&&studentViewItems[0].results){return studentViewItems[0].results.filter(function(item){return item.content_type===\"LessonMaterial\"&&item.status===\"Covered\"&&item.parent_id===\"\";}).map(function(item){return{id:item.content_id,name:item.content_name};});}else{return[];}}},getUpdateAssessmentData:function getUpdateAssessmentData(assessment_type,contents,students){var _contents$map,_students$map;var isReivew=assessment_type===AssessmentTypeValues.review;var isHomefun=assessment_type===AssessmentTypeValues.homeFun;var _contents=(_contents$map=contents===null||contents===void 0?void 0:contents.map(function(item){var content_id=item.content_id,content_subtype=item.content_subtype,content_type=item.content_type,parent_id=item.parent_id,status=item.status,reviewer_comment=item.reviewer_comment;return{content_id:content_id,content_subtype:content_subtype,content_type:content_type,parent_id:parent_id,status:status,reviewer_comment:reviewer_comment};}))!==null&&_contents$map!==void 0?_contents$map:[];var _students=(_students$map=students===null||students===void 0?void 0:students.map(function(item){var student_id=item.student_id,status=item.status,reviewer_comment=item.reviewer_comment,results=item.results;return{student_id:student_id,reviewer_comment:reviewer_comment,status:status,results:isHomefun?results===null||results===void 0?void 0:results.map(function(rItem){var _student_feed_backs$;var assess_score=rItem.assess_score,outcomes=rItem.outcomes,student_feed_backs=rItem.student_feed_backs;return{assess_score:assess_score,assess_feedback_id:student_feed_backs?student_feed_backs[0].id:\"\",assignments:student_feed_backs?(_student_feed_backs$=student_feed_backs[0].assignments)===null||_student_feed_backs$===void 0?void 0:_student_feed_backs$.map(function(aItem){return{id:aItem.id,review_attachment_id:aItem.review_attachment_id};}):[],outcomes:outcomes===null||outcomes===void 0?void 0:outcomes.map(function(oItem){var outcome_id=oItem.outcome_id,status=oItem.status;return{outcome_id:outcome_id,status:status};})};}):results===null||results===void 0?void 0:results.map(function(rItem){var content_id=rItem.content_id,parent_id=rItem.parent_id,score=rItem.score,outcomes=rItem.outcomes;return{content_id:content_id,parent_id:parent_id,score:Number(score),outcomes:isReivew?undefined:outcomes===null||outcomes===void 0?void 0:outcomes.map(function(oItem){var outcome_id=oItem.outcome_id,status=oItem.status;return{outcome_id:outcome_id,status:status};})};})};}))!==null&&_students$map!==void 0?_students$map:[];return{_contents:_contents,_students:_students};},getCompleteStatus:function getCompleteStatus(studentViewItems){var hasNotAttemptArr=[];if(studentViewItems&&studentViewItems[0]){hasNotAttemptArr=studentViewItems.map(function(item){var all=0;var attempt=0;if(item.results&&item.results[0]){item.results.forEach(function(v){if(v.content_type===\"LessonMaterial\"){if(v.h5p_id){all+=1;if(v.attempted){attempt+=1;}}}});}var hasNotAttempt=all&&attempt&&all>attempt?true:false;return hasNotAttempt;});}return!!hasNotAttemptArr.find(function(item){return item;});},getCompleteRateV2:function getCompleteRateV2(studentViewItems){var all=0;var attempt=0;if(studentViewItems&&studentViewItems[0]){studentViewItems.forEach(function(item){if(item.results&&item.results[0]){item.results.forEach(function(v){if(v.h5p_id){all+=1;if(v.attempted){attempt+=1;}}});}});}return{all:all,attempt:attempt};}};","map":{"version":3,"names":["AssessmentTypeValues","Dimension","OutcomeStatus","StudentParticipate","ModelAssessment","getStudentViewItems","students","contents","outcomes","assessment_type","isHomefun","homeFun","contentObj","outcomeObj","forEach","item","content_id","outcome_id","studentViewItems","map","student_id","student_name","reviewer_comment","status","results","attempted","every","r","result","oItem","assumed","outcome_name","filter","answer","score","content_name","content_type","content_subtype","file_type","max_score","number","parent_id","h5p_id","h5p_sub_id","assigned_to","getStudentViewItemsByContent","ritem","getStudentViewItemByStudent","studentObj","new_studentViewItems","getReviewStudentsItems","reviewStudentsItems","rItem","content","getOverallOutcomes","outcomeView","overAllOutcomes","Participate","sItem","attendance_ids","Achieved","not_attendance_ids","partial_attendance_ids","none_achieved","NotAchieved","skip","NotCovered","a_index","indexOf","n_index","push","splice","length","Object","values","getMaterialViewItems","materialViewObj","materialViewItems","currOutcome","find","_attendance_ids","n_attendance_ids","getInitSubDimension","dimension","material","participateStudent","student","all","id","name","submitted","student_feed_backs","notSubmitted","getUpdateAssessmentData","isReivew","review","_contents","_students","assess_score","assess_feedback_id","assignments","aItem","review_attachment_id","Number","undefined","getCompleteStatus","hasNotAttemptArr","attempt","v","hasNotAttempt","getCompleteRateV2"],"sources":["/Users/evik/kl/project-2024/klasmart-assessment-frontend/src/models/ModelAssessment.ts"],"sourcesContent":["import { AssessmentTypeValues } from \"@components/AssessmentType\";\nimport { Dimension } from \"@pages/DetailAssessment/MultiSelect\";\nimport { V2AssessmentContentReply } from \"../api/api.auto\";\nimport { } from \"../api/type\";\nimport {\n  DetailAssessmentProps, MaterialViewItemResultProps,\n  OutcomeStatus,\n  OverAllOutcomesItem,\n  StudentParticipate,\n  StudentProps,\n  StudentViewItemsProps,\n  SubDimensionOptions\n} from \"../pages/DetailAssessment/type\";\nimport {\n  DetailAssessmentResult,\n  DetailAssessmentResultContent,\n  DetailAssessmentResultOutcome\n} from \"../pages/ListAssessment/types\";\n// interface ObjContainId {\n//   id?: string;\n// }\n// function toHash<T extends ObjContainId>(arr: T[]): Record<string, T> {\n//   return arr.reduce<Record<string, T>>((result, item) => {\n//     if (!item.id) return result;\n//     result[item.id] = item;\n//     return result;\n//   }, {});\n// }\n\nexport const ModelAssessment = {\n  // setInitFormValue(contents: DetailAssessmentResult[\"contents\"], students: DetailAssessmentResult[\"students\"]) {\n  //   const _contents = contents\n  //     ?.filter((item) => item.content_type === \"LessonMaterial\" && !item.parent_id)\n  //     .map((item) => {\n  //       const { content_id, parent_id, reviewer_comment, status } = item;\n  //       return {\n  //         content_id,\n  //         parent_id,\n  //         reviewer_comment,\n  //         status,\n  //       };\n  //     });\n  //   return { contents: _contents };\n  // },\n  getStudentViewItems(\n    students: DetailAssessmentProps[\"students\"],\n    contents: DetailAssessmentResult[\"contents\"],\n    outcomes: DetailAssessmentResult[\"outcomes\"],\n    assessment_type: AssessmentTypeValues\n  ): StudentViewItemsProps[] | undefined {\n    // const participateStudent = students?.filter((item) => item.status === StudentParticipate.Participate);\n    const isHomefun = assessment_type === AssessmentTypeValues.homeFun;\n    const contentObj: Record<string, DetailAssessmentResultContent> = {};\n    const outcomeObj: Record<string, DetailAssessmentResultOutcome> = {};\n    contents\n      // ?.filter((item) => item.status === \"Covered\")\n      ?.forEach((item) => {\n        if (!contentObj[item.content_id!]) {\n          contentObj[item.content_id!] = { ...item };\n        }\n      });\n    outcomes?.forEach((item) => {\n      if (!outcomeObj[item.outcome_id!]) {\n        outcomeObj[item.outcome_id!] = { ...item };\n      }\n    });\n    const studentViewItems: StudentViewItemsProps[] | undefined = students?.map((item) => {\n      const { student_id, student_name, reviewer_comment, status, results } = item;\n      return {\n        student_id,\n        student_name,\n        reviewer_comment,\n        status,\n        attempted: isHomefun ? true : !results?.every((r) => r.attempted === false),\n        results: isHomefun\n          ? results?.map((result) => {\n              const { outcomes } = result;\n              return {\n                ...result,\n                outcomes: outcomes?.map((oItem) => {\n                  if (outcomeObj[oItem.outcome_id!]) {\n                    const { assumed, outcome_name } = outcomeObj[oItem.outcome_id!];\n                    return {\n                      ...oItem,\n                      assumed,\n                      outcome_name,\n                    };\n                  } else {\n                    return { ...oItem };\n                  }\n                }),\n              };\n            })\n          : results\n              ?.filter((r) => !!contentObj[r.content_id!])\n              .map((result) => {\n                const { answer, attempted, content_id, score, outcomes } = result;\n                const { content_name, content_type, content_subtype, file_type, max_score, number, parent_id, h5p_id, h5p_sub_id, status } =\n                  contentObj[content_id!];\n                return {\n                  answer,\n                  attempted,\n                  content_id,\n                  score,\n                  content_name,\n                  content_type,\n                  content_subtype,\n                  file_type,\n                  max_score,\n                  number,\n                  parent_id,\n                  h5p_id,\n                  h5p_sub_id,\n                  status,\n                  outcomes: outcomes?.map((item) => {\n                    if (outcomeObj[item.outcome_id!]) {\n                      const { assumed, outcome_name, assigned_to } = outcomeObj[item.outcome_id!];\n                      return {\n                        ...item,\n                        assumed,\n                        outcome_name,\n                        assigned_to,\n                      };\n                    } else {\n                      return {\n                        ...item,\n                      };\n                    }\n                  }),\n                };\n              }),\n      };\n    });\n    return studentViewItems;\n  },\n  getStudentViewItemsByContent(\n    students: StudentViewItemsProps[] | undefined,\n    contents: DetailAssessmentResult[\"contents\"]\n  ): StudentViewItemsProps[] | undefined {\n    const contentObj: Record<string, DetailAssessmentResultContent> = {};\n    contents\n      // ?.filter((item) => item.status === \"Covered\")\n      ?.forEach((item) => {\n        if (!contentObj[item.content_id!]) {\n          contentObj[item.content_id!] = { ...item };\n        }\n      });\n    const studentViewItems: StudentViewItemsProps[] | undefined = students?.map((item) => {\n      return {\n        ...item,\n        results: item.results?.map((ritem) => {\n          return {\n            ...ritem,\n            status: contentObj[ritem.content_id!].status,\n          };\n        }),\n      };\n    });\n    return studentViewItems;\n  },\n  getStudentViewItemByStudent(\n    students: DetailAssessmentProps[\"students\"],\n    studentViewItems: StudentViewItemsProps[] | undefined\n  ): StudentViewItemsProps[] | undefined {\n    const studentObj: Record<string, StudentProps> = {};\n    students?.forEach((item) => {\n      if (!studentObj[item.student_id!]) {\n        studentObj[item.student_id!] = { ...item };\n      }\n    });\n    const new_studentViewItems: StudentViewItemsProps[] | undefined = studentViewItems?.map((item) => {\n      const { status } = studentObj[item.student_id!];\n      return {\n        ...item,\n        status,\n      };\n    });\n    return new_studentViewItems;\n  },\n  getReviewStudentsItems(students: DetailAssessmentProps[\"diff_content_students\"]): StudentViewItemsProps[] | undefined {\n    const reviewStudentsItems: StudentViewItemsProps[] | undefined = students?.map((item) => {\n      const { status, student_id, student_name, reviewer_comment, results } = item;\n      return {\n        status,\n        student_id,\n        student_name,\n        reviewer_comment,\n        attempted: !results?.every((r) => r.attempted === false),\n        results: results?.map((rItem) => {\n          const { answer, attempted, score, content } = rItem;\n          return {\n            answer,\n            attempted,\n            score,\n            ...content,\n          };\n        }),\n      };\n    });\n    return reviewStudentsItems;\n  },\n  getOverallOutcomes(studentViewItems: StudentViewItemsProps[] | undefined): OverAllOutcomesItem[] {\n    let outcomeView: Record<string, OverAllOutcomesItem> = {};\n    let overAllOutcomes: OverAllOutcomesItem[] = [];\n    studentViewItems\n      ?.filter((item) => item.status === StudentParticipate.Participate)\n      ?.forEach((sItem) => {\n        const { student_id } = sItem;\n        sItem.results?.forEach((rItem) => {\n          if (rItem.content_type === \"LessonMaterial\") {\n            rItem.outcomes?.forEach((oItem) => {\n              const { outcome_id, status, outcome_name, assumed, assigned_to } = oItem;\n              if (!outcomeView[outcome_id!]) {\n                outcomeView[outcome_id!] = {\n                  outcome_id,\n                  outcome_name,\n                  assumed,\n                  assigned_to,\n                  attendance_ids: status === OutcomeStatus.Achieved ? [student_id!] : [],\n                  not_attendance_ids: status !== OutcomeStatus.Achieved ? [student_id!] : [],\n                  partial_attendance_ids: [],\n                  none_achieved: status === OutcomeStatus.NotAchieved,\n                  skip: status === OutcomeStatus.NotCovered,\n                };\n              } else {\n                const { none_achieved, skip, attendance_ids, not_attendance_ids } = outcomeView[outcome_id!];\n                outcomeView[outcome_id!].none_achieved = status === \"NotAchieved\" && none_achieved;\n                outcomeView[outcome_id!].skip = status === \"NotCovered\" && skip;\n                const a_index = attendance_ids?.indexOf(student_id!) ?? -1;\n                const n_index = not_attendance_ids?.indexOf(student_id!) ?? -1;\n                if (status === \"Achieved\") {\n                  if (a_index < 0 && n_index < 0) {\n                    outcomeView[outcome_id!].attendance_ids?.push(student_id!);\n                  }\n                  if (n_index >= 0) {\n                    outcomeView[outcome_id!].partial_attendance_ids?.push(student_id!);\n                    if (a_index >= 0) {\n                      outcomeView[outcome_id!].attendance_ids?.splice(a_index, 1);\n                    }\n                  }\n                } else {\n                  if (a_index >= 0) {\n                    outcomeView[outcome_id!].partial_attendance_ids?.push(student_id!);\n                    outcomeView[outcome_id!].attendance_ids?.splice(a_index, 1);\n                  }\n                  if (n_index < 0) {\n                    outcomeView[outcome_id!].not_attendance_ids?.push(student_id!);\n                  }\n                }\n              }\n            });\n          } else {\n            rItem.outcomes?.forEach((oItem) => {\n              const { outcome_id, status, outcome_name, assumed, assigned_to } = oItem;\n              if (oItem.assigned_to?.length === 1) {\n                if (!outcomeView[outcome_id!]) {\n                  outcomeView[outcome_id!] = {\n                    outcome_id,\n                    outcome_name,\n                    assumed,\n                    assigned_to,\n                    attendance_ids: status === OutcomeStatus.Achieved ? [student_id!] : [],\n                    not_attendance_ids: [],\n                    partial_attendance_ids: [],\n                    none_achieved: status === OutcomeStatus.NotAchieved,\n                    skip: status === OutcomeStatus.NotCovered,\n                  };\n                } else {\n                  const { none_achieved, skip, attendance_ids = [] } = outcomeView[outcome_id!];\n                  outcomeView[outcome_id!].none_achieved = status === OutcomeStatus.NotAchieved && none_achieved;\n                  outcomeView[outcome_id!].skip = status === OutcomeStatus.NotCovered && skip;\n                  const a_index = attendance_ids?.indexOf(student_id!) ?? -1;\n                  if (status === OutcomeStatus.Achieved) {\n                    if (a_index < 0) {\n                      outcomeView[outcome_id!].attendance_ids?.push(student_id!);\n                    }\n                  } else {\n                    if (a_index >= 0) {\n                      outcomeView[outcome_id!].attendance_ids?.splice(a_index, 1);\n                    }\n                  }\n                }\n              }\n            });\n          }\n        });\n      });\n    overAllOutcomes = Object.values(outcomeView);\n    return overAllOutcomes;\n  },\n  getMaterialViewItems(\n    // contents: DetailAssessmentResult[\"contents\"],\n    // students: DetailAssessmentResult[\"students\"],\n    studentViewItems?: StudentViewItemsProps[]\n  ): MaterialViewItemResultProps[] {\n    const materialViewObj: Record<string, MaterialViewItemResultProps> = {};\n    let materialViewItems: MaterialViewItemResultProps[] = [];\n    studentViewItems?.forEach((sItem) => {\n      const { student_id, student_name } = sItem;\n      sItem.results\n        // ?.filter((r) => r.content_type === \"LessonMaterial\" || r.content_type === \"Unknown\")\n        ?.forEach((rItem) => {\n          const {\n            content_id,\n            content_name,\n            number,\n            content_subtype,\n            answer,\n            score,\n            max_score,\n            file_type,\n            parent_id,\n            outcomes,\n            status,\n            attempted,\n            h5p_id,\n            h5p_sub_id,\n          } = rItem;\n          if (!materialViewObj[content_id!]) {\n            materialViewObj[content_id!] = {\n              content_id,\n              content_name,\n              content_subtype,\n              number,\n              max_score,\n              file_type,\n              parent_id,\n              status,\n              attempted,\n              h5p_id,\n              h5p_sub_id,\n              students: [\n                {\n                  student_id,\n                  student_name,\n                  answer,\n                  score,\n                  attempted,\n                  status: sItem.status,\n                },\n              ],\n              outcomes: outcomes?.map((oItem) => {\n                const { outcome_id, outcome_name, assumed, status } = oItem;\n                return {\n                  outcome_id,\n                  outcome_name,\n                  assumed,\n                  status,\n                  attendance_ids: status === OutcomeStatus.Achieved ? [student_id!] : [],\n                };\n              }),\n            };\n          } else {\n            materialViewObj[content_id!].students?.push({ student_id, student_name, answer, score, attempted, status: sItem.status });\n            materialViewObj[content_id!].outcomes = materialViewObj[content_id!].outcomes?.map((oItem) => {\n              const currOutcome = outcomes?.find((item) => item.outcome_id === oItem.outcome_id);\n              const _attendance_ids = oItem.attendance_ids ?? [];\n              let n_attendance_ids: string[] = [];\n              if (currOutcome?.status === OutcomeStatus.Achieved) {\n                n_attendance_ids = [..._attendance_ids, student_id!];\n              }\n              return {\n                ...oItem,\n                attendance_ids: currOutcome?.status === OutcomeStatus.Achieved ? n_attendance_ids : _attendance_ids,\n              };\n            });\n          }\n        });\n    });\n    materialViewItems = Object.values(materialViewObj);\n    return materialViewItems;\n  },\n  getInitSubDimension(dimension: Dimension, studentViewItems: any[] | undefined): SubDimensionOptions[] | undefined {\n    if (dimension !== Dimension.material) {\n      const participateStudent = studentViewItems?.filter((student) => student.status === StudentParticipate.Participate);\n      if (dimension === Dimension.student || dimension === Dimension.all) {\n        return participateStudent?.map((item) => {\n          return { id: item.student_id!, name: item.student_name! };\n        });\n      }\n      if (dimension === Dimension.submitted) {\n        return participateStudent\n          ?.filter((student) => student.results.length && !!student.results[0].student_feed_backs)\n          .map((item) => {\n            return { id: item.student_id!, name: item.student_name! };\n          });\n      }\n      if (dimension === Dimension.notSubmitted) {\n        return participateStudent\n          ?.filter((student) => !student.results.length || (student.results.length && !student.results[0].student_feed_backs))\n          .map((item) => {\n            return { id: item.student_id!, name: item.student_name! };\n          });\n      }\n    } else {\n      if (studentViewItems && studentViewItems[0] && studentViewItems[0].results) {\n        return studentViewItems[0].results\n          .filter(\n            (item: { content_type: string; status: string; parent_id: string }) =>\n              item.content_type === \"LessonMaterial\" && item.status === \"Covered\" && item.parent_id === \"\"\n          )\n          .map((item: { content_id: any; content_name: any }) => {\n            return { id: item.content_id!, name: item.content_name! };\n          });\n      } else {\n        return [];\n      }\n    }\n  },\n  getUpdateAssessmentData(\n    assessment_type: AssessmentTypeValues,\n    contents?: V2AssessmentContentReply[],\n    students?: StudentViewItemsProps[]\n  ) {\n    const isReivew = assessment_type === AssessmentTypeValues.review;\n    const isHomefun = assessment_type === AssessmentTypeValues.homeFun;\n    const _contents =\n      contents?.map((item) => {\n        const { content_id, content_subtype, content_type, parent_id, status, reviewer_comment } = item;\n        return {\n          content_id,\n          content_subtype,\n          content_type,\n          parent_id,\n          status,\n          reviewer_comment,\n        };\n      }) ?? [];\n    const _students =\n      students?.map((item) => {\n        const { student_id, status, reviewer_comment, results } = item;\n        return {\n          student_id,\n          reviewer_comment,\n          status,\n          results: isHomefun\n            ? results?.map((rItem) => {\n                const { assess_score, outcomes, student_feed_backs } = rItem;\n                return {\n                  assess_score,\n                  assess_feedback_id: student_feed_backs ? student_feed_backs[0].id : \"\",\n                  assignments: student_feed_backs\n                    ? student_feed_backs[0].assignments?.map((aItem) => {\n                        return {\n                          id: aItem.id,\n                          review_attachment_id: aItem.review_attachment_id,\n                        };\n                      })\n                    : [],\n                  outcomes: outcomes?.map((oItem) => {\n                    const { outcome_id, status } = oItem;\n                    return {\n                      outcome_id,\n                      status,\n                    };\n                  }),\n                };\n              })\n            : results?.map((rItem) => {\n                const { content_id, parent_id, score, outcomes } = rItem;\n                return {\n                  content_id,\n                  parent_id,\n                  score: Number(score),\n                  outcomes: isReivew\n                    ? undefined\n                    : outcomes?.map((oItem) => {\n                        const { outcome_id, status } = oItem;\n                        return {\n                          outcome_id,\n                          status,\n                        };\n                      }),\n                };\n              }),\n        };\n      }) ?? [];\n    return { _contents, _students };\n  },\n  getCompleteStatus(studentViewItems?: StudentViewItemsProps[]) {\n    let hasNotAttemptArr: boolean[] = [];\n    if (studentViewItems && studentViewItems[0]) {\n      hasNotAttemptArr = studentViewItems.map((item) => {\n        let all: number = 0;\n        let attempt: number = 0;\n        if (item.results && item.results[0]) {\n          item.results.forEach((v) => {\n            if (v.content_type === \"LessonMaterial\") {\n              if (v.h5p_id) {\n                all += 1;\n                if (v.attempted) {\n                  attempt += 1;\n                }\n              }\n            }\n          });\n        }\n        const hasNotAttempt = all && attempt && all > attempt ? true : false;\n        return hasNotAttempt;\n      });\n    }\n    return !!hasNotAttemptArr.find((item) => item);\n  },\n  getCompleteRateV2(studentViewItems?: StudentViewItemsProps[]) {\n    let all: number = 0;\n    let attempt: number = 0;\n    if (studentViewItems && studentViewItems[0]) {\n      studentViewItems.forEach((item) => {\n        if (item.results && item.results[0]) {\n          item.results.forEach((v) => {\n            if (v.h5p_id) {\n              all += 1;\n              if (v.attempted) {\n                attempt += 1;\n              }\n            }\n          });\n        }\n      });\n    }\n    return { all, attempt };\n  },\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}