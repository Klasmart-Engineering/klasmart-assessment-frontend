{"ast":null,"code":"import _asyncToGenerator from\"/Users/evik/kl/project-2024/klasmart-assessment-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/evik/kl/project-2024/klasmart-assessment-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/evik/kl/project-2024/klasmart-assessment-frontend/node_modules/@babel/runtime/regenerator/index.js\";import{getPicRealPath}from\"@api/extra\";import{audioClient}from\"@api/index\";import{ApolloProvider}from\"@apollo/client\";import AssetImg from\"@components/UIAssetPreview/AssetPreview/AssetImg\";import{UiSketch}from\"@components/UISketch\";import{Button,createStyles,Dialog,DialogActions,DialogContent,DialogTitle,IconButton,InputAdornment,makeStyles,TextField,useMediaQuery,useTheme}from\"@material-ui/core\";import{Close,ExitToAppOutlined,ImageOutlined,SaveOutlined,SentimentSatisfied,SentimentSatisfiedOutlined,SentimentVeryDissatisfiedOutlined,SentimentVerySatisfiedOutlined}from\"@material-ui/icons\";import BorderColorIcon from\"@material-ui/icons/BorderColor\";import React,{useEffect,useMemo,useRef,useState}from\"react\";import{Controller,useForm}from\"react-hook-form\";import{d}from\"../../locale/LocaleManager\";import AudioView from\"./AudioView\";import{ImgSelect,ScoreInput}from\"./HomefunView\";import{ScreenShorts}from\"./ScreenShorts\";import{ResourceViewTypeValues}from\"./type\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return createStyles({closeBtn:{position:\"absolute\",top:theme.spacing(1),right:theme.spacing(1)},title:{borderBottom:\"1px solid #eeeeee\"},detailView:{padding:\"12px\",lineHeight:\"30px\",// maxHeight: \"900px\",\n// minWidth: \"400px\",\noverflow:\"auto\",textAlign:\"center\",wordBreak:\"break-all\",\"&::-webkit-scrollbar\":{width:\"3px\"},\"&::-webkit-scrollbar-track\":{boxShadow:\"inset 0 0 6px rgba(0,0,0,0.3)\"},\"&::-webkit-scrollbar-thumb\":{borderRadius:\"3px\",backgroundColor:\"rgb(220, 220, 220)\",boxShadow:\"inset 0 0 3px rgba(0,0,0,0.5)\"},\"&::-webkit-scrollbar-thumb:window-inactive\":{backgroundColor:\"rgba(220,220,220,0.4)\"}},screenShortsContent:{backgroundColor:\"#E9F2FA\"},screenShortsCon:{maxHeight:\"750px\",textAlign:\"center\"},imgCon:{maxHeight:\"650px\",minWidth:\"400px\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",margin:\"20px 0\"},okBtn:{marginLeft:\"40px !important\"},titleBar:{fontWeight:600,display:\"flex\",justifyContent:\"space-between\"}});});export var showAudioRecorder=function showAudioRecorder(type){var types=[\"AudioRecorder\",\"SpeakTheWordsSet\",\"SpeakTheWords\"];return types.indexOf(type)>=0;};export var showScreenShort=function showScreenShort(type,subContentId){var mutipleScreenShortsTypes=[\"Summary\",\"SingleChoiceSet\",\"ArithmeticQuiz\",\"Flashcards\",\"Dictation\",\"Dialogcards\"];var types=[\"AdvancedBlanks\",\"DragQuestion\",\"DragText\",\"Blanks\",\"ImageMultipleHotspotQuestion\",\"ImageHotspotQuestion\",\"FindTheWords\",\"ImagePair\",\"ImageSequencing\",\"DictationSentence\",\"DialogcardsCard\",\"ArithmeticQuizPage\"];if(mutipleScreenShortsTypes.indexOf(type)>=0){if(subContentId){return true;}else{return false;}}else{return types.indexOf(type)>=0;}};export function ResourceView(props){var css=useStyles();var resourceType=props.resourceType,open=props.open,answer=props.answer,comment=props.comment,studentId=props.studentId,h5pId=props.h5pId,roomId=props.roomId,userId=props.userId,h5pSubId=props.h5pSubId,score=props.score,assignments=props.assignments,dialogType=props.dialogType,contentSubType=props.contentSubType,onChangeComment=props.onChangeComment,onClose=props.onClose,onChangeScore=props.onChangeScore,onOpenDrawFeedback=props.onOpenDrawFeedback;var showClose=resourceType!==ResourceViewTypeValues.editScore&&resourceType!==ResourceViewTypeValues.selectImg;var showActionBtn=resourceType===ResourceViewTypeValues.editComment||resourceType===ResourceViewTypeValues.editScore||resourceType===ResourceViewTypeValues.selectImg;var isScreenShorts=resourceType===ResourceViewTypeValues.viewScreenshots;var formMethods=useForm();var control=formMethods.control,getValues=formMethods.getValues;var handleOk=function handleOk(){onClose();if(resourceType===ResourceViewTypeValues.editComment){var _comment=getValues()[\"comment\"];onChangeComment&&onChangeComment(studentId,_comment);}if(resourceType===ResourceViewTypeValues.editScore){var _score=getValues()[\"assess_score\"];onChangeScore&&onChangeScore(studentId,_score);}if(resourceType===ResourceViewTypeValues.selectImg){var selectedAssignmentId=getValues()[\"assignments\"];var selectedAssignment=assignments===null||assignments===void 0?void 0:assignments.find(function(item){return item.attachment_id===selectedAssignmentId;});onOpenDrawFeedback&&onOpenDrawFeedback(dialogType,studentId,selectedAssignment);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Dialog,{open:open,fullWidth:true,maxWidth:isScreenShorts?\"md\":\"sm\",children:[/*#__PURE__*/_jsxs(DialogTitle,{className:resourceType===ResourceViewTypeValues.editScore?\"\":css.title,children:[(resourceType===ResourceViewTypeValues.essay||showAudioRecorder(resourceType))&&d(\"Detailed Answer\").t(\"assess_popup_detailed_answer\"),resourceType===ResourceViewTypeValues.viewComment&&d(\"View Comments\").t(\"assess_popup_view_comments\"),resourceType===ResourceViewTypeValues.editComment&&d(\"Add Comments\").t(\"assess_popup_add_comments\"),resourceType===ResourceViewTypeValues.viewWritingFeedback&&d(\"View Writing Feedback\").t(\"assessment_hfs_view_writing_feedback\"),resourceType===ResourceViewTypeValues.selectImg&&d(\"Select a file to provide feedback\").t(\"assessment_hfs_select_file\"),isScreenShorts&&d(\"Results Screen\").t(\"assessment_detail_screenshot_result_screen\"),showClose&&/*#__PURE__*/_jsx(IconButton,{onClick:onClose,className:css.closeBtn,children:/*#__PURE__*/_jsx(Close,{})})]}),/*#__PURE__*/_jsxs(DialogContent,{className:isScreenShorts?css.screenShortsContent:\"\",children:[resourceType===ResourceViewTypeValues.essay&&/*#__PURE__*/_jsx(\"div\",{className:css.detailView,children:answer?answer:d(\"An answer has not been submitted by the student.\").t(\"assessment_detail_essay_no_result\")}),resourceType===ResourceViewTypeValues.viewComment&&/*#__PURE__*/_jsx(\"div\",{className:css.detailView,children:comment}),resourceType===ResourceViewTypeValues.viewWritingFeedback&&/*#__PURE__*/_jsx(\"div\",{className:css.detailView,children:comment?comment:d(\"No feedback has been provided to this file.\").t(\"assessment_hfs_no_teacher_feedback\")}),showAudioRecorder(resourceType)&&/*#__PURE__*/_jsx(\"div\",{className:css.detailView,children:/*#__PURE__*/_jsx(ApolloProvider,{client:audioClient,children:/*#__PURE__*/_jsx(AudioView,{resourceType:resourceType,userId:userId,roomId:roomId,h5pId:h5pId,h5pSubId:h5pSubId,client:audioClient})})}),isScreenShorts&&/*#__PURE__*/_jsx(\"div\",{className:css.screenShortsCon,children:/*#__PURE__*/_jsx(ApolloProvider,{client:audioClient,children:/*#__PURE__*/_jsx(ScreenShorts,{resourceType:contentSubType,userId:userId,roomId:roomId,h5pId:h5pId,h5pSubId:h5pSubId})})}),resourceType===ResourceViewTypeValues.editComment&&/*#__PURE__*/_jsx(\"div\",{className:css.detailView,children:/*#__PURE__*/_jsx(Controller,{style:{width:\"100%\"},name:\"comment\",as:TextField,control:control,defaultValue:comment,multiline:true,minRows:8,maxRows:8,variant:\"outlined\",placeholder:d(\"Leave a message to your student!\").t(\"assess_popup_leave_msg\"),inputProps:{maxLength:500},InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(BorderColorIcon,{style:{fontSize:\"15px\",position:\"absolute\",top:\"20px\",left:\"5px\"}})})}})}),resourceType===ResourceViewTypeValues.editScore&&/*#__PURE__*/_jsx(Controller,{name:\"assess_score\",control:control,defaultValue:score,render:function render(_ref){var value=_ref.value,_onChange=_ref.onChange;return/*#__PURE__*/_jsx(ScoreInput,{disabled:false,optionNames:[d(\"Poor\").t(\"assess_score_poor\"),d(\"Fair\").t(\"assess_score_fair\"),d(\"Average\").t(\"assess_score_average\"),d(\"Good\").t(\"assess_score_good\"),d(\"Excellent\").t(\"assess_score_excellent\")],optionValues:[1,2,3,4,5],optionColors:[\"#d32f2f\",\"#DC6F17\",\"#FFC107\",\"#A1CC41\",\"#4CAF50\"],optionIcons:[SentimentVeryDissatisfiedOutlined,SentimentVeryDissatisfiedOutlined,SentimentSatisfied,SentimentSatisfiedOutlined,SentimentVerySatisfiedOutlined],value:value,onChange:function onChange(e){return _onChange(Number(e.target.value));}});}},\"assess_score:\".concat(score)),resourceType===ResourceViewTypeValues.selectImg&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Controller,{name:\"assignments\",control:control,defaultValue:assignments?assignments[0].attachment_id:\"\",render:function render(_ref2){var value=_ref2.value,_onChange2=_ref2.onChange;return/*#__PURE__*/_jsx(ImgSelect,{assignments:assignments,value:value,onChange:function onChange(e){return _onChange2(e.target.value);}});}})})]}),showActionBtn&&/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{autoFocus:true,onClick:onClose,color:\"primary\",variant:\"outlined\",children:d(\"CANCEL\").t(\"general_button_CANCEL\")}),/*#__PURE__*/_jsx(Button,{onClick:handleOk,color:\"primary\",variant:\"contained\",className:css.okBtn,children:d(\"OK\").t(\"general_button_OK\")})]})]})});}export function useResourceView(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),active=_useState2[0],setActive=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),resourceViewShowIndex=_useState4[0],setResoutceViewShowIndex=_useState4[1];return useMemo(function(){return{resourceViewShowIndex:resourceViewShowIndex,resourceViewActive:active,openResourceView:function openResourceView(){setResoutceViewShowIndex(resourceViewShowIndex+1);setActive(true);},closeResourceView:function closeResourceView(){return setActive(false);}};},[active,resourceViewShowIndex]);}export function DrawingFeedback(props){var css=useStyles();var open=props.open,attachment=props.attachment,studentId=props.studentId,dialogType=props.dialogType,onClose=props.onClose,onOpenSelectImage=props.onOpenSelectImage,onSaveDrawFeedback=props.onSaveDrawFeedback,onClickExit=props.onClickExit;var sketchRef=useRef(null);var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),hasTraces=_useState6[0],setHasTraces=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),hasSaved=_useState8[0],setHasSaved=_useState8[1];var resourceId=attachment!==null&&attachment!==void 0&&attachment.review_attachment_id?attachment.review_attachment_id:attachment===null||attachment===void 0?void 0:attachment.attachment_id;var initResourceId=attachment===null||attachment===void 0?void 0:attachment.attachment_id;var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),pictureUrl=_useState10[0],setPictureUrl=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),pictureInitUrl=_useState12[0],setPictureInitUrl=_useState12[1];var _useTheme=useTheme(),breakpoints=_useTheme.breakpoints;var mobile=useMediaQuery(breakpoints.down(900));var handleClickSelectImage=function handleClickSelectImage(){onOpenSelectImage&&onOpenSelectImage(studentId,hasSaved?false:hasTraces);};var handleClickSave=function handleClickSave(){setHasSaved(true);var current=sketchRef.current;var imgObj=current.dataURLtoObject(attachment===null||attachment===void 0?void 0:attachment.attachment_name,\"obj\");onSaveDrawFeedback&&onSaveDrawFeedback(studentId,imgObj);};var handleChangePic=function handleChangePic(value){var hasTraces=value.isTraces;setHasSaved(false);setHasTraces(hasTraces);};var handleClickExit=function handleClickExit(){onClickExit&&onClickExit(hasSaved?false:hasTraces);};useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var path,initPath;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!resourceId){_context.next=5;break;}_context.next=3;return getPicRealPath(resourceId);case 3:path=_context.sent;setPictureUrl(path);case 5:if(!initResourceId){_context.next=10;break;}_context.next=8;return getPicRealPath(initResourceId);case 8:initPath=_context.sent;setPictureInitUrl(initPath);case 10:case\"end\":return _context.stop();}}},_callee);}))();},[resourceId,initResourceId]);return/*#__PURE__*/_jsxs(Dialog,{open:open,fullWidth:true,maxWidth:dialogType===\"edit\"?\"lg\":attachment!==null&&attachment!==void 0&&attachment.review_attachment_id?\"lg\":\"sm\",children:[/*#__PURE__*/_jsx(DialogTitle,{children:/*#__PURE__*/_jsxs(\"div\",{className:css.titleBar,children:[/*#__PURE__*/_jsx(\"span\",{children:attachment===null||attachment===void 0?void 0:attachment.attachment_name}),dialogType===\"edit\"?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{startIcon:/*#__PURE__*/_jsx(ImageOutlined,{}),onClick:handleClickSelectImage,children:d(\"Select Image\").t(\"assessmeng_hfs_select_image\")}),/*#__PURE__*/_jsx(Button,{disabled:hasSaved?true:!hasTraces,startIcon:/*#__PURE__*/_jsx(SaveOutlined,{}),onClick:handleClickSave,children:d(\"Done\").t(\"assessment_hfs_drawing_feedback_done\")}),/*#__PURE__*/_jsx(Button,{startIcon:/*#__PURE__*/_jsx(ExitToAppOutlined,{}),onClick:handleClickExit,children:d(\"Exit\").t(\"assessment_hfs_drawing_feedback_exit\")})]}):/*#__PURE__*/_jsx(IconButton,{onClick:onClose,className:css.closeBtn,children:/*#__PURE__*/_jsx(Close,{})})]})}),/*#__PURE__*/_jsx(DialogContent,{children:dialogType===\"edit\"?/*#__PURE__*/_jsx(UiSketch,{ref:sketchRef,width:mobile?1000:1000,height:650,pictureUrl:pictureUrl,pictureInitUrl:pictureInitUrl,onChange:handleChangePic}):/*#__PURE__*/_jsx(\"div\",{className:css.imgCon,children:attachment!==null&&attachment!==void 0&&attachment.review_attachment_id?/*#__PURE__*/_jsx(AssetImg,{src:pictureUrl}):d(\"No feedback has been provided to this file.\").t(\"assessment_hfs_no_teacher_feedback\")})})]});}export function useDrawingFeedback(){var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),active=_useState14[0],setActive=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),drawingFeedbackIndex=_useState16[0],setDrawingFeedbackIndex=_useState16[1];return useMemo(function(){return{drawingFeedbackIndex:drawingFeedbackIndex,drawingFeedbackActive:active,openDrawingFeedback:function openDrawingFeedback(){setDrawingFeedbackIndex(drawingFeedbackIndex+1);setActive(true);},closeDrawingFeedback:function closeDrawingFeedback(){return setActive(false);}};},[active,drawingFeedbackIndex]);}","map":{"version":3,"names":["getPicRealPath","audioClient","ApolloProvider","AssetImg","UiSketch","Button","createStyles","Dialog","DialogActions","DialogContent","DialogTitle","IconButton","InputAdornment","makeStyles","TextField","useMediaQuery","useTheme","Close","ExitToAppOutlined","ImageOutlined","SaveOutlined","SentimentSatisfied","SentimentSatisfiedOutlined","SentimentVeryDissatisfiedOutlined","SentimentVerySatisfiedOutlined","BorderColorIcon","React","useEffect","useMemo","useRef","useState","Controller","useForm","d","AudioView","ImgSelect","ScoreInput","ScreenShorts","ResourceViewTypeValues","useStyles","theme","closeBtn","position","top","spacing","right","title","borderBottom","detailView","padding","lineHeight","overflow","textAlign","wordBreak","width","boxShadow","borderRadius","backgroundColor","screenShortsContent","screenShortsCon","maxHeight","imgCon","minWidth","display","alignItems","justifyContent","margin","okBtn","marginLeft","titleBar","fontWeight","showAudioRecorder","type","types","indexOf","showScreenShort","subContentId","mutipleScreenShortsTypes","ResourceView","props","css","resourceType","open","answer","comment","studentId","h5pId","roomId","userId","h5pSubId","score","assignments","dialogType","contentSubType","onChangeComment","onClose","onChangeScore","onOpenDrawFeedback","showClose","editScore","selectImg","showActionBtn","editComment","isScreenShorts","viewScreenshots","formMethods","control","getValues","handleOk","selectedAssignmentId","selectedAssignment","find","item","attachment_id","essay","t","viewComment","viewWritingFeedback","maxLength","startAdornment","fontSize","left","value","onChange","e","Number","target","useResourceView","active","setActive","resourceViewShowIndex","setResoutceViewShowIndex","resourceViewActive","openResourceView","closeResourceView","DrawingFeedback","attachment","onOpenSelectImage","onSaveDrawFeedback","onClickExit","sketchRef","hasTraces","setHasTraces","hasSaved","setHasSaved","resourceId","review_attachment_id","initResourceId","pictureUrl","setPictureUrl","pictureInitUrl","setPictureInitUrl","breakpoints","mobile","down","handleClickSelectImage","handleClickSave","current","imgObj","dataURLtoObject","attachment_name","handleChangePic","isTraces","handleClickExit","path","initPath","useDrawingFeedback","drawingFeedbackIndex","setDrawingFeedbackIndex","drawingFeedbackActive","openDrawingFeedback","closeDrawingFeedback"],"sources":["/Users/evik/kl/project-2024/klasmart-assessment-frontend/src/pages/DetailAssessment/ResourceView.tsx"],"sourcesContent":["import { getPicRealPath } from \"@api/extra\";\nimport { audioClient } from \"@api/index\";\nimport { ApolloProvider } from \"@apollo/client\";\nimport AssetImg from \"@components/UIAssetPreview/AssetPreview/AssetImg\";\nimport { SketchChangeProps, UiSketch } from \"@components/UISketch\";\nimport {\n  Button,\n  createStyles,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  IconButton,\n  InputAdornment,\n  makeStyles,\n  TextField,\n  useMediaQuery,\n  useTheme\n} from \"@material-ui/core\";\nimport {\n  Close,\n  ExitToAppOutlined,\n  ImageOutlined,\n  SaveOutlined,\n  SentimentSatisfied,\n  SentimentSatisfiedOutlined,\n  SentimentVeryDissatisfiedOutlined,\n  SentimentVerySatisfiedOutlined\n} from \"@material-ui/icons\";\nimport BorderColorIcon from \"@material-ui/icons/BorderColor\";\nimport { DetailAssessmentResultAssignment, DetailAssessmentResultFeedback } from \"@pages/ListAssessment/types\";\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport { d } from \"../../locale/LocaleManager\";\nimport AudioView from \"./AudioView\";\nimport { ImgSelect, ScoreInput } from \"./HomefunView\";\nimport { ScreenShorts } from \"./ScreenShorts\";\nimport { ResourceViewTypeValues, StudenmtViewItemResultProps } from \"./type\";\nconst useStyles = makeStyles((theme) =>\n  createStyles({\n    closeBtn: {\n      position: \"absolute\",\n      top: theme.spacing(1),\n      right: theme.spacing(1),\n    },\n    title: {\n      borderBottom: \"1px solid #eeeeee\",\n    },\n    detailView: {\n      padding: \"12px\",\n      lineHeight: \"30px\",\n      // maxHeight: \"900px\",\n      // minWidth: \"400px\",\n      overflow: \"auto\",\n      textAlign: \"center\",\n      wordBreak: \"break-all\",\n      \"&::-webkit-scrollbar\": {\n        width: \"3px\",\n      },\n      \"&::-webkit-scrollbar-track\": {\n        boxShadow: \"inset 0 0 6px rgba(0,0,0,0.3)\",\n      },\n      \"&::-webkit-scrollbar-thumb\": {\n        borderRadius: \"3px\",\n        backgroundColor: \"rgb(220, 220, 220)\",\n        boxShadow: \"inset 0 0 3px rgba(0,0,0,0.5)\",\n      },\n      \"&::-webkit-scrollbar-thumb:window-inactive\": {\n        backgroundColor: \"rgba(220,220,220,0.4)\",\n      },\n    },\n    screenShortsContent: {\n      backgroundColor: \"#E9F2FA\",\n    },\n    screenShortsCon: {\n      maxHeight: \"750px\",\n      textAlign: \"center\",\n    },\n    imgCon: {\n      maxHeight: \"650px\",\n      minWidth: \"400px\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      margin: \"20px 0\",\n    },\n    okBtn: {\n      marginLeft: \"40px !important\",\n    },\n    titleBar: {\n      fontWeight: 600,\n      display: \"flex\",\n      justifyContent: \"space-between\",\n    },\n  })\n);\n\nexport const showAudioRecorder = (type?: string) => {\n  const types = [\"AudioRecorder\", \"SpeakTheWordsSet\", \"SpeakTheWords\"];\n  return types.indexOf(type as string) >= 0;\n};\nexport const showScreenShort = (type?: string, subContentId?: string) => {\n  const mutipleScreenShortsTypes = [\"Summary\", \"SingleChoiceSet\", \"ArithmeticQuiz\", \"Flashcards\", \"Dictation\", \"Dialogcards\"];\n  const types = [\n    \"AdvancedBlanks\",\n    \"DragQuestion\",\n    \"DragText\",\n    \"Blanks\",\n    \"ImageMultipleHotspotQuestion\",\n    \"ImageHotspotQuestion\",\n    \"FindTheWords\",\n    \"ImagePair\",\n    \"ImageSequencing\",\n    \"DictationSentence\",\n    \"DialogcardsCard\",\n    \"ArithmeticQuizPage\",\n  ];\n  if(mutipleScreenShortsTypes.indexOf(type as string) >= 0) {\n    if(subContentId) {\n      return true\n    } else {\n      return false\n    }\n  } else {\n    return types.indexOf(type as string) >= 0;\n  }\n};\nexport interface ResourceViewProps {\n  open: boolean;\n  resourceType: ResourceViewTypeValues;\n  answer?: string;\n  comment?: string;\n  studentId?: string;\n  roomId?: string;\n  h5pId?: string;\n  userId?: string;\n  h5pSubId?: string;\n  score?: StudenmtViewItemResultProps[\"assess_score\"];\n  assignments?: DetailAssessmentResultFeedback[\"assignments\"];\n  hasSaved?: boolean;\n  dialogType?: string;\n  contentSubType?: string;\n  onClose: () => void;\n  onChangeComment?: (studentId?: string, comment?: string) => void;\n  onChangeScore?: (studentId?: string, score?: StudenmtViewItemResultProps[\"assess_score\"]) => void;\n  onOpenDrawFeedback?: (dialogType: string, studentId?: string, assignment?: DetailAssessmentResultAssignment) => void;\n}\nexport function ResourceView(props: ResourceViewProps) {\n  const css = useStyles();\n  const {\n    resourceType,\n    open,\n    answer,\n    comment,\n    studentId,\n    h5pId,\n    roomId,\n    userId,\n    h5pSubId,\n    score,\n    assignments,\n    dialogType,\n    contentSubType,\n    onChangeComment,\n    onClose,\n    onChangeScore,\n    onOpenDrawFeedback,\n  } = props;\n  const showClose = resourceType !== ResourceViewTypeValues.editScore && resourceType !== ResourceViewTypeValues.selectImg;\n  const showActionBtn =\n    resourceType === ResourceViewTypeValues.editComment ||\n    resourceType === ResourceViewTypeValues.editScore ||\n    resourceType === ResourceViewTypeValues.selectImg;\n  const isScreenShorts = resourceType === ResourceViewTypeValues.viewScreenshots;\n  const formMethods = useForm();\n  const { control, getValues } = formMethods;\n  const handleOk = () => {\n    onClose();\n    if (resourceType === ResourceViewTypeValues.editComment) {\n      const comment = getValues()[\"comment\"];\n      onChangeComment && onChangeComment(studentId, comment);\n    }\n    if (resourceType === ResourceViewTypeValues.editScore) {\n      const score = getValues()[\"assess_score\"] as StudenmtViewItemResultProps[\"assess_score\"];\n      onChangeScore && onChangeScore(studentId, score);\n    }\n    if (resourceType === ResourceViewTypeValues.selectImg) {\n      const selectedAssignmentId = getValues()[\"assignments\"];\n      const selectedAssignment = assignments?.find((item) => item.attachment_id === selectedAssignmentId);\n      onOpenDrawFeedback && onOpenDrawFeedback(dialogType as string, studentId, selectedAssignment);\n    }\n  };\n  return (\n    <>\n      <Dialog open={open} fullWidth maxWidth={isScreenShorts ? \"md\" : \"sm\"}>\n        <DialogTitle className={resourceType === ResourceViewTypeValues.editScore ? \"\" : css.title}>\n          {(resourceType === ResourceViewTypeValues.essay || showAudioRecorder(resourceType)) &&\n            d(\"Detailed Answer\").t(\"assess_popup_detailed_answer\")}\n          {resourceType === ResourceViewTypeValues.viewComment && d(\"View Comments\").t(\"assess_popup_view_comments\")}\n          {resourceType === ResourceViewTypeValues.editComment && d(\"Add Comments\").t(\"assess_popup_add_comments\")}\n          {resourceType === ResourceViewTypeValues.viewWritingFeedback &&\n            d(\"View Writing Feedback\").t(\"assessment_hfs_view_writing_feedback\")}\n          {resourceType === ResourceViewTypeValues.selectImg && d(\"Select a file to provide feedback\").t(\"assessment_hfs_select_file\")}\n          {isScreenShorts && d(\"Results Screen\").t(\"assessment_detail_screenshot_result_screen\")}\n          {showClose && (\n            <IconButton onClick={onClose} className={css.closeBtn}>\n              <Close />\n            </IconButton>\n          )}\n        </DialogTitle>\n        <DialogContent className={isScreenShorts ? css.screenShortsContent : \"\"}>\n          {resourceType === ResourceViewTypeValues.essay && <div className={css.detailView}>{answer ? answer : d(\"An answer has not been submitted by the student.\").t(\"assessment_detail_essay_no_result\")}</div>}\n          {resourceType === ResourceViewTypeValues.viewComment && <div className={css.detailView}>{comment}</div>}\n          {resourceType === ResourceViewTypeValues.viewWritingFeedback && (\n            <div className={css.detailView}>\n              {comment ? comment : d(\"No feedback has been provided to this file.\").t(\"assessment_hfs_no_teacher_feedback\")}\n            </div>\n          )}\n          {showAudioRecorder(resourceType) && (\n            <div className={css.detailView}>\n              <ApolloProvider client={audioClient}>\n                <AudioView\n                  resourceType={resourceType}\n                  userId={userId as string}\n                  roomId={roomId as string}\n                  h5pId={h5pId as string}\n                  h5pSubId={h5pSubId}\n                  client={audioClient}\n                />\n              </ApolloProvider>\n            </div>\n          )}\n          {isScreenShorts && (\n            <div className={css.screenShortsCon}>\n              <ApolloProvider client={audioClient}>\n                <ScreenShorts\n                  resourceType={contentSubType}\n                  userId={userId as string}\n                  roomId={roomId as string}\n                  h5pId={h5pId as string}\n                  h5pSubId={h5pSubId}\n                />\n              </ApolloProvider>\n            </div>\n          )}\n          {resourceType === ResourceViewTypeValues.editComment && (\n            <div className={css.detailView}>\n              <Controller\n                style={{ width: \"100%\" }}\n                name={\"comment\"}\n                as={TextField}\n                control={control}\n                defaultValue={comment}\n                multiline\n                minRows={8}\n                maxRows={8}\n                variant=\"outlined\"\n                placeholder={d(\"Leave a message to your student!\").t(\"assess_popup_leave_msg\")}\n                inputProps={{ maxLength: 500 }}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <BorderColorIcon style={{ fontSize: \"15px\", position: \"absolute\", top: \"20px\", left: \"5px\" }} />\n                    </InputAdornment>\n                  ),\n                }}\n              />\n            </div>\n          )}\n          {resourceType === ResourceViewTypeValues.editScore && (\n            <Controller\n              name=\"assess_score\"\n              control={control}\n              defaultValue={score}\n              key={`assess_score:${score}`}\n              render={({ value, onChange }) => (\n                <ScoreInput\n                  disabled={false}\n                  optionNames={[\n                    d(\"Poor\").t(\"assess_score_poor\"),\n                    d(\"Fair\").t(\"assess_score_fair\"),\n                    d(\"Average\").t(\"assess_score_average\"),\n                    d(\"Good\").t(\"assess_score_good\"),\n                    d(\"Excellent\").t(\"assess_score_excellent\"),\n                  ]}\n                  optionValues={[1, 2, 3, 4, 5]}\n                  optionColors={[\"#d32f2f\", \"#DC6F17\", \"#FFC107\", \"#A1CC41\", \"#4CAF50\"]}\n                  optionIcons={[\n                    SentimentVeryDissatisfiedOutlined,\n                    SentimentVeryDissatisfiedOutlined,\n                    SentimentSatisfied,\n                    SentimentSatisfiedOutlined,\n                    SentimentVerySatisfiedOutlined,\n                  ]}\n                  value={value}\n                  onChange={(e: { target: { value: any } }) => onChange(Number(e.target.value))}\n                />\n              )}\n            />\n          )}\n          {resourceType === ResourceViewTypeValues.selectImg && (\n            <>\n              <Controller\n                name=\"assignments\"\n                control={control}\n                defaultValue={assignments ? assignments[0].attachment_id : \"\"}\n                render={({ value, onChange }) => (\n                  <ImgSelect\n                    assignments={assignments}\n                    value={value}\n                    onChange={(e: { target: { value: any } }) => onChange(e.target.value)}\n                  />\n                )}\n              />\n            </>\n          )}\n        </DialogContent>\n        {showActionBtn && (\n          <DialogActions>\n            <Button autoFocus onClick={onClose} color=\"primary\" variant=\"outlined\">\n              {d(\"CANCEL\").t(\"general_button_CANCEL\")}\n            </Button>\n            <Button onClick={handleOk} color=\"primary\" variant=\"contained\" className={css.okBtn}>\n              {d(\"OK\").t(\"general_button_OK\")}\n            </Button>\n          </DialogActions>\n        )}\n      </Dialog>\n    </>\n  );\n}\n\nexport function useResourceView() {\n  const [active, setActive] = useState(false);\n  const [resourceViewShowIndex, setResoutceViewShowIndex] = useState(0);\n  return useMemo(\n    () => ({\n      resourceViewShowIndex,\n      resourceViewActive: active,\n      openResourceView: () => {\n        setResoutceViewShowIndex(resourceViewShowIndex + 1);\n        setActive(true);\n      },\n      closeResourceView: () => setActive(false),\n    }),\n    [active, resourceViewShowIndex]\n  );\n}\n\nexport interface DrawingFeedbackProps {\n  open: boolean;\n  dialogType: string;\n  attachment?: DetailAssessmentResultAssignment;\n  studentId?: string;\n  onClose: () => any;\n  onOpenSelectImage?: (studentId?: string, hasSaved?: boolean) => void;\n  onSaveDrawFeedback?: (studentId?: string, imgObj?: string) => void;\n  onClickExit?: (hasSaved?: boolean) => void;\n}\nexport function DrawingFeedback(props: DrawingFeedbackProps) {\n  const css = useStyles();\n  const { open, attachment, studentId, dialogType, onClose, onOpenSelectImage, onSaveDrawFeedback, onClickExit } = props;\n  const sketchRef = useRef<any>(null);\n  const [hasTraces, setHasTraces] = useState<boolean>(false);\n  const [hasSaved, setHasSaved] = useState<boolean>(false);\n  const resourceId = attachment?.review_attachment_id ? attachment.review_attachment_id : attachment?.attachment_id;\n  const initResourceId = attachment?.attachment_id;\n  const [pictureUrl, setPictureUrl] = useState<string | undefined>();\n  const [pictureInitUrl, setPictureInitUrl] = useState<string | undefined>();\n  const { breakpoints } = useTheme();\n  const mobile = useMediaQuery(breakpoints.down(900));\n\n  const handleClickSelectImage = () => {\n    onOpenSelectImage && onOpenSelectImage(studentId, hasSaved ? false : hasTraces);\n  };\n\n  const handleClickSave = () => {\n    setHasSaved(true);\n    const current = sketchRef.current;\n    const imgObj = current.dataURLtoObject(attachment?.attachment_name, \"obj\");\n    onSaveDrawFeedback && onSaveDrawFeedback(studentId, imgObj);\n  };\n\n  const handleChangePic = (value: SketchChangeProps) => {\n    const hasTraces = value.isTraces;\n    setHasSaved(false);\n    setHasTraces(hasTraces);\n  };\n\n  const handleClickExit = () => {\n    onClickExit && onClickExit(hasSaved ? false : hasTraces);\n  };\n\n useEffect(() => {\n   (async() => {\n    if (resourceId) {\n      const path = await getPicRealPath(resourceId);\n      setPictureUrl(path);\n    }\n    if (initResourceId) {\n      const initPath = await getPicRealPath(initResourceId);\n      setPictureInitUrl(initPath)\n    }\n  })()\n }, [resourceId, initResourceId])\n\n  return (\n    <Dialog open={open} fullWidth maxWidth={dialogType === \"edit\" ? \"lg\" : attachment?.review_attachment_id ? \"lg\" : \"sm\"}>\n      <DialogTitle>\n        <div className={css.titleBar}>\n          <span>{attachment?.attachment_name}</span>\n          {dialogType === \"edit\" ? (\n            <div>\n              <Button startIcon={<ImageOutlined />} onClick={handleClickSelectImage}>\n                {d(\"Select Image\").t(\"assessmeng_hfs_select_image\")}\n              </Button>\n              <Button disabled={hasSaved ? true : !hasTraces} startIcon={<SaveOutlined />} onClick={handleClickSave}>\n                {d(\"Done\").t(\"assessment_hfs_drawing_feedback_done\")}\n              </Button>\n              <Button startIcon={<ExitToAppOutlined />} onClick={handleClickExit}>\n                {d(\"Exit\").t(\"assessment_hfs_drawing_feedback_exit\")}\n              </Button>\n            </div>\n          ) : (\n            <IconButton onClick={onClose} className={css.closeBtn}>\n              <Close />\n            </IconButton>\n          )}\n        </div>\n      </DialogTitle>\n      <DialogContent>\n        {dialogType === \"edit\" ? (\n          <UiSketch\n            ref={sketchRef}\n            width={mobile ? 1000 : 1000}\n            height={650}\n            pictureUrl={pictureUrl}\n            pictureInitUrl={pictureInitUrl}\n            onChange={handleChangePic}\n          />\n        ) : (\n          <div className={css.imgCon}>\n            {attachment?.review_attachment_id ? (\n              <AssetImg src={pictureUrl} />\n            ) : (\n              d(\"No feedback has been provided to this file.\").t(\"assessment_hfs_no_teacher_feedback\")\n            )}\n          </div>\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nexport function useDrawingFeedback() {\n  const [active, setActive] = useState(false);\n  const [drawingFeedbackIndex, setDrawingFeedbackIndex] = useState(0);\n  return useMemo(\n    () => ({\n      drawingFeedbackIndex,\n      drawingFeedbackActive: active,\n      openDrawingFeedback: () => {\n        setDrawingFeedbackIndex(drawingFeedbackIndex + 1);\n        setActive(true);\n      },\n      closeDrawingFeedback: () => setActive(false),\n    }),\n    [active, drawingFeedbackIndex]\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}