{"ast":null,"code":"var START_REGEX=/\\/pending$/;var END_REGEX=/\\/fulfilled$|\\/rejected$/;export function createLoadingMiddleware(options){var loadingMiddleware=function loadingMiddleware(store){return function(next){return function(action){var _action$meta,_action$meta$arg;if(!(action!==null&&action!==void 0&&(_action$meta=action.meta)!==null&&_action$meta!==void 0&&(_action$meta$arg=_action$meta.arg)!==null&&_action$meta$arg!==void 0&&_action$meta$arg.metaLoading))return next(action);if(START_REGEX.test(action.type))store.dispatch(options.enableLoadingPayload);if(END_REGEX.test(action.type))store.dispatch(options.disableLoadingPayload);return next(action);};};};return loadingMiddleware;}","map":{"version":3,"names":["START_REGEX","END_REGEX","createLoadingMiddleware","options","loadingMiddleware","store","next","action","meta","arg","metaLoading","test","type","dispatch","enableLoadingPayload","disableLoadingPayload"],"sources":["/Users/evik/kl/project-2024/klasmart-assessment-frontend/src/reducers/middleware/loadingMiddleware.ts"],"sourcesContent":["import { PayloadAction } from \"@reduxjs/toolkit\";\nimport { Middleware } from \"redux\";\n\nexport interface LoadingMetaPayload {\n  metaLoading?: boolean;\n}\n\ninterface Meta {\n  arg: any;\n  requestId: string;\n}\n\nconst START_REGEX = /\\/pending$/;\nconst END_REGEX = /\\/fulfilled$|\\/rejected$/;\n\ninterface LoadingMiddlewareOptions {\n  enableLoadingPayload: PayloadAction<any, string>;\n  disableLoadingPayload: PayloadAction<any, string>;\n}\n\nexport function createLoadingMiddleware(options: LoadingMiddlewareOptions) {\n  const loadingMiddleware: Middleware<{}, any> = (store) => (next) => (action: PayloadAction<any, string, Meta>) => {\n    if (!action?.meta?.arg?.metaLoading) return next(action);\n    if (START_REGEX.test(action.type)) store.dispatch(options.enableLoadingPayload);\n    if (END_REGEX.test(action.type)) store.dispatch(options.disableLoadingPayload);\n    return next(action);\n  };\n  return loadingMiddleware;\n}\n"],"mappings":"AAYA,GAAMA,CAAAA,WAAW,CAAG,YAApB,CACA,GAAMC,CAAAA,SAAS,CAAG,0BAAlB,CAOA,MAAO,SAASC,CAAAA,uBAAT,CAAiCC,OAAjC,CAAoE,CACzE,GAAMC,CAAAA,iBAAsC,CAAG,QAAzCA,CAAAA,iBAAyC,CAACC,KAAD,QAAW,UAACC,IAAD,QAAU,UAACC,MAAD,CAA8C,mCAChH,GAAI,EAACA,MAAD,SAACA,MAAD,yBAACA,MAAM,CAAEC,IAAT,mDAAC,aAAcC,GAAf,qCAAC,iBAAmBC,WAApB,CAAJ,CAAqC,MAAOJ,CAAAA,IAAI,CAACC,MAAD,CAAX,CACrC,GAAIP,WAAW,CAACW,IAAZ,CAAiBJ,MAAM,CAACK,IAAxB,CAAJ,CAAmCP,KAAK,CAACQ,QAAN,CAAeV,OAAO,CAACW,oBAAvB,EACnC,GAAIb,SAAS,CAACU,IAAV,CAAeJ,MAAM,CAACK,IAAtB,CAAJ,CAAiCP,KAAK,CAACQ,QAAN,CAAeV,OAAO,CAACY,qBAAvB,EACjC,MAAOT,CAAAA,IAAI,CAACC,MAAD,CAAX,CACD,CALyD,EAAX,EAA/C,CAMA,MAAOH,CAAAA,iBAAP,CACD"},"metadata":{},"sourceType":"module"}