{"ast":null,"code":"import _asyncToGenerator from\"/Users/evik/kl/project-2024/klasmart-assessment-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/Users/evik/kl/project-2024/klasmart-assessment-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/evik/kl/project-2024/klasmart-assessment-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/evik/kl/project-2024/klasmart-assessment-frontend/node_modules/@babel/runtime/regenerator/index.js\";import{DownloadButton}from\"@components/DownloadButton\";import{PLTableHeader}from\"@components/PLTable\";import{d}from\"@locale/LocaleManager\";import{Box,Checkbox,Collapse,FormControl,FormControlLabel,FormGroup,IconButton,makeStyles,Radio,RadioGroup,SvgIcon,Table,TableBody,TableCell,TableContainer,TableRow,Typography}from\"@material-ui/core\";import{GetApp}from\"@material-ui/icons\";import ArrowDropDownIcon from\"@material-ui/icons/ArrowDropDown\";import ArrowDropUpIcon from\"@material-ui/icons/ArrowDropUp\";import{formattedTime}from\"@models/ModelOutcomeDetailForm\";// import FactCheckOutlinedIcon from '@material-ui/icons/FactCheckOutlined';\nimport{actAsyncConfirm}from\"@reducers/confirm\";import{unwrapResult}from\"@reduxjs/toolkit\";import clsx from\"clsx\";import{cloneDeep}from\"lodash\";import{createElement,useMemo,useState}from\"react\";import{useDispatch}from\"react-redux\";import{ReactComponent as GetFeedbackIcon}from\"../../assets/icons/homefun_getfeedback.svg\";import{ReactComponent as NotSubmitted}from\"../../assets/icons/homefun_notsubmitted.svg\";import{ReactComponent as Submitted}from\"../../assets/icons/homefun_submitted.svg\";import{DrawingFeedback,ResourceView,useDrawingFeedback,useResourceView}from\"./ResourceView\";import{OutcomeStatus,ResourceViewTypeValues,StudentParticipate}from\"./type\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles({tableBar:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",padding:\"16px\",cursor:\"pointer\",backgroundColor:\"#F2F5F7\",height:48,boxSizing:\"content-box\",\"& div\":{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",\"& a\":{fontSize:\"14px\",color:\"#006CCF\"}},marginBottom:20},tableContainer:{marginTop:5,maxHeight:830,marginBottom:20},table:{minWidth:900,fontSize:\"14px !important\"},tableCellLine:{wordBreak:\"break-all\",\"&:not(:last-child)\":{// borderRight: \"1px solid #ebebeb\",\n}},assignmentTableContainer:{paddingBottom:40},assignmentTable:{// marginTop: 32,\n},assignmentTableHeader:{backgroundColor:\"#f2f5f7\"},assignmentTableHeaderItem:{height:80-32,color:\"#666666\",fontSize:15,fontFamily:\"Helvetica, Helvetica-Bold\",fontWeight:700},assignmentTableBodyItem:{borderRight:\"1px solid rgba(224, 224, 224, 1)\",\"&:last-child\":{borderRight:\"none\"}},assignmentDownloadRow:{padding:\"11px 24px 10px 20px\",display:\"flex\",justifyContent:\"space-between\",fontSize:16,fontFamily:\"Helvetica\",alignItems:\"center\"},scoreInput:{marginTop:30,marginBottom:30,width:\"100%\",display:\"flex\",justifyContent:\"space-around\"},scoreInputLabel:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},scoreInputTitle:{marginTop:6,fontSize:18},scoreIcon:{fontSize:30},scoreInputFormControlLabel:{// marginRight: 72 - 20,\n},comment:{marginTop:32,marginBottom:120,borderRadius:7},commentInput:{minHeight:200},actionWords:{color:\"#006CCF\",cursor:\"pointer\"},disableClick:{color:\"#999aaa\",pointerEvents:\"none\",cursor:\"default\"},title:{height:56,lineHeight:\"56px\",width:\"100%\",background:\"#F3F3F3\",textAlign:\"center\",borderBottom:\"1px solid #CCCCCC\"},imgSelect:{marginTop:30,marginBottom:30,width:\"100%\",display:\"flex\"},imgLable:{display:\"flex\",alignItems:\"center\",wordBreak:\"break-all\"},svgicon:{marginRight:\"5px\"},imgName:{wordBreak:\"break-all\"},nameCon:{display:\"flex\",alignItems:\"center\"}});export function Homefun(props){var css=useStyles();var dispatch=useDispatch();var editable=props.editable,students=props.students,subDimension=props.subDimension,onChangeHomefunStudent=props.onChangeHomefunStudent,onSaveDrawFeedback=props.onSaveDrawFeedback;var _useResourceView=useResourceView(),resourceViewActive=_useResourceView.resourceViewActive,resourceViewShowIndex=_useResourceView.resourceViewShowIndex,openResourceView=_useResourceView.openResourceView,closeResourceView=_useResourceView.closeResourceView;var _useDrawingFeedback=useDrawingFeedback(),drawingFeedbackActive=_useDrawingFeedback.drawingFeedbackActive,drawingFeedbackIndex=_useDrawingFeedback.drawingFeedbackIndex,openDrawingFeedback=_useDrawingFeedback.openDrawingFeedback,closeDrawingFeedback=_useDrawingFeedback.closeDrawingFeedback;var _useState=useState(),_useState2=_slicedToArray(_useState,2),studentId=_useState2[0],setStudentId=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),score=_useState4[0],setScore=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),comment=_useState6[0],setComment=_useState6[1];var _useState7=useState(ResourceViewTypeValues.selectImg),_useState8=_slicedToArray(_useState7,2),resourceType=_useState8[0],setResoutceType=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),assignments=_useState10[0],setAssignments=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),assignment=_useState12[0],setAssignment=_useState12[1];var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),hasSaved=_useState14[0],setHasSaved=_useState14[1];var _useState15=useState(\"edit\"),_useState16=_slicedToArray(_useState15,2),dialogType=_useState16[0],setDialogType=_useState16[1];var subDimensionIds=useMemo(function(){return subDimension.length?subDimension.map(function(item){return item.id;}):[];},[subDimension]);var initCheckArr=useMemo(function(){return subDimension.map(function(item){return true;})||[];},[subDimension]);var _useState17=useState(initCheckArr),_useState18=_slicedToArray(_useState17,2),checkedArr=_useState18[0],setCheckedArr=_useState18[1];var isSelectAll=subDimension.findIndex(function(item){return item.id===\"all\";})>=0?true:false;var toggleCheck=function toggleCheck(index){var arr=cloneDeep(checkedArr);if(arr[index]===undefined){arr[index]=false;}else{arr[index]=!checkedArr[index];}setCheckedArr(_toConsumableArray(arr));};var handleOpenEditScore=function handleOpenEditScore(sId,score){openResourceView();setResoutceType(ResourceViewTypeValues.editScore);setStudentId(sId);setScore(score);};var handleChangeScore=function handleChangeScore(studentId,score){var newStudents=cloneDeep(students);newStudents===null||newStudents===void 0?void 0:newStudents.forEach(function(sItem){if(sItem.student_id===studentId){if(sItem.results){sItem.results[0].assess_score=score;}}});onChangeHomefunStudent(newStudents);};var handleOpenWritingFeedback=function handleOpenWritingFeedback(sId,comment){openResourceView();setResoutceType(ResourceViewTypeValues.editComment);setStudentId(sId);setComment(comment);};var handleOpenViewWritingFeedback=function handleOpenViewWritingFeedback(sId,comment){openResourceView();setResoutceType(ResourceViewTypeValues.viewWritingFeedback);setStudentId(sId);setComment(comment);};var handleChangeComment=function handleChangeComment(studentId,comment){var newStudents=cloneDeep(students);newStudents===null||newStudents===void 0?void 0:newStudents.forEach(function(sItem){if(sItem.student_id===studentId){sItem.reviewer_comment=comment;}});onChangeHomefunStudent(newStudents);};var handleUpdateOutcomeStatus=function handleUpdateOutcomeStatus(value,outcome_id,student_id){var newStudents=cloneDeep(students);newStudents===null||newStudents===void 0?void 0:newStudents.forEach(function(sItem){if(sItem.student_id===student_id){if(sItem.results){var _sItem$results$,_sItem$results$$outco;(_sItem$results$=sItem.results[0])===null||_sItem$results$===void 0?void 0:(_sItem$results$$outco=_sItem$results$.outcomes)===null||_sItem$results$$outco===void 0?void 0:_sItem$results$$outco.forEach(function(oItem){if(oItem.outcome_id===outcome_id){oItem.status=value;}});}}});onChangeHomefunStudent(newStudents);};var handleOpenSelectImg=function handleOpenSelectImg(type,sId,assignments){openResourceView();setResoutceType(ResourceViewTypeValues.selectImg);setStudentId(sId);setAssignments(assignments);setDialogType(type);};var handleOpenSelectImageFromDrawing=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(sId,hasTraces){var content,_unwrapResult,isConfirmed,student,results,student_feed_backs,newassignments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!hasTraces){_context.next=10;break;}content=d(\"Discard unsaved changes?\").t(\"assess_msg_discard\");_context.t0=unwrapResult;_context.next=5;return dispatch(actAsyncConfirm({content:content,cancelText:d(\"Cancel\").t(\"assess_button_cancel\"),confirmText:d(\"Discard\").t(\"assess_button_discard\")}));case 5:_context.t1=_context.sent;_unwrapResult=(0,_context.t0)(_context.t1);isConfirmed=_unwrapResult.isConfirmed;if(isConfirmed){_context.next=10;break;}return _context.abrupt(\"return\",Promise.reject());case 10:closeDrawingFeedback();openResourceView();setResoutceType(ResourceViewTypeValues.selectImg);setStudentId(sId);student=students===null||students===void 0?void 0:students.find(function(item){return item.student_id===sId;});results=student&&student.results;if(results&&results.length){student_feed_backs=results[0].student_feed_backs;if(student_feed_backs&&student_feed_backs.length){newassignments=student_feed_backs[0].assignments;setAssignments(newassignments);}}case 17:case\"end\":return _context.stop();}}},_callee);}));return function handleOpenSelectImageFromDrawing(_x,_x2){return _ref.apply(this,arguments);};}();var handleOpenDrawingFeedback=function handleOpenDrawingFeedback(dialogType,sId,assignment){openDrawingFeedback();setStudentId(sId);setAssignment(assignment);setDialogType(dialogType);};var handleSaveDrawFeedback=function handleSaveDrawFeedback(sId,imgObj){setHasSaved(true);onSaveDrawFeedback(sId,assignment===null||assignment===void 0?void 0:assignment.id,imgObj);};var handleClickExit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(hasTraces){var content,_unwrapResult2,isConfirmed,student,results,student_feed_backs,newassignments;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!hasTraces){_context2.next=10;break;}content=d(\"Discard unsaved changes?\").t(\"assess_msg_discard\");_context2.t0=unwrapResult;_context2.next=5;return dispatch(actAsyncConfirm({content:content,cancelText:d(\"Cancel\").t(\"assess_button_cancel\"),confirmText:d(\"Discard\").t(\"assess_button_discard\")}));case 5:_context2.t1=_context2.sent;_unwrapResult2=(0,_context2.t0)(_context2.t1);isConfirmed=_unwrapResult2.isConfirmed;if(isConfirmed){_context2.next=10;break;}return _context2.abrupt(\"return\",Promise.reject());case 10:closeDrawingFeedback();student=students===null||students===void 0?void 0:students.find(function(item){return item.student_id===studentId;});results=student&&student.results;if(results&&results.length){student_feed_backs=results[0].student_feed_backs;if(student_feed_backs&&student_feed_backs.length){newassignments=student_feed_backs[0].assignments;handleOpenSelectImg(\"edit\",studentId,newassignments);}}case 14:case\"end\":return _context2.stop();}}},_callee2);}));return function handleClickExit(_x3){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[students===null||students===void 0?void 0:students.filter(function(item){return item.status===StudentParticipate.Participate;}).map(function(sItem,index){var _sItem$results$2,_sItem$results$3,_sItem$results$3$stud,_sItem$results$4,_sItem$results$5,_sItem$results$6,_sItem$results$7;return(isSelectAll?true:subDimensionIds.indexOf(sItem.student_id)>=0)&&/*#__PURE__*/_jsxs(TableContainer,{style:{marginBottom:\"20px\"},children:[/*#__PURE__*/_jsxs(Box,{className:css.tableBar,onClick:function onClick(e){return toggleCheck(index);},children:[/*#__PURE__*/_jsxs(\"div\",{children:[sItem.results&&sItem.results.length&&sItem.results[0].student_feed_backs&&sItem.results[0].student_feed_backs.length?/*#__PURE__*/_jsx(SvgIcon,{component:Submitted}):/*#__PURE__*/_jsx(SvgIcon,{component:NotSubmitted}),/*#__PURE__*/_jsx(\"span\",{style:{padding:\"0 18px 0 18px\"},children:sItem.student_name})]}),checkedArr[index]===undefined?/*#__PURE__*/_jsx(ArrowDropUpIcon,{}):checkedArr[index]?/*#__PURE__*/_jsx(ArrowDropUpIcon,{}):/*#__PURE__*/_jsx(ArrowDropDownIcon,{})]}),/*#__PURE__*/_jsxs(Collapse,{in:checkedArr[index]===undefined?true:checkedArr[index],children:[/*#__PURE__*/_jsx(Outcomes,{editable:editable,outcomes:sItem.results&&((_sItem$results$2=sItem.results[0])===null||_sItem$results$2===void 0?void 0:_sItem$results$2.outcomes),studentId:sItem.student_id,onUpdateOutcomeStatus:handleUpdateOutcomeStatus}),/*#__PURE__*/_jsx(AssessmentTable,{editable:editable,title:\"\",feedbacks:sItem.results&&(sItem===null||sItem===void 0?void 0:(_sItem$results$3=sItem.results[0])===null||_sItem$results$3===void 0?void 0:(_sItem$results$3$stud=_sItem$results$3.student_feed_backs)===null||_sItem$results$3$stud===void 0?void 0:_sItem$results$3$stud.slice(0,1)),studentName:sItem.student_name,studentReviewerComment:sItem.reviewer_comment,assess_score:sItem.results&&(sItem===null||sItem===void 0?void 0:(_sItem$results$4=sItem.results[0])===null||_sItem$results$4===void 0?void 0:_sItem$results$4.assess_score),studentId:sItem.student_id,onOpenEditScore:handleOpenEditScore,onOpenWritingFeedback:handleOpenWritingFeedback,onOpenSelectImg:handleOpenSelectImg,onOpenViewWritingFeedback:handleOpenViewWritingFeedback}),/*#__PURE__*/_jsx(AssessmentTable,{editable:editable,title:d(\"Submission History\").t(\"assess_submission_history\"),feedbacks:sItem.results&&((_sItem$results$5=sItem.results[0])===null||_sItem$results$5===void 0?void 0:_sItem$results$5.student_feed_backs)&&((_sItem$results$6=sItem.results[0])===null||_sItem$results$6===void 0?void 0:_sItem$results$6.student_feed_backs.slice(1)),studentName:sItem.student_name,assess_score:sItem.results&&((_sItem$results$7=sItem.results[0])===null||_sItem$results$7===void 0?void 0:_sItem$results$7.assess_score)})]})]},sItem.student_id);}),/*#__PURE__*/_jsx(ResourceView,{open:resourceViewActive,resourceType:resourceType,studentId:studentId,score:score,comment:comment,assignments:assignments,hasSaved:hasSaved,dialogType:dialogType,onChangeScore:handleChangeScore,onClose:closeResourceView,onChangeComment:handleChangeComment,onOpenDrawFeedback:handleOpenDrawingFeedback},resourceType+resourceViewShowIndex),/*#__PURE__*/_jsx(DrawingFeedback,{open:drawingFeedbackActive,studentId:studentId,attachment:assignment,dialogType:dialogType,onClose:closeDrawingFeedback,onOpenSelectImage:handleOpenSelectImageFromDrawing,onSaveDrawFeedback:handleSaveDrawFeedback,onClickExit:handleClickExit},drawingFeedbackIndex)]});}export function Outcomes(props){var css=useStyles();var editable=props.editable,outcomes=props.outcomes,studentId=props.studentId,onUpdateOutcomeStatus=props.onUpdateOutcomeStatus;var outcomesHeader=[{align:\"center\",style:{backgroundColor:\"#F3F3F3\"},width:250,value:\"name\",text:d(\"Learning Outcomes\").t(\"library_label_learning_outcomes\")},{align:\"center\",style:{backgroundColor:\"#F3F3F3\"},width:100,value:\"assumed\",text:d(\"Assumed\").t(\"assess_label_assumed\")},{align:\"center\",style:{backgroundColor:\"#F3F3F3\"},value:\"actions\",text:d(\"Assessing Actions\").t(\"assess_option_assessing_actions\")}];var rows=outcomes===null||outcomes===void 0?void 0:outcomes.map(function(oItem){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:oItem.outcome_name}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:oItem.assumed?d(\"Yes\").t(\"assess_label_yes\"):\"\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsx(FormControl,{component:\"fieldset\",children:/*#__PURE__*/_jsxs(FormGroup,{\"aria-label\":\"position\",row:true,children:[/*#__PURE__*/_jsx(FormControlLabel,{value:\"end\",control:/*#__PURE__*/_jsx(Checkbox,{onChange:function onChange(e){onUpdateOutcomeStatus(e.target.value,oItem.outcome_id,studentId);},value:OutcomeStatus.Achieved,checked:oItem.status===OutcomeStatus.Achieved,color:\"primary\",disabled:!editable}),label:d(\"Achieved\").t(\"report_label_achieved\")}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"end\",control:/*#__PURE__*/_jsx(Checkbox,{onChange:function onChange(e){onUpdateOutcomeStatus(e.target.value,oItem.outcome_id,studentId);},value:OutcomeStatus.NotAchieved,checked:oItem.status===OutcomeStatus.NotAchieved,color:\"primary\",disabled:!editable}),label:d(\"Not Achieved\").t(\"report_label_not_achieved\")}),/*#__PURE__*/_jsx(FormControlLabel,{value:\"end\",control:/*#__PURE__*/_jsx(Checkbox,{onChange:function onChange(e){onUpdateOutcomeStatus(e.target.value,oItem.outcome_id,studentId);},value:OutcomeStatus.NotCovered,checked:oItem.status===OutcomeStatus.NotCovered,color:\"primary\",disabled:!editable}),label:d(\"Not Covered\").t(\"assess_option_not_attempted\")})]})})})]},oItem.outcome_id);});return/*#__PURE__*/_jsx(TableContainer,{className:css.tableContainer,children:/*#__PURE__*/_jsxs(Table,{className:css.table,stickyHeader:true,children:[/*#__PURE__*/_jsx(PLTableHeader,{fields:outcomesHeader,style:{height:40}}),/*#__PURE__*/_jsx(TableBody,{children:rows})]})});}export function AssessmentTable(props){var editable=props.editable,feedbacks=props.feedbacks,title=props.title,studentName=props.studentName,assess_score=props.assess_score,studentId=props.studentId,studentReviewerComment=props.studentReviewerComment,onOpenEditScore=props.onOpenEditScore,onOpenWritingFeedback=props.onOpenWritingFeedback,onOpenSelectImg=props.onOpenSelectImg,onOpenViewWritingFeedback=props.onOpenViewWritingFeedback;var css=useStyles();var mapScore=function mapScore(score){if(!score)return\"\";if(score===1)return\"1-\".concat(d(\"Poor\").t(\"assess_score_poor\"));if(score===2)return\"2-\".concat(d(\"Fair\").t(\"assess_score_fair\"));if(score===3)return\"3-\".concat(d(\"Average\").t(\"assess_score_average\"));if(score===4)return\"4-\".concat(d(\"Good\").t(\"assess_score_good\"));if(score===5)return\"5-\".concat(d(\"Excellent\").t(\"assess_score_excellent\"));};var assessmentHeader=[{align:\"center\",style:{backgroundColor:\"#F3F3F3\"},width:\"30%\",value:\"name\",text:d(\"Assignment Uploaded\").t(\"assess_assignment_uploaded\")},{align:\"center\",style:{backgroundColor:\"#F3F3F3\"},width:\"20%\",value:\"comment\",text:d(\"Comment\").t(\"assess_comment\")},{align:\"center\",style:{backgroundColor:\"#F3F3F3\"},width:\"15%\",value:\"submittime\",text:d(\"Submit Time\").t(\"assess_column_submit_time\")},{align:\"center\",style:{backgroundColor:\"#F3F3F3\"},width:\"20%\",value:\"assessment\",text:d(\"Assessment\").t(\"assessment_hfs_student_assessment\")},{align:\"center\",style:{backgroundColor:\"#F3F3F3\"},width:\"15%\",value:\"feedback\",text:d(\"Feedback\").t(\"assessment_hfs_student_feedback\")}];var tableBodyRows=feedbacks===null||feedbacks===void 0?void 0:feedbacks.map(function(_ref3){var id=_ref3.id,comment=_ref3.comment,create_at=_ref3.create_at,assignments=_ref3.assignments;return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",className:css.assignmentTableBodyItem,children:assignments===null||assignments===void 0?void 0:assignments.map(function(assignment){return/*#__PURE__*/_jsx(AssignmentDownloadRow,{downloadName:\"HFS_\".concat(studentName,\"_\").concat(assignment.attachment_name),name:assignment.attachment_name,resourceId:assignment.attachment_id,reviewId:assignment.review_attachment_id},assignment.attachment_id);})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",className:clsx(css.assignmentTableBodyItem,css.tableCellLine),children:comment}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",className:css.assignmentTableBodyItem,children:formattedTime(create_at)}),!title&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(TableCell,{align:\"center\",className:css.assignmentTableBodyItem,children:[mapScore(assess_score),/*#__PURE__*/_jsxs(\"span\",{className:editable?css.actionWords:css.disableClick,onClick:function onClick(e){return onOpenEditScore&&onOpenEditScore(studentId,assess_score);},children:[\"(\",d(\"Click to Edit\").t(\"assessment_hfs_score_edit\"),\")\"]})]}),/*#__PURE__*/_jsxs(TableCell,{align:\"center\",className:css.assignmentTableBodyItem,children:[editable?/*#__PURE__*/_jsx(\"p\",{className:css.actionWords,onClick:function onClick(e){return onOpenWritingFeedback&&onOpenWritingFeedback(studentId,studentReviewerComment);},children:d(\"Writing Feedback\").t(\"assessment_hfs_writing_feedback\")}):/*#__PURE__*/_jsx(\"p\",{className:css.actionWords,onClick:function onClick(e){return onOpenViewWritingFeedback&&onOpenViewWritingFeedback(studentId,studentReviewerComment);},children:d(\"View Writing Feedback\").t(\"assessment_hfs_view_writing_feedback\")}),editable?hasImgType(assignments)&&/*#__PURE__*/_jsx(\"p\",{className:css.actionWords,onClick:function onClick(e){return onOpenSelectImg&&onOpenSelectImg(\"edit\",studentId,assignments);},children:d(\"Drawing Feedback\").t(\"assessment_hfs_drawing_feedback\")}):hasImgType(assignments)&&/*#__PURE__*/_jsx(\"p\",{className:css.actionWords,onClick:function onClick(e){return onOpenSelectImg&&onOpenSelectImg(\"view\",studentId,assignments);},children:d(\"View Drawing Feedback\").t(\"assessment_hfs_view_drawing_feedback\")})]})]})]},id);});return/*#__PURE__*/_jsxs(\"div\",{className:css.assignmentTableContainer,children:[title&&/*#__PURE__*/_jsx(Typography,{className:css.title,children:title}),/*#__PURE__*/_jsxs(Table,{className:css.assignmentTable,children:[/*#__PURE__*/_jsx(PLTableHeader,{fields:title?assessmentHeader.slice(0,3):assessmentHeader,style:{height:40}}),/*#__PURE__*/_jsx(TableBody,{children:tableBodyRows})]})]});}function AssignmentDownloadRow(props){var name=props.name,downloadName=props.downloadName,resourceId=props.resourceId,reviewId=props.reviewId;var css=useStyles();return/*#__PURE__*/_jsxs(\"div\",{className:css.assignmentDownloadRow,children:[/*#__PURE__*/_jsxs(\"div\",{className:css.nameCon,children:[reviewId&&/*#__PURE__*/_jsx(SvgIcon,{className:css.svgicon,component:GetFeedbackIcon}),/*#__PURE__*/_jsx(\"span\",{className:css.imgName,children:name})]}),/*#__PURE__*/_jsx(DownloadButton,{resourceId:resourceId,fileName:downloadName,children:/*#__PURE__*/_jsx(IconButton,{size:\"small\",children:/*#__PURE__*/_jsx(GetApp,{fontSize:\"inherit\"})})})]});}export function ScoreInput(props){var css=useStyles();var optionColors=props.optionColors,optionNames=props.optionNames,optionIcons=props.optionIcons,optionValues=props.optionValues,value=props.value,onChange=props.onChange,disabled=props.disabled;var radioList=optionNames.map(function(name,index){return/*#__PURE__*/_jsx(FormControlLabel,{className:css.scoreInputFormControlLabel,value:optionValues[index],label:/*#__PURE__*/_jsxs(\"div\",{className:css.scoreInputLabel,children:[/*#__PURE__*/createElement(optionIcons[index],{className:css.scoreIcon,style:{color:optionColors[index]}}),/*#__PURE__*/_jsx(\"div\",{className:css.scoreInputTitle,children:optionNames[index]})]}),labelPlacement:\"top\",control:/*#__PURE__*/_jsx(Radio,{color:\"primary\",disabled:disabled})},optionValues[index]);});return/*#__PURE__*/_jsx(FormControl,{component:\"fieldset\",className:css.scoreInput,children:/*#__PURE__*/_jsx(RadioGroup,{row:true,value:value,onChange:onChange,children:radioList})});}function isImageType(name){if(!name)return false;var index=name.lastIndexOf(\".\");var ext=name.substr(index+1);var types=[\"jpg\",\"jpeg\",\"png\",\"gif\",\"bmp\"];return types.indexOf(ext.toLowerCase())>-1;}function hasImgType(assignments){if(assignments){return assignments.some(function(item){return isImageType(item.attachment_name);});}else{return false;}}export function ImgSelect(props){var css=useStyles();var assignments=props.assignments,value=props.value,onChange=props.onChange;var radioList=assignments===null||assignments===void 0?void 0:assignments.filter(function(item){return isImageType(item.attachment_name);}).map(function(assessment){return/*#__PURE__*/_jsx(FormControlLabel,{value:assessment.attachment_id,label:/*#__PURE__*/_jsxs(\"div\",{className:css.imgLable,children:[assessment.review_attachment_id&&/*#__PURE__*/_jsx(SvgIcon,{className:css.svgicon,component:GetFeedbackIcon}),assessment.attachment_name]}),labelPlacement:\"end\",control:/*#__PURE__*/_jsx(Radio,{color:\"primary\"})},assessment.attachment_id);});return/*#__PURE__*/_jsx(FormControl,{component:\"fieldset\",className:css.imgSelect,children:/*#__PURE__*/_jsx(RadioGroup,{value:value,onChange:onChange,children:radioList})});}","map":{"version":3,"names":["DownloadButton","PLTableHeader","d","Box","Checkbox","Collapse","FormControl","FormControlLabel","FormGroup","IconButton","makeStyles","Radio","RadioGroup","SvgIcon","Table","TableBody","TableCell","TableContainer","TableRow","Typography","GetApp","ArrowDropDownIcon","ArrowDropUpIcon","formattedTime","actAsyncConfirm","unwrapResult","clsx","cloneDeep","createElement","useMemo","useState","useDispatch","ReactComponent","GetFeedbackIcon","NotSubmitted","Submitted","DrawingFeedback","ResourceView","useDrawingFeedback","useResourceView","OutcomeStatus","ResourceViewTypeValues","StudentParticipate","useStyles","tableBar","display","justifyContent","alignItems","padding","cursor","backgroundColor","height","boxSizing","fontSize","color","marginBottom","tableContainer","marginTop","maxHeight","table","minWidth","tableCellLine","wordBreak","assignmentTableContainer","paddingBottom","assignmentTable","assignmentTableHeader","assignmentTableHeaderItem","fontFamily","fontWeight","assignmentTableBodyItem","borderRight","assignmentDownloadRow","scoreInput","width","scoreInputLabel","flexDirection","scoreInputTitle","scoreIcon","scoreInputFormControlLabel","comment","borderRadius","commentInput","minHeight","actionWords","disableClick","pointerEvents","title","lineHeight","background","textAlign","borderBottom","imgSelect","imgLable","svgicon","marginRight","imgName","nameCon","Homefun","props","css","dispatch","editable","students","subDimension","onChangeHomefunStudent","onSaveDrawFeedback","resourceViewActive","resourceViewShowIndex","openResourceView","closeResourceView","drawingFeedbackActive","drawingFeedbackIndex","openDrawingFeedback","closeDrawingFeedback","studentId","setStudentId","score","setScore","setComment","selectImg","resourceType","setResoutceType","assignments","setAssignments","assignment","setAssignment","hasSaved","setHasSaved","dialogType","setDialogType","subDimensionIds","length","map","item","id","initCheckArr","checkedArr","setCheckedArr","isSelectAll","findIndex","toggleCheck","index","arr","undefined","handleOpenEditScore","sId","editScore","handleChangeScore","newStudents","forEach","sItem","student_id","results","assess_score","handleOpenWritingFeedback","editComment","handleOpenViewWritingFeedback","viewWritingFeedback","handleChangeComment","reviewer_comment","handleUpdateOutcomeStatus","value","outcome_id","outcomes","oItem","status","handleOpenSelectImg","type","handleOpenSelectImageFromDrawing","hasTraces","content","t","cancelText","confirmText","isConfirmed","Promise","reject","student","find","student_feed_backs","newassignments","handleOpenDrawingFeedback","handleSaveDrawFeedback","imgObj","handleClickExit","filter","Participate","indexOf","e","student_name","slice","Outcomes","onUpdateOutcomeStatus","outcomesHeader","align","style","text","rows","outcome_name","assumed","target","Achieved","NotAchieved","NotCovered","AssessmentTable","feedbacks","studentName","studentReviewerComment","onOpenEditScore","onOpenWritingFeedback","onOpenSelectImg","onOpenViewWritingFeedback","mapScore","assessmentHeader","tableBodyRows","create_at","attachment_name","attachment_id","review_attachment_id","hasImgType","AssignmentDownloadRow","name","downloadName","resourceId","reviewId","ScoreInput","optionColors","optionNames","optionIcons","optionValues","onChange","disabled","radioList","className","isImageType","lastIndexOf","ext","substr","types","toLowerCase","some","ImgSelect","assessment"],"sources":["/Users/evik/kl/project-2024/klasmart-assessment-frontend/src/pages/DetailAssessment/HomefunView.tsx"],"sourcesContent":["import { DownloadButton } from \"@components/DownloadButton\";\nimport { PLField, PLTableHeader } from \"@components/PLTable\";\nimport { d } from \"@locale/LocaleManager\";\nimport { Box, Checkbox, Collapse, FormControl, FormControlLabel, FormGroup, IconButton, makeStyles, Radio, RadioGroup, RadioGroupProps, SvgIcon, Table, TableBody, TableCell, TableContainer, TableRow, Typography } from \"@material-ui/core\";\nimport { GetApp, SvgIconComponent } from \"@material-ui/icons\";\nimport ArrowDropDownIcon from \"@material-ui/icons/ArrowDropDown\";\nimport ArrowDropUpIcon from \"@material-ui/icons/ArrowDropUp\";\nimport { formattedTime } from \"@models/ModelOutcomeDetailForm\";\n// import FactCheckOutlinedIcon from '@material-ui/icons/FactCheckOutlined';\nimport { DetailAssessmentResultAssignment, DetailAssessmentResultFeedback } from \"@pages/ListAssessment/types\";\nimport { actAsyncConfirm } from \"@reducers/confirm\";\nimport { AppDispatch } from \"@reducers/index\";\nimport { unwrapResult } from \"@reduxjs/toolkit\";\nimport clsx from \"clsx\";\nimport { cloneDeep } from \"lodash\";\nimport { createElement, useMemo, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { ReactComponent as GetFeedbackIcon } from \"../../assets/icons/homefun_getfeedback.svg\";\nimport { ReactComponent as NotSubmitted } from \"../../assets/icons/homefun_notsubmitted.svg\";\nimport { ReactComponent as Submitted } from \"../../assets/icons/homefun_submitted.svg\";\nimport { Dimension } from \"./MultiSelect\";\nimport { DrawingFeedback, ResourceView, useDrawingFeedback, useResourceView } from \"./ResourceView\";\nimport { OutcomeBaseProps, OutcomeStatus, ResourceViewTypeValues, StudenmtViewItemResultProps, StudentParticipate, StudentViewItemsProps, SubDimensionOptions } from \"./type\";\nconst useStyles = makeStyles({\n  tableBar: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    padding: \"16px\",\n    cursor: \"pointer\",\n    backgroundColor: \"#F2F5F7\",\n    height: 48,\n    boxSizing: \"content-box\",\n    \"& div\": {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      \"& a\": {\n        fontSize: \"14px\",\n        color: \"#006CCF\",\n      },\n    },\n    marginBottom: 20,\n  },\n  tableContainer: {\n    marginTop: 5,\n    maxHeight: 830,\n    marginBottom: 20,\n  },\n  table: {\n    minWidth: 900,\n    fontSize: \"14px !important\",\n  },\n  tableCellLine: {\n    wordBreak: \"break-all\",\n    \"&:not(:last-child)\": {\n      // borderRight: \"1px solid #ebebeb\",\n    },\n  },\n  assignmentTableContainer: {\n    paddingBottom: 40,\n  },\n  assignmentTable: {\n    // marginTop: 32,\n  },\n  assignmentTableHeader: {\n    backgroundColor: \"#f2f5f7\",\n  },\n  assignmentTableHeaderItem: {\n    height: 80 - 32,\n    color: \"#666666\",\n    fontSize: 15,\n    fontFamily: \"Helvetica, Helvetica-Bold\",\n    fontWeight: 700,\n  },\n  assignmentTableBodyItem: {\n    borderRight: \"1px solid rgba(224, 224, 224, 1)\",\n    \"&:last-child\": {\n      borderRight: \"none\",\n    },\n  },\n  assignmentDownloadRow: {\n    padding: \"11px 24px 10px 20px\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    fontSize: 16,\n    fontFamily: \"Helvetica\",\n    alignItems: \"center\"\n  },\n  scoreInput: {\n    marginTop: 30,\n    marginBottom: 30,\n    width: \"100%\",\n    display: \"flex\",\n    justifyContent: \"space-around\"\n  },\n  scoreInputLabel: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  scoreInputTitle: {\n    marginTop: 6,\n    fontSize: 18,\n  },\n  scoreIcon: {\n    fontSize: 30,\n  },\n  scoreInputFormControlLabel: {\n    // marginRight: 72 - 20,\n  },\n  comment: {\n    marginTop: 32,\n    marginBottom: 120,\n    borderRadius: 7,\n  },\n  commentInput: {\n    minHeight: 200,\n  },\n  actionWords: {\n    color: \"#006CCF\", cursor: \"pointer\"\n  },\n  disableClick: {\n    color: \"#999aaa\",\n    pointerEvents: \"none\",\n    cursor: \"default\",\n  },\n  title: {\n    height: 56,\n    lineHeight: \"56px\",\n    width: \"100%\",\n    background: \"#F3F3F3\",\n    textAlign: \"center\",\n    borderBottom: \"1px solid #CCCCCC\"\n  },\n  imgSelect: {\n    marginTop: 30,\n    marginBottom: 30,\n    width: \"100%\",\n    display: \"flex\",\n  },\n  imgLable: {\n    display: \"flex\",\n    alignItems: \"center\",\n    wordBreak: \"break-all\",\n  },\n  svgicon: {\n    marginRight: \"5px\",\n  },\n  imgName: {\n    wordBreak: \"break-all\"\n  },\n  nameCon: {\n    display: \"flex\",\n    alignItems: \"center\",\n  }\n});\nexport interface HomefunProps {\n  editable: boolean;\n  dimension: Dimension;\n  subDimension: SubDimensionOptions[];\n  students?: StudentViewItemsProps[];\n  attachment_id?: string;\n  onChangeHomefunStudent: (students?: HomefunProps[\"students\"]) => void;\n  onSaveDrawFeedback: (studentId?: string, assignment_id?: string, imgObj?: any) => void;\n}\nexport function Homefun(props: HomefunProps) {\n  const css = useStyles();\n  const dispatch = useDispatch<AppDispatch>();\n  const { editable, students, subDimension, onChangeHomefunStudent, onSaveDrawFeedback } = props;\n  const { resourceViewActive, resourceViewShowIndex, openResourceView, closeResourceView } = useResourceView();\n  const { drawingFeedbackActive, drawingFeedbackIndex, openDrawingFeedback, closeDrawingFeedback } = useDrawingFeedback()\n  const [studentId, setStudentId] = useState<string | undefined>();\n  const [score, setScore] = useState<StudenmtViewItemResultProps[\"assess_score\"]>();\n  const [comment, setComment] = useState<string | undefined>();\n  const [resourceType, setResoutceType] = useState<ResourceViewTypeValues>(ResourceViewTypeValues.selectImg);\n  const [assignments, setAssignments] = useState<DetailAssessmentResultFeedback[\"assignments\"]>();\n  const [assignment, setAssignment] = useState<DetailAssessmentResultAssignment>();\n  const [hasSaved, setHasSaved] = useState<boolean>(true);\n  const [dialogType, setDialogType] = useState<string>(\"edit\");\n  const subDimensionIds = useMemo(() => {\n    return subDimension.length ? subDimension.map((item) => item.id) : [];\n  }, [subDimension]);\n  const initCheckArr = useMemo(() => {\n    return subDimension.map((item) => true) || [];\n  }, [subDimension]);\n  const [checkedArr, setCheckedArr] = useState<boolean[]>(initCheckArr);\n  const isSelectAll = subDimension.findIndex((item) => item.id === \"all\") >= 0 ? true : false;\n  const toggleCheck = (index: number) => {\n    const arr = cloneDeep(checkedArr);\n    if(arr[index] === undefined) {\n      arr[index] = false\n    } else {\n      arr[index] = !checkedArr[index];\n    }\n    setCheckedArr([...arr]);\n  };\n  const handleOpenEditScore = (sId?: string, score?: StudenmtViewItemResultProps[\"assess_score\"]) => {\n    openResourceView();\n    setResoutceType(ResourceViewTypeValues.editScore);\n    setStudentId(sId);\n    setScore(score)\n  }\n  const handleChangeScore = (studentId?: string, score?: StudenmtViewItemResultProps[\"assess_score\"]) => {\n    const newStudents = cloneDeep(students);\n    newStudents?.forEach(sItem => {\n      if(sItem.student_id === studentId) {\n        if(sItem.results) {\n          sItem.results[0].assess_score = score;\n        }\n      }\n    });\n    onChangeHomefunStudent(newStudents)\n  }\n  const handleOpenWritingFeedback = (sId?: string, comment?: string) => {\n    openResourceView();\n    setResoutceType(ResourceViewTypeValues.editComment);\n    setStudentId(sId);\n    setComment(comment);\n  }\n  const handleOpenViewWritingFeedback = (sId?: string, comment?: string) => {\n    openResourceView();\n    setResoutceType(ResourceViewTypeValues.viewWritingFeedback);\n    setStudentId(sId);\n    setComment(comment);\n  }\n  const handleChangeComment = (studentId?: string, comment?: string) => {\n    const newStudents = cloneDeep(students);\n    newStudents?.forEach(sItem => {\n      if(sItem.student_id === studentId) {\n        sItem.reviewer_comment = comment\n      }\n    });\n    onChangeHomefunStudent(newStudents)\n  }\n  const handleUpdateOutcomeStatus = (value: OutcomeStatus, outcome_id?: string, student_id?: string) => {\n    const newStudents = cloneDeep(students);\n    newStudents?.forEach(sItem => {\n      if(sItem.student_id === student_id) {\n        if(sItem.results) {\n          sItem.results[0]?.outcomes?.forEach(oItem => {\n            if(oItem.outcome_id === outcome_id) {\n              oItem.status = value;\n            }\n          })\n        }\n      }\n    });\n    onChangeHomefunStudent(newStudents);\n  }\n  const handleOpenSelectImg = (type: string, sId?: string, assignments?: DetailAssessmentResultFeedback[\"assignments\"]) => {\n    openResourceView();\n    setResoutceType(ResourceViewTypeValues.selectImg);\n    setStudentId(sId);\n    setAssignments(assignments);\n    setDialogType(type)\n  }\n  const handleOpenSelectImageFromDrawing = async (sId?: string, hasTraces?: boolean) => {\n    if(hasTraces) {\n      const content = d(\"Discard unsaved changes?\").t(\"assess_msg_discard\");\n      const { isConfirmed } = unwrapResult(await dispatch(actAsyncConfirm({ content, cancelText: d(\"Cancel\").t(\"assess_button_cancel\"), confirmText: d(\"Discard\").t(\"assess_button_discard\") })));\n      if (!isConfirmed) return Promise.reject();\n    } \n    closeDrawingFeedback();\n    openResourceView();\n    setResoutceType(ResourceViewTypeValues.selectImg);\n    setStudentId(sId);\n    const student = students?.find(item => item.student_id === sId);\n    const results = student && student.results;\n    if(results && results.length) {\n      const student_feed_backs = results[0].student_feed_backs;\n      if(student_feed_backs && student_feed_backs.length) {\n        const newassignments = student_feed_backs[0].assignments;\n        setAssignments(newassignments)\n      }\n    }\n  }\n  const handleOpenDrawingFeedback = (dialogType: string, sId?: string, assignment?: DetailAssessmentResultAssignment) => {\n    openDrawingFeedback();\n    setStudentId(sId);\n    setAssignment(assignment);\n    setDialogType(dialogType);\n  }\n  const handleSaveDrawFeedback = (sId?: string, imgObj?: any) => {\n    setHasSaved(true);\n    onSaveDrawFeedback( sId, assignment?.id, imgObj);\n  }\n  const handleClickExit = async (hasTraces?: boolean) => {\n    if(hasTraces) {\n      const content = d(\"Discard unsaved changes?\").t(\"assess_msg_discard\");\n      const { isConfirmed } = unwrapResult(await dispatch(actAsyncConfirm({ content, cancelText: d(\"Cancel\").t(\"assess_button_cancel\"), confirmText: d(\"Discard\").t(\"assess_button_discard\") })));\n      if (!isConfirmed) return Promise.reject();\n    }\n    closeDrawingFeedback();\n    const student = students?.find(item => item.student_id === studentId);\n    const results = student && student.results;\n    if(results && results.length) {\n      const student_feed_backs = results[0].student_feed_backs;\n      if(student_feed_backs && student_feed_backs.length) {\n        const newassignments = student_feed_backs[0].assignments;\n        handleOpenSelectImg(\"edit\", studentId, newassignments)\n      }\n    }\n  }\n  return (\n    <>\n    {students?.filter(item => item.status === StudentParticipate.Participate).map((sItem, index) => (\n      (isSelectAll ? true : subDimensionIds.indexOf(sItem.student_id!) >= 0) && (\n      <TableContainer style={{ marginBottom: \"20px\" }} key={sItem.student_id}>\n        <Box className={css.tableBar} onClick={(e) => toggleCheck(index)} >\n          <div>\n            {(sItem.results && sItem.results.length && sItem.results[0].student_feed_backs && sItem.results[0].student_feed_backs.length)\n             ? <SvgIcon component={Submitted} />\n             : <SvgIcon component={NotSubmitted} />\n            }\n            <span style={{ padding: \"0 18px 0 18px\" }}>{sItem.student_name}</span>\n          </div>\n          {checkedArr[index] === undefined ? <ArrowDropUpIcon /> : checkedArr[index] ? <ArrowDropUpIcon /> : <ArrowDropDownIcon />}\n        </Box>\n        <Collapse in={checkedArr[index] === undefined ? true : checkedArr[index]}>\n          <Outcomes \n            editable={editable}\n            outcomes={sItem.results && sItem.results[0]?.outcomes} \n            studentId={sItem.student_id}\n            onUpdateOutcomeStatus={handleUpdateOutcomeStatus}\n          />\n          <AssessmentTable \n            editable={editable}\n            title={\"\"}\n            feedbacks={sItem.results && sItem?.results[0]?.student_feed_backs?.slice(0, 1)}  \n            studentName={sItem.student_name}\n            studentReviewerComment={sItem.reviewer_comment} \n            assess_score={sItem.results && sItem?.results[0]?.assess_score}\n            studentId={sItem.student_id}\n            onOpenEditScore={handleOpenEditScore}\n            onOpenWritingFeedback={handleOpenWritingFeedback}\n            onOpenSelectImg={handleOpenSelectImg}\n            onOpenViewWritingFeedback={handleOpenViewWritingFeedback}\n          />\n          <AssessmentTable \n            editable={editable}\n            title={d(\"Submission History\").t(\"assess_submission_history\")}\n            feedbacks={sItem.results && sItem.results[0]?.student_feed_backs && sItem.results[0]?.student_feed_backs.slice(1)}  \n            studentName={sItem.student_name} \n            assess_score={sItem.results && sItem.results[0]?.assess_score}\n          />\n        </Collapse>\n    </TableContainer>\n    )))}\n    <ResourceView\n      key={resourceType+resourceViewShowIndex}\n      open={resourceViewActive} \n      resourceType={resourceType} \n      studentId={studentId} \n      score={score} \n      comment={comment}\n      assignments={assignments}\n      hasSaved={hasSaved}\n      dialogType={dialogType}\n      onChangeScore={handleChangeScore}\n      onClose={closeResourceView}\n      onChangeComment={handleChangeComment}\n      onOpenDrawFeedback={handleOpenDrawingFeedback}\n    />\n    <DrawingFeedback \n      key={drawingFeedbackIndex}\n      open={drawingFeedbackActive}\n      studentId={studentId} \n      attachment={assignment}\n      dialogType={dialogType}\n      onClose={closeDrawingFeedback}\n      onOpenSelectImage={handleOpenSelectImageFromDrawing}\n      onSaveDrawFeedback={handleSaveDrawFeedback}\n      onClickExit={handleClickExit}\n    />\n    </>\n  )\n}    \n\nexport interface OutcomeProps {\n  editable: boolean;\n  outcomes?: OutcomeBaseProps[];\n  studentId?: string;\n  onUpdateOutcomeStatus: (value: OutcomeStatus, outcome_id?: string, student_id?: string) => void;\n}\nexport function Outcomes(props: OutcomeProps) {\n  const css = useStyles();\n  const { editable, outcomes, studentId, onUpdateOutcomeStatus } = props;\n  const outcomesHeader: PLField[] = [\n    {\n      align: \"center\",\n      style: { backgroundColor: \"#F3F3F3\" },\n      width: 250,\n      value: \"name\",\n      text: d(\"Learning Outcomes\").t(\"library_label_learning_outcomes\"),\n    },\n    { align: \"center\", style: { backgroundColor: \"#F3F3F3\" }, width: 100, value: \"assumed\", text: d(\"Assumed\").t(\"assess_label_assumed\") },\n    {\n      align: \"center\",\n      style: { backgroundColor: \"#F3F3F3\" },\n      value: \"actions\",\n      text: d(\"Assessing Actions\").t(\"assess_option_assessing_actions\")\n    },\n  ];\n  const rows = outcomes?.map((oItem) => (\n    <TableRow key={oItem.outcome_id}>\n      <TableCell align=\"center\">{oItem.outcome_name}</TableCell>\n      <TableCell align=\"center\">{oItem.assumed ? d(\"Yes\").t(\"assess_label_yes\") : \"\"}</TableCell>\n      <TableCell align=\"center\">\n      <FormControl component=\"fieldset\">\n        <FormGroup aria-label=\"position\" row>\n          <FormControlLabel\n            value=\"end\"\n            control={\n              <Checkbox\n                onChange={(e) => {\n                  onUpdateOutcomeStatus(e.target.value as OutcomeStatus, oItem.outcome_id, studentId);\n                }}\n                value={OutcomeStatus.Achieved}\n                checked={oItem.status === OutcomeStatus.Achieved}\n                color=\"primary\"\n                disabled={!editable}\n              />\n            }\n            label={d(\"Achieved\").t(\"report_label_achieved\")}\n          />\n          <FormControlLabel\n            value=\"end\"\n            control={\n              <Checkbox\n                onChange={(e) => {\n                  onUpdateOutcomeStatus(e.target.value as OutcomeStatus, oItem.outcome_id, studentId);\n                }}\n                value={OutcomeStatus.NotAchieved}\n                checked={oItem.status === OutcomeStatus.NotAchieved}\n                color=\"primary\"\n                disabled={!editable}\n              />\n            }\n            label={d(\"Not Achieved\").t(\"report_label_not_achieved\")}\n          />\n          <FormControlLabel\n            value=\"end\"\n            control={\n              <Checkbox\n                onChange={(e) => {\n                  onUpdateOutcomeStatus(e.target.value as OutcomeStatus, oItem.outcome_id, studentId);\n                }}\n                value={OutcomeStatus.NotCovered}\n                checked={oItem.status === OutcomeStatus.NotCovered}\n                color=\"primary\"\n                disabled={!editable}\n              />\n            }\n            label={d(\"Not Covered\").t(\"assess_option_not_attempted\")}\n          />\n        </FormGroup>\n      </FormControl>\n      </TableCell>\n    </TableRow>\n  ))\n  return (\n    <TableContainer className={css.tableContainer}>\n      <Table className={css.table} stickyHeader>\n        <PLTableHeader fields={outcomesHeader} style={{ height: 40 }} />\n        <TableBody>\n          {rows}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  )\n}\n\nexport interface AssessmentProps {\n  editable: boolean;\n  title: string;\n  feedbacks?: StudenmtViewItemResultProps[\"student_feed_backs\"];\n  studentName?: string;\n  assess_score?: StudenmtViewItemResultProps[\"assess_score\"];\n  studentId?: string;\n  studentReviewerComment?: string;\n  onOpenEditScore?: (id?: string, score?: AssessmentProps[\"assess_score\"]) => void;\n  onOpenWritingFeedback?: (id?: string, comment?: string) => void;\n  onOpenSelectImg?: (type: string, id?: string, assignments?: DetailAssessmentResultFeedback[\"assignments\"]) => void;\n  onOpenViewWritingFeedback?: (id?: string, comment?: string) => void;\n}\nexport function AssessmentTable(props: AssessmentProps) {\n  const { \n    editable, \n    feedbacks, \n    title, \n    studentName, \n    assess_score, \n    studentId, \n    studentReviewerComment, \n    onOpenEditScore, \n    onOpenWritingFeedback, \n    onOpenSelectImg, \n    onOpenViewWritingFeedback,\n   } = props;\n  \n  const css = useStyles();\n  const mapScore = (score: number | undefined) => {\n    if (!score) return \"\";\n    if (score === 1) return `1-${d(\"Poor\").t(\"assess_score_poor\")}`;\n    if (score === 2) return `2-${d(\"Fair\").t(\"assess_score_fair\")}`;\n    if (score === 3) return `3-${d(\"Average\").t(\"assess_score_average\")}`;\n    if (score === 4) return `4-${d(\"Good\").t(\"assess_score_good\")}`;\n    if (score === 5) return `5-${d(\"Excellent\").t(\"assess_score_excellent\")}`;\n  };\n  const assessmentHeader: PLField[] = [\n    {\n      align: \"center\",\n      style: { backgroundColor: \"#F3F3F3\" },\n      width: \"30%\",\n      value: \"name\",\n      text: d(\"Assignment Uploaded\").t(\"assess_assignment_uploaded\"),\n    },\n    {\n      align: \"center\",\n      style: { backgroundColor: \"#F3F3F3\" },\n      width: \"20%\",\n      value: \"comment\",\n      text: d(\"Comment\").t(\"assess_comment\"),\n    },\n    {\n      align: \"center\",\n      style: { backgroundColor: \"#F3F3F3\" },\n      width: \"15%\",\n      value: \"submittime\",\n      text: d(\"Submit Time\").t(\"assess_column_submit_time\"),\n    },\n    {\n      align: \"center\",\n      style: { backgroundColor: \"#F3F3F3\" },\n      width: \"20%\",\n      value: \"assessment\",\n      text: d(\"Assessment\").t(\"assessment_hfs_student_assessment\"),\n    },\n    {\n      align: \"center\",\n      style: { backgroundColor: \"#F3F3F3\" },\n      width: \"15%\",\n      value: \"feedback\",\n      text: d(\"Feedback\").t(\"assessment_hfs_student_feedback\"),\n    },\n    \n  ];\n  const tableBodyRows = feedbacks?.map(({ id, comment, create_at, assignments }) => (\n    <TableRow key={id}>\n      <TableCell align=\"center\" className={css.assignmentTableBodyItem}>\n        {assignments?.map((assignment) => (\n          <AssignmentDownloadRow\n            downloadName={`HFS_${studentName}_${assignment.attachment_name}`}\n            name={assignment.attachment_name}\n            resourceId={assignment.attachment_id}\n            key={assignment.attachment_id}\n            reviewId={assignment.review_attachment_id}\n          />\n        ))}\n      </TableCell>\n      <TableCell align=\"center\" className={clsx(css.assignmentTableBodyItem, css.tableCellLine)}>\n        {comment}\n      </TableCell>\n      <TableCell align=\"center\" className={css.assignmentTableBodyItem}>\n        {formattedTime(create_at)}\n      </TableCell>\n      {!title && \n        <>\n          <TableCell align=\"center\" className={css.assignmentTableBodyItem}>\n            {mapScore(assess_score)}\n            <span className={editable ? css.actionWords : css.disableClick} onClick={e => onOpenEditScore && onOpenEditScore(studentId, assess_score)}>({d(\"Click to Edit\").t(\"assessment_hfs_score_edit\")})</span>\n          </TableCell>\n          <TableCell align=\"center\" className={css.assignmentTableBodyItem}>\n            {editable \n            ?\n            <p className={css.actionWords} onClick={e => onOpenWritingFeedback && onOpenWritingFeedback(studentId, studentReviewerComment)}>{d(\"Writing Feedback\").t(\"assessment_hfs_writing_feedback\")}</p>\n            :\n            <p className={css.actionWords} onClick={e => onOpenViewWritingFeedback && onOpenViewWritingFeedback(studentId, studentReviewerComment)}>{d(\"View Writing Feedback\").t(\"assessment_hfs_view_writing_feedback\")}</p>\n            }\n            {editable\n            ?\n            (hasImgType(assignments) && <p className={css.actionWords} onClick={e => onOpenSelectImg && onOpenSelectImg(\"edit\", studentId, assignments)}>{d(\"Drawing Feedback\").t(\"assessment_hfs_drawing_feedback\")}</p>)\n            :\n            (hasImgType(assignments) && <p className={css.actionWords} onClick={e => onOpenSelectImg && onOpenSelectImg(\"view\" ,studentId, assignments)}>{d(\"View Drawing Feedback\").t(\"assessment_hfs_view_drawing_feedback\")}</p>)\n            }\n            </TableCell>\n        </>\n      }\n    </TableRow>\n  ));\n  return (\n    <div className={css.assignmentTableContainer}>\n      {title && <Typography className={css.title}>{title}</Typography>}\n      <Table className={css.assignmentTable}>\n        <PLTableHeader fields={title ? assessmentHeader.slice(0,3) : assessmentHeader} style={{ height: 40 }} />\n        <TableBody>{tableBodyRows}</TableBody>\n      </Table>\n    </div>\n  );\n}\n\ninterface AssignmentDownloadRowProps {\n  name?: string;\n  downloadName?: string;\n  resourceId?: string;\n  reviewId?: string;\n}\nfunction AssignmentDownloadRow(props: AssignmentDownloadRowProps) {\n  const { name, downloadName, resourceId, reviewId } = props;\n  const css = useStyles();\n  return (\n    <div className={css.assignmentDownloadRow}>\n      <div className={css.nameCon}>\n        {reviewId && <SvgIcon className={css.svgicon} component={GetFeedbackIcon}/>}\n        <span className={css.imgName}>{name}</span>\n      </div>\n      <DownloadButton resourceId={resourceId} fileName={downloadName}>\n        <IconButton size=\"small\">\n          <GetApp fontSize=\"inherit\" />\n        </IconButton>\n      </DownloadButton>\n    </div>\n  );\n}\n\nexport interface ScoreInputProps {\n  optionIcons: SvgIconComponent[];\n  optionColors: string[];\n  optionNames: string[];\n  optionValues: number[];\n  value?: number;\n  onChange?: RadioGroupProps[\"onChange\"];\n  disabled?: boolean;\n}\nexport function ScoreInput(props: ScoreInputProps) {\n  const css = useStyles();\n  const { optionColors, optionNames, optionIcons, optionValues, value, onChange, disabled } = props;\n  const radioList = optionNames.map((name, index) => (\n    <FormControlLabel\n      key={optionValues[index]}\n      className={css.scoreInputFormControlLabel}\n      value={optionValues[index]}\n      label={\n        <div className={css.scoreInputLabel}>\n          {createElement(optionIcons[index], { className: css.scoreIcon, style: { color: optionColors[index] } })}\n          <div className={css.scoreInputTitle}>{optionNames[index]}</div>\n        </div>\n      }\n      labelPlacement=\"top\"\n      control={<Radio color=\"primary\" disabled={disabled} />}\n    />\n  ));\n  return (\n    <FormControl component=\"fieldset\" className={css.scoreInput}>\n      <RadioGroup row value={value} onChange={onChange}>\n        {radioList}\n      </RadioGroup>\n    </FormControl>\n  );\n}\nfunction isImageType(name: string | undefined) {\n  if(!name) return false;\n  const index = name.lastIndexOf(\".\");\n  const ext = name.substr(index + 1);\n  const types = [\"jpg\", \"jpeg\", \"png\", \"gif\", \"bmp\"];\n  return types.indexOf(ext.toLowerCase()) > -1;\n}\nfunction hasImgType(assignments: DetailAssessmentResultFeedback[\"assignments\"]) {\n  if(assignments) {\n    return assignments.some(item => isImageType(item.attachment_name))\n  } else {\n    return false;\n  }\n}\nexport interface ImgSelectProps {\n  assignments: DetailAssessmentResultFeedback[\"assignments\"];\n  value?: string;\n  onChange?: RadioGroupProps[\"onChange\"]\n}\nexport function ImgSelect(props: ImgSelectProps) {\n  const css = useStyles();\n  const { assignments, value, onChange } = props;\n  const radioList = assignments\n    ?.filter(item => isImageType(item.attachment_name))\n    .map((assessment) => (\n       <FormControlLabel \n          key={assessment.attachment_id}\n          value={assessment.attachment_id}\n          label={\n            <div className={css.imgLable}>\n              {assessment.review_attachment_id && <SvgIcon className={css.svgicon} component={GetFeedbackIcon}/>}\n              {assessment.attachment_name}\n            </div>\n          }\n          labelPlacement=\"end\"\n          control={<Radio color=\"primary\" />}\n       />                 \n    ))\n\n  return (\n    <FormControl component=\"fieldset\" className={css.imgSelect}>\n      <RadioGroup value={value} onChange={onChange}>\n        {radioList}\n      </RadioGroup>\n    </FormControl>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}