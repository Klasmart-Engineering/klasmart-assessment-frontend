{"ast":null,"code":"import{useDownloadMediaForMetadata}from\"@kl-engineering/kidsloop-media-hooks\";import{d}from\"@locale/LocaleManager\";import{jsx as _jsx}from\"react/jsx-runtime\";// export function ScreenShorts(props: ScreenShortsProps) {\n//   const { userId, roomId, h5pId, h5pSubId, resourceType } = props;\n//   // const multipleScreenShorts = [\"ArithmeticQuiz\", \"Flashcards\"];\n//   const { loading, error, mediaMetadata } = useImageMetadata({\n//     userId,\n//     roomId,\n//     h5pId,\n//     h5pSubId: h5pSubId ? h5pSubId : undefined,\n//   });\n//   const length = mediaMetadata?.length;\n//   if (error) {\n//     return <p>{d(\"Server request failed\").t(\"general_error_unknown\")}</p>;\n//   }\n//   if (loading) return <p>Loading ...</p>;\n//   if (!length)\n//     return <p>{d(\"Sorry, the screenshot is not available for this lesson material.\").t(\"assessment_detail_screenshot_no_result\")}</p>;\n//   return (\n//     <ImageView\n//       resourceType={resourceType}\n//       imageId={mediaMetadata[0].id}\n//       roomId={roomId as string}\n//       mimeType={mediaMetadata[0].mimeType ? mediaMetadata[0].mimeType : \"image/jpeg\"}\n//     />\n//   );\n// }\n//\n// export interface ImageViewProps {\n//   resourceType?: string;\n//   imageId: string;\n//   roomId: string;\n//   mimeType: string;\n// }\n// export function ImageView(props: ImageViewProps) {\n//   const { imageId, roomId, mimeType } = props;\n//   const {\n//     loading,\n//     error,\n//     src: imgSrc,\n//   } = useDownloadMedia({\n//     mediaId: imageId,\n//     roomId,\n//     mimeType,\n//   });\n//   if (loading) return <p>Loading...</p>;\n//   if (error) {\n//     return <p>{d(\"Server request failed\").t(\"general_error_unknown\")}</p>;\n//   }\n//   return (\n//     <div style={{ width: \"100%\", height: \"auto\", marginTop: 10 }}>\n//       <img style={{ width: \"100%\", height: \"auto\" }} src={imgSrc} alt={\"screenshorts\"} />\n//     </div>\n//   );\n// }\n/**\n * 以下当没有获取到 src 的时候会报错\n * https://local.alpha.kidsloop.net/?org_id=6300b3c5-8936-497e-ba1f-d67164b59c65#/assessments/details?id=62345ccd0fe8a1e7825c7274&assessment_type=OnlineClass\n * **/export function ScreenShorts(props){var userId=props.userId,roomId=props.roomId,h5pId=props.h5pId,h5pSubId=props.h5pSubId;// const multipleScreenShorts = [\"ArithmeticQuiz\", \"Flashcards\"];\nvar _useDownloadMediaForM=useDownloadMediaForMetadata({userId:userId,roomId:roomId,h5pId:h5pId,h5pSubId:h5pSubId?h5pSubId:undefined,mediaType:\"image\",mimeType:\"image/jpeg\"}),loading=_useDownloadMediaForM.loading,error=_useDownloadMediaForM.error,src=_useDownloadMediaForM.src;if(error){return/*#__PURE__*/_jsx(\"p\",{children:d(\"Server request failed\").t(\"general_error_unknown\")});}if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading ...\"});if(!src)return/*#__PURE__*/_jsx(\"p\",{children:d(\"Sorry, the screenshot is not available for this lesson material.\").t(\"assessment_detail_screenshot_no_result\")});return/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\",height:\"auto\",marginTop:10},children:/*#__PURE__*/_jsx(\"img\",{style:{width:\"100%\",height:\"auto\"},src:src,alt:\"screenshorts\"})});}","map":{"version":3,"names":["useDownloadMediaForMetadata","d","ScreenShorts","props","userId","roomId","h5pId","h5pSubId","undefined","mediaType","mimeType","loading","error","src","t","width","height","marginTop"],"sources":["/Users/evik/kl/project-2024/klasmart-assessment-frontend/src/pages/DetailAssessment/ScreenShorts.tsx"],"sourcesContent":["import { useDownloadMediaForMetadata } from \"@kl-engineering/kidsloop-media-hooks\";\nimport { d } from \"@locale/LocaleManager\";\n\nexport interface ScreenShortsProps {\n  userId: string;\n  roomId: string;\n  h5pId: string;\n  h5pSubId?: string;\n  resourceType?: string;\n}\n// export function ScreenShorts(props: ScreenShortsProps) {\n//   const { userId, roomId, h5pId, h5pSubId, resourceType } = props;\n//   // const multipleScreenShorts = [\"ArithmeticQuiz\", \"Flashcards\"];\n//   const { loading, error, mediaMetadata } = useImageMetadata({\n//     userId,\n//     roomId,\n//     h5pId,\n//     h5pSubId: h5pSubId ? h5pSubId : undefined,\n//   });\n//   const length = mediaMetadata?.length;\n//   if (error) {\n//     return <p>{d(\"Server request failed\").t(\"general_error_unknown\")}</p>;\n//   }\n//   if (loading) return <p>Loading ...</p>;\n//   if (!length)\n//     return <p>{d(\"Sorry, the screenshot is not available for this lesson material.\").t(\"assessment_detail_screenshot_no_result\")}</p>;\n//   return (\n//     <ImageView\n//       resourceType={resourceType}\n//       imageId={mediaMetadata[0].id}\n//       roomId={roomId as string}\n//       mimeType={mediaMetadata[0].mimeType ? mediaMetadata[0].mimeType : \"image/jpeg\"}\n//     />\n//   );\n// }\n//\n// export interface ImageViewProps {\n//   resourceType?: string;\n//   imageId: string;\n//   roomId: string;\n//   mimeType: string;\n// }\n// export function ImageView(props: ImageViewProps) {\n//   const { imageId, roomId, mimeType } = props;\n//   const {\n//     loading,\n//     error,\n//     src: imgSrc,\n//   } = useDownloadMedia({\n//     mediaId: imageId,\n//     roomId,\n//     mimeType,\n//   });\n//   if (loading) return <p>Loading...</p>;\n//   if (error) {\n//     return <p>{d(\"Server request failed\").t(\"general_error_unknown\")}</p>;\n//   }\n//   return (\n//     <div style={{ width: \"100%\", height: \"auto\", marginTop: 10 }}>\n//       <img style={{ width: \"100%\", height: \"auto\" }} src={imgSrc} alt={\"screenshorts\"} />\n//     </div>\n//   );\n// }\n\n/**\n * 以下当没有获取到 src 的时候会报错\n * https://local.alpha.kidsloop.net/?org_id=6300b3c5-8936-497e-ba1f-d67164b59c65#/assessments/details?id=62345ccd0fe8a1e7825c7274&assessment_type=OnlineClass\n * **/\nexport function ScreenShorts(props: ScreenShortsProps) {\n  const { userId, roomId, h5pId, h5pSubId } = props;\n  // const multipleScreenShorts = [\"ArithmeticQuiz\", \"Flashcards\"];\n  const { loading, error, src } = useDownloadMediaForMetadata({\n    userId,\n    roomId,\n    h5pId,\n    h5pSubId: h5pSubId ? h5pSubId : undefined,\n    mediaType: \"image\",\n    mimeType: \"image/jpeg\",\n  });\n  if (error) {\n    return <p>{d(\"Server request failed\").t(\"general_error_unknown\")}</p>;\n  }\n  if (loading) return <p>Loading ...</p>;\n  if (!src)\n    return <p>{d(\"Sorry, the screenshot is not available for this lesson material.\").t(\"assessment_detail_screenshot_no_result\")}</p>;\n  return (\n    <div style={{ width: \"100%\", height: \"auto\", marginTop: 10 }}>\n      <img style={{ width: \"100%\", height: \"auto\" }} src={src} alt={\"screenshorts\"} />\n    </div>\n  );\n}\n"],"mappings":"AAAA,OAASA,2BAAT,KAA4C,sCAA5C,CACA,OAASC,CAAT,KAAkB,uBAAlB,C,2CASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA,MACA,MAAO,SAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAAgD,CACrD,GAAQC,CAAAA,MAAR,CAA4CD,KAA5C,CAAQC,MAAR,CAAgBC,MAAhB,CAA4CF,KAA5C,CAAgBE,MAAhB,CAAwBC,KAAxB,CAA4CH,KAA5C,CAAwBG,KAAxB,CAA+BC,QAA/B,CAA4CJ,KAA5C,CAA+BI,QAA/B,CACA;AACA,0BAAgCP,2BAA2B,CAAC,CAC1DI,MAAM,CAANA,MAD0D,CAE1DC,MAAM,CAANA,MAF0D,CAG1DC,KAAK,CAALA,KAH0D,CAI1DC,QAAQ,CAAEA,QAAQ,CAAGA,QAAH,CAAcC,SAJ0B,CAK1DC,SAAS,CAAE,OAL+C,CAM1DC,QAAQ,CAAE,YANgD,CAAD,CAA3D,CAAQC,OAAR,uBAAQA,OAAR,CAAiBC,KAAjB,uBAAiBA,KAAjB,CAAwBC,GAAxB,uBAAwBA,GAAxB,CAQA,GAAID,KAAJ,CAAW,CACT,mBAAO,mBAAIX,CAAC,CAAC,uBAAD,CAAD,CAA2Ba,CAA3B,CAA6B,uBAA7B,CAAJ,EAAP,CACD,CACD,GAAIH,OAAJ,CAAa,mBAAO,kCAAP,CACb,GAAI,CAACE,GAAL,CACE,mBAAO,mBAAIZ,CAAC,CAAC,kEAAD,CAAD,CAAsEa,CAAtE,CAAwE,wCAAxE,CAAJ,EAAP,CACF,mBACE,YAAK,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAT,CAAiBC,MAAM,CAAE,MAAzB,CAAiCC,SAAS,CAAE,EAA5C,CAAZ,uBACE,YAAK,KAAK,CAAE,CAAEF,KAAK,CAAE,MAAT,CAAiBC,MAAM,CAAE,MAAzB,CAAZ,CAA+C,GAAG,CAAEH,GAApD,CAAyD,GAAG,CAAE,cAA9D,EADF,EADF,CAKD"},"metadata":{},"sourceType":"module"}