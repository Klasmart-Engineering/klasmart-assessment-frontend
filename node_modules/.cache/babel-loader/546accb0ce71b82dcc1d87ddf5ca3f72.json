{"ast":null,"code":"import _objectSpread from\"/Users/evik/kl/project-2024/klasmart-assessment-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/Users/evik/kl/project-2024/klasmart-assessment-frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"encode\",\"decode\",\"value\",\"defaultValue\",\"onChange\"];import{TextField}from\"@material-ui/core\";import React,{forwardRef,useMemo}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";// todo: 移除 any\nexport var FormattedTextField=/*#__PURE__*/forwardRef(function(props,ref){var _props$encode=props.encode,encode=_props$encode===void 0?String:_props$encode,decode=props.decode,value=props.value,defaultValue=props.defaultValue,onChange=props.onChange,rest=_objectWithoutProperties(props,_excluded);var handleClick=useMemo(function(){return function(e){if(onChange)onChange(decode(e.target.value));};},[onChange,decode]);var textFieldProps=rest;if(value!=null)textFieldProps.value=encode(value);if(defaultValue!=null)textFieldProps.defaultValue=encode(defaultValue);return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},textFieldProps),{},{ref:ref,onChange:handleClick}));});export var decodeArray=function decodeArray(value){return value.split(\",\");};export var encodeOneItemArray=function encodeOneItemArray(value){return value[0]||\"\";};export var decodeOneItemArray=function decodeOneItemArray(value){return value?[value]:[];};export var frontTrim=function frontTrim(value){return value.replace(/^[\\s\\n\\t]+/g,\"\");};","map":{"version":3,"names":["TextField","React","forwardRef","useMemo","FormattedTextField","props","ref","encode","String","decode","value","defaultValue","onChange","rest","handleClick","e","target","textFieldProps","decodeArray","split","encodeOneItemArray","decodeOneItemArray","frontTrim","replace"],"sources":["/Users/evik/kl/project-2024/klasmart-assessment-frontend/src/components/FormattedTextField/index.tsx"],"sourcesContent":["import { TextField, TextFieldProps } from \"@material-ui/core\";\nimport React, { ChangeEvent, forwardRef, ForwardRefRenderFunction, useMemo } from \"react\";\n\ninterface FormatedTextFieldProps<T> extends Omit<TextFieldProps, \"onChange\" | \"value\" | \"defaultValue\" | \"variant\"> {\n  decode: (value: string) => T;\n  encode?: (value: T) => string;\n  value?: T;\n  defaultValue?: T;\n  onChange?: (value: T) => any;\n}\n\ntype IRef<T> = Parameters<ForwardRefRenderFunction<T>>[1];\n// todo: 移除 any\nexport const FormattedTextField = forwardRef((props: FormatedTextFieldProps<any>, ref: IRef<any>) => {\n  const { encode = String, decode, value, defaultValue, onChange, ...rest } = props;\n  const handleClick = useMemo(\n    () => (e: ChangeEvent<HTMLInputElement>) => {\n      if (onChange) onChange(decode(e.target.value));\n    },\n    [onChange, decode]\n  );\n  const textFieldProps: TextFieldProps = rest;\n  if (value != null) textFieldProps.value = encode(value);\n  if (defaultValue != null) textFieldProps.defaultValue = encode(defaultValue);\n  return <TextField {...textFieldProps} ref={ref as any} onChange={handleClick} />;\n});\n\nexport const decodeArray = (value: string) => value.split(\",\");\nexport const encodeOneItemArray = (value: string[]): string => value[0] || \"\";\nexport const decodeOneItemArray = (value: string): string[] => (value ? [value] : []);\nexport const frontTrim = (value: string): string => value.replace(/^[\\s\\n\\t]+/g, \"\");\n"],"mappings":"mXAAA,OAASA,SAAT,KAA0C,mBAA1C,CACA,MAAOC,CAAAA,KAAP,EAA6BC,UAA7B,CAAmEC,OAAnE,KAAkF,OAAlF,C,2CAWA;AACA,MAAO,IAAMC,CAAAA,kBAAkB,cAAGF,UAAU,CAAC,SAACG,KAAD,CAAqCC,GAArC,CAAwD,CACnG,kBAA4ED,KAA5E,CAAQE,MAAR,CAAQA,MAAR,wBAAiBC,MAAjB,eAAyBC,MAAzB,CAA4EJ,KAA5E,CAAyBI,MAAzB,CAAiCC,KAAjC,CAA4EL,KAA5E,CAAiCK,KAAjC,CAAwCC,YAAxC,CAA4EN,KAA5E,CAAwCM,YAAxC,CAAsDC,QAAtD,CAA4EP,KAA5E,CAAsDO,QAAtD,CAAmEC,IAAnE,0BAA4ER,KAA5E,YACA,GAAMS,CAAAA,WAAW,CAAGX,OAAO,CACzB,iBAAM,UAACY,CAAD,CAAsC,CAC1C,GAAIH,QAAJ,CAAcA,QAAQ,CAACH,MAAM,CAACM,CAAC,CAACC,MAAF,CAASN,KAAV,CAAP,CAAR,CACf,CAFD,EADyB,CAIzB,CAACE,QAAD,CAAWH,MAAX,CAJyB,CAA3B,CAMA,GAAMQ,CAAAA,cAA8B,CAAGJ,IAAvC,CACA,GAAIH,KAAK,EAAI,IAAb,CAAmBO,cAAc,CAACP,KAAf,CAAuBH,MAAM,CAACG,KAAD,CAA7B,CACnB,GAAIC,YAAY,EAAI,IAApB,CAA0BM,cAAc,CAACN,YAAf,CAA8BJ,MAAM,CAACI,YAAD,CAApC,CAC1B,mBAAO,KAAC,SAAD,gCAAeM,cAAf,MAA+B,GAAG,CAAEX,GAApC,CAAgD,QAAQ,CAAEQ,WAA1D,GAAP,CACD,CAZ2C,CAArC,CAcP,MAAO,IAAMI,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACR,KAAD,QAAmBA,CAAAA,KAAK,CAACS,KAAN,CAAY,GAAZ,CAAnB,EAApB,CACP,MAAO,IAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACV,KAAD,QAA6BA,CAAAA,KAAK,CAAC,CAAD,CAAL,EAAY,EAAzC,EAA3B,CACP,MAAO,IAAMW,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACX,KAAD,QAA8BA,CAAAA,KAAK,CAAG,CAACA,KAAD,CAAH,CAAa,EAAhD,EAA3B,CACP,MAAO,IAAMY,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACZ,KAAD,QAA2BA,CAAAA,KAAK,CAACa,OAAN,CAAc,aAAd,CAA6B,EAA7B,CAA3B,EAAlB"},"metadata":{},"sourceType":"module"}