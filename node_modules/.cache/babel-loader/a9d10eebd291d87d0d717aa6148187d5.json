{"ast":null,"code":"import _objectSpread from\"/Users/evik/kl/project-2024/klasmart-assessment-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/evik/kl/project-2024/klasmart-assessment-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/evik/kl/project-2024/klasmart-assessment-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{AssessmentTypeValues}from\"@components/AssessmentType\";import{makeStyles,MenuItem,TextField,Typography,useMediaQuery,useTheme}from\"@material-ui/core\";import{Autocomplete}from\"@material-ui/lab\";import React,{useState}from\"react\";import{d}from\"../../locale/LocaleManager\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(_ref){var palette=_ref.palette,breakpoints=_ref.breakpoints;return{lps_title:{fontWeight:\"bolder\",marginBottom:10,martinTop:10},spaceBetween:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\"}};});export var Dimension;(function(Dimension){Dimension[\"student\"]=\"student\";Dimension[\"material\"]=\"material\";Dimension[\"all\"]=\"all\";Dimension[\"submitted\"]=\"submitted\";Dimension[\"notSubmitted\"]=\"notSubmitted\";})(Dimension||(Dimension={}));export function MultiSelect(props){var assessment_type=props.assessment_type,dimension=props.dimension,mainDimension=props.mainDimension,subDimension=props.subDimension,onChangeDimension=props.onChangeDimension,onChangeSubdimension=props.onChangeSubdimension;var initOption=[{id:\"all\",name:d(\"Select All\").t(\"schedule_detail_select_all\")}];var isReview=assessment_type===AssessmentTypeValues.review;var _useState=useState(initOption),_useState2=_slicedToArray(_useState,2),subValue=_useState2[0],setSubValue=_useState2[1];var handleChange=function handleChange(e){onChangeDimension(e.target.value);setSubValue(initOption);};var handleChangeAutoComplete=function handleChangeAutoComplete(e,value,reason){if(value.length===0&&reason===\"remove-option\"){value.push(initOption[0]);}var element=e.target;var oIdx=element.getAttribute(\"data-option-index\");if(oIdx===\"0\"){if(value.length){value.splice(0,value.length);}value.push(initOption[0]);}else{if(reason===\"select-option\"){value.forEach(function(item,index){if(item.id===\"all\"){value.splice(index,1);}});}else if(reason===\"remove-option\"){if(!value.length){value.push(subDimension[Number(oIdx)-1]);}}}setSubValue(value);onChangeSubdimension(value);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",marginBottom:24},children:[!isReview&&/*#__PURE__*/_jsx(TextField,{style:{width:266,marginRight:10},value:dimension,onChange:handleChange,size:\"medium\",select:true,SelectProps:{MenuProps:{transformOrigin:{vertical:-40,horizontal:\"left\"}}},children:mainDimension.map(function(item){return/*#__PURE__*/_jsx(MenuItem,{value:item.value,children:item.label},item.label);})}),/*#__PURE__*/_jsx(Autocomplete,{style:{width:266},multiple:true,disableClearable:true,limitTags:1,id:\"tags-outlined\",options:[].concat(initOption,_toConsumableArray(subDimension)),getOptionLabel:function getOptionLabel(option){return option.name;},getOptionSelected:function getOptionSelected(option,value){return option.id===value.id;},value:subValue,onChange:function onChange(e,value,reasopn){return handleChangeAutoComplete(e,value,reasopn);},renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{variant:\"outlined\",label:d(\"Please select here\").t(\"assess_detail_please_select_here\")}));}})]})});}export function Subtitle(props){var text=props.text;var css=useStyles();var _useTheme=useTheme(),breakpoints=_useTheme.breakpoints;var xs=useMediaQuery(breakpoints.down(\"xs\"));var radioTypography=xs?\"subtitle2\":\"h6\";return/*#__PURE__*/_jsx(Typography,{variant:radioTypography,className:css.lps_title,children:text});}","map":{"version":3,"names":["AssessmentTypeValues","makeStyles","MenuItem","TextField","Typography","useMediaQuery","useTheme","Autocomplete","React","useState","d","useStyles","palette","breakpoints","lps_title","fontWeight","marginBottom","martinTop","spaceBetween","display","justifyContent","alignItems","Dimension","MultiSelect","props","assessment_type","dimension","mainDimension","subDimension","onChangeDimension","onChangeSubdimension","initOption","id","name","t","isReview","review","subValue","setSubValue","handleChange","e","target","value","handleChangeAutoComplete","reason","length","push","element","oIdx","getAttribute","splice","forEach","item","index","Number","width","marginRight","MenuProps","transformOrigin","vertical","horizontal","map","label","option","reasopn","params","Subtitle","text","css","xs","down","radioTypography"],"sources":["/Users/evik/kl/project-2024/klasmart-assessment-frontend/src/pages/DetailAssessment/MultiSelect.tsx"],"sourcesContent":["import { AssessmentTypeValues } from \"@components/AssessmentType\";\nimport { makeStyles, MenuItem, TextField, Typography, useMediaQuery, useTheme } from \"@material-ui/core\";\nimport { Autocomplete } from \"@material-ui/lab\";\nimport React, { ChangeEvent, useState } from \"react\";\nimport { d } from \"../../locale/LocaleManager\";\nimport { MainDimensionOptions, SubDimensionOptions } from \"./type\";\nconst useStyles = makeStyles(({ palette, breakpoints }) => ({\n  lps_title: {\n    fontWeight: \"bolder\",\n    marginBottom: 10,\n    martinTop: 10,\n  },\n  spaceBetween: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n}));\nexport enum Dimension {\n  student = \"student\",\n  material = \"material\",\n  all = \"all\",\n  submitted = \"submitted\",\n  notSubmitted = \"notSubmitted\",\n}\nexport interface MultiSelectProps {\n  assessment_type: AssessmentTypeValues;\n  dimension: Dimension;\n  mainDimension: MainDimensionOptions[];\n  subDimension: SubDimensionOptions[];\n  onChangeDimension: (value: Dimension) => void;\n  onChangeSubdimension: (value: SubDimensionOptions[]) => void;\n}\nexport function MultiSelect(props: MultiSelectProps) {\n  const { assessment_type, dimension, mainDimension, subDimension, onChangeDimension, onChangeSubdimension } = props;\n  const initOption = [{ id: \"all\", name: d(\"Select All\").t(\"schedule_detail_select_all\") }];\n  const isReview = assessment_type === AssessmentTypeValues.review;\n  const [subValue, setSubValue] = useState(initOption);\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    onChangeDimension(e.target.value as Dimension);\n    setSubValue(initOption);\n  };\n  const handleChangeAutoComplete = (e: ChangeEvent<{}>, value: SubDimensionOptions[], reason: string) => {\n    if (value.length === 0 && reason === \"remove-option\") {\n      value.push(initOption[0]);\n    }\n    const element = e.target as Element;\n    const oIdx = element.getAttribute(\"data-option-index\");\n    if (oIdx === \"0\") {\n      if (value.length) {\n        value.splice(0, value.length);\n      }\n      value.push(initOption[0]);\n    } else {\n      if (reason === \"select-option\") {\n        value.forEach((item, index) => {\n          if (item.id === \"all\") {\n            value.splice(index, 1);\n          }\n        });\n      } else if (reason === \"remove-option\") {\n        if (!value.length) {\n          value.push(subDimension[Number(oIdx) - 1]);\n        }\n      }\n    }\n    setSubValue(value);\n    onChangeSubdimension(value);\n  };\n  return (\n    <>\n      <div style={{ display: \"flex\", marginBottom: 24 }}>\n        {!isReview && (\n          <TextField\n            style={{ width: 266, marginRight: 10 }}\n            value={dimension}\n            onChange={handleChange}\n            size=\"medium\"\n            select\n            SelectProps={{ MenuProps: { transformOrigin: { vertical: -40, horizontal: \"left\" } } }}\n          >\n            {mainDimension.map((item) => (\n              <MenuItem key={item.label} value={item.value}>\n                {item.label}\n              </MenuItem>\n            ))}\n          </TextField>\n        )}\n        <Autocomplete\n          style={{ width: 266 }}\n          multiple\n          disableClearable={true}\n          limitTags={1}\n          id=\"tags-outlined\"\n          options={[...initOption, ...subDimension]}\n          getOptionLabel={(option) => option.name}\n          getOptionSelected={(option, value) => option.id === value.id}\n          value={subValue}\n          onChange={(e, value, reasopn) => handleChangeAutoComplete(e, value, reasopn)}\n          renderInput={(params) => (\n            <TextField {...params} variant=\"outlined\" label={d(\"Please select here\").t(\"assess_detail_please_select_here\")} />\n          )}\n        />\n      </div>\n    </>\n  );\n}\n\nexport interface SubTitleProps {\n  text: string;\n}\nexport function Subtitle(props: SubTitleProps) {\n  const { text } = props;\n  const css = useStyles();\n  const { breakpoints } = useTheme();\n  const xs = useMediaQuery(breakpoints.down(\"xs\"));\n  const radioTypography = xs ? \"subtitle2\" : \"h6\";\n  return (\n    <Typography variant={radioTypography} className={css.lps_title}>\n      {text}\n    </Typography>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}