{"ast":null,"code":"import _slicedToArray from\"/Users/evik/kl/project-2024/klasmart-assessment-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useReducer}from\"react\";import{RawIntlProvider}from\"react-intl\";import{localeManager}from\"../../locale/LocaleManager\";import{jsx as _jsx}from\"react/jsx-runtime\";export function Locale(props){var children=props.children;var _useReducer=useReducer(function(s){return s+1;},0),_useReducer2=_slicedToArray(_useReducer,2),refresh=_useReducer2[1];var locale=localeManager.getLocale();useEffect(function(){localeManager.on(\"change\",refresh);if(locale!==localeManager.getLocale())refresh();},[locale]);if(!locale||!localeManager.intl)return null;return/*#__PURE__*/_jsx(RawIntlProvider,{value:localeManager.intl,children:children},locale);}","map":{"version":3,"names":["React","useEffect","useReducer","RawIntlProvider","localeManager","Locale","props","children","s","refresh","locale","getLocale","on","intl"],"sources":["/Users/evik/kl/project-2024/klasmart-assessment-frontend/src/components/Locale/locale.tsx"],"sourcesContent":["import React, { ReactNode, useEffect, useReducer } from \"react\";\nimport { RawIntlProvider } from \"react-intl\";\nimport { localeManager } from \"../../locale/LocaleManager\";\n\nexport interface LocaleProps {\n  children: ReactNode;\n}\nexport function Locale(props: LocaleProps) {\n  const { children } = props;\n  const [, refresh] = useReducer((s) => s + 1, 0);\n  const locale = localeManager.getLocale();\n  useEffect(() => {\n    localeManager.on(\"change\", refresh);\n    if (locale !== localeManager.getLocale()) refresh();\n  }, [locale]);\n  if (!locale || !localeManager.intl) return null;\n  return (\n    <RawIntlProvider key={locale} value={localeManager.intl}>\n      {children}\n    </RawIntlProvider>\n  );\n}\n"],"mappings":"8IAAA,MAAOA,CAAAA,KAAP,EAA2BC,SAA3B,CAAsCC,UAAtC,KAAwD,OAAxD,CACA,OAASC,eAAT,KAAgC,YAAhC,CACA,OAASC,aAAT,KAA8B,4BAA9B,C,2CAKA,MAAO,SAASC,CAAAA,MAAT,CAAgBC,KAAhB,CAAoC,CACzC,GAAQC,CAAAA,QAAR,CAAqBD,KAArB,CAAQC,QAAR,CACA,gBAAoBL,UAAU,CAAC,SAACM,CAAD,QAAOA,CAAAA,CAAC,CAAG,CAAX,EAAD,CAAe,CAAf,CAA9B,4CAASC,OAAT,iBACA,GAAMC,CAAAA,MAAM,CAAGN,aAAa,CAACO,SAAd,EAAf,CACAV,SAAS,CAAC,UAAM,CACdG,aAAa,CAACQ,EAAd,CAAiB,QAAjB,CAA2BH,OAA3B,EACA,GAAIC,MAAM,GAAKN,aAAa,CAACO,SAAd,EAAf,CAA0CF,OAAO,GAClD,CAHQ,CAGN,CAACC,MAAD,CAHM,CAAT,CAIA,GAAI,CAACA,MAAD,EAAW,CAACN,aAAa,CAACS,IAA9B,CAAoC,MAAO,KAAP,CACpC,mBACE,KAAC,eAAD,EAA8B,KAAK,CAAET,aAAa,CAACS,IAAnD,UACGN,QADH,EAAsBG,MAAtB,CADF,CAKD"},"metadata":{},"sourceType":"module"}