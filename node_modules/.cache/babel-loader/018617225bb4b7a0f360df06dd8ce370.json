{"ast":null,"code":"import{Button,Checkbox,FormControlLabel,makeStyles,MenuItem,TextField}from\"@material-ui/core\";import{Search}from\"@material-ui/icons\";import React from\"react\";import{Controller,useForm}from\"react-hook-form\";import{d}from\"../../locale/LocaleManager\";import{OutcomeListExectSearch}from\"../OutcomeList/types\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{searchWrap:{margin:\"20px 8px\",display:\"flex\",justifyContent:\"space-between\"},searchText:{\"& .assessment-MuiOutlinedInput-notchedOutline\":{border:0,borderRadius:0}},exectSearchInput:{maxWidth:95,marignRgiht:-10,height:40,boxSizing:\"border-box\",background:\"#F0F0F0\",\"& .assessment-MuiOutlinedInput-notchedOutline\":{border:0}},searchCon:{display:\"inline-flex\",border:\"1px solid rgba(0,0,0,0.23)\",borderRadius:4,boxSizing:\"border-box\",verticalAlign:\"top\"},searchBtn:{width:\"111px\",height:\"40px\",backgroundColor:\"#0E78D5\",marginLeft:\"20px\"},checkField:{}};});var EXECT_SEARCH=\"EXECT_SEARCH\";var SEARCH_TEXT_KEY=\"SEARCH_TEXT_KEY\";var getOutcomeListExectSearch=function getOutcomeListExectSearch(){return[{label:d(\"All\").t(\"assess_filter_all\"),value:OutcomeListExectSearch.all},{label:d(\"Author\").t(\"assess_label_author\"),value:OutcomeListExectSearch.author},{label:d(\"Description\").t(\"assess_label_description\"),value:OutcomeListExectSearch.description},{label:d(\"Keywords\").t(\"assess_label_keywords\"),value:OutcomeListExectSearch.keyWord},{label:d(\"Learning Outcome Name\").t(\"assess_label_learning_outcome_name\"),value:OutcomeListExectSearch.loName},{label:d(\"Learning Outcome Set\").t(\"assess_set_learning_outcome_set\"),value:OutcomeListExectSearch.loSet},{label:d(\"Short Code\").t(\"assess_label_short_code\"),value:OutcomeListExectSearch.shortCode}];};var menuItemList=function menuItemList(list){return list.map(function(item){return/*#__PURE__*/_jsx(MenuItem,{value:item.value,children:item.label},item.label);});};export default function OutcomeSearch(props){var onSearch=props.onSearch,condition=props.condition;var css=useStyles();var formMethods=useForm();var control=formMethods.control,getValues=formMethods.getValues;var handleKeyPress=function handleKeyPress(event){if(event.key===\"Enter\"){handleClickSearch();}};var handleClickSearch=function handleClickSearch(){var searchField=getValues()[EXECT_SEARCH];var searchText=getValues()[SEARCH_TEXT_KEY];var assumed=getValues()[\"assumed\"];onSearch(searchField,searchText,assumed);};return/*#__PURE__*/_jsxs(\"div\",{className:css.searchWrap,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:css.searchCon,children:[/*#__PURE__*/_jsx(Controller,{as:TextField,control:control,name:EXECT_SEARCH,className:css.exectSearchInput,size:\"small\",defaultValue:condition.exect_search,select:true,SelectProps:{MenuProps:{transformOrigin:{vertical:-40,horizontal:\"left\"}}},children:menuItemList(getOutcomeListExectSearch())}),/*#__PURE__*/_jsx(Controller,{style:{borderLeft:0},as:TextField,name:SEARCH_TEXT_KEY,control:control,size:\"small\",className:css.searchText,onKeyPress:handleKeyPress,defaultValue:condition.search_key,placeholder:d(\"Search\").t(\"assess_label_search\")})]}),/*#__PURE__*/_jsxs(Button,{variant:\"contained\",color:\"primary\",className:css.searchBtn,onClick:handleClickSearch,children:[/*#__PURE__*/_jsx(Search,{}),\" \",d(\"Search\").t(\"assess_label_search\")]})]}),/*#__PURE__*/_jsx(Controller,{name:\"assumed\",defaultValue:condition.assumed,control:control,render:function render(assumedProps){return/*#__PURE__*/_jsx(FormControlLabel,{className:css.checkField,control:/*#__PURE__*/_jsx(Checkbox,{checked:assumedProps.value,onChange:function onChange(e){assumedProps.onChange(e.target.checked);handleClickSearch();},color:\"primary\"}),label:d(\"Assumed\").t(\"assess_filter_assumed\")});}})]});}","map":{"version":3,"names":["Button","Checkbox","FormControlLabel","makeStyles","MenuItem","TextField","Search","React","Controller","useForm","d","OutcomeListExectSearch","useStyles","theme","searchWrap","margin","display","justifyContent","searchText","border","borderRadius","exectSearchInput","maxWidth","marignRgiht","height","boxSizing","background","searchCon","verticalAlign","searchBtn","width","backgroundColor","marginLeft","checkField","EXECT_SEARCH","SEARCH_TEXT_KEY","getOutcomeListExectSearch","label","t","value","all","author","description","keyWord","loName","loSet","shortCode","menuItemList","list","map","item","OutcomeSearch","props","onSearch","condition","css","formMethods","control","getValues","handleKeyPress","event","key","handleClickSearch","searchField","assumed","exect_search","MenuProps","transformOrigin","vertical","horizontal","borderLeft","search_key","assumedProps","e","onChange","target","checked"],"sources":["/Users/evik/kl/project-2024/klasmart-assessment-frontend/src/pages/MilestoneEdit/OutcomeSearch.tsx"],"sourcesContent":["import { Button, Checkbox, FormControlLabel, makeStyles, MenuItem, TextField, TextFieldProps } from \"@material-ui/core\";\nimport { Search } from \"@material-ui/icons\";\nimport React from \"react\";\nimport { Controller, useForm } from \"react-hook-form\";\nimport { MilestoneCondition } from \".\";\nimport { d } from \"../../locale/LocaleManager\";\nimport { OutcomeListExectSearch } from \"../OutcomeList/types\";\nconst useStyles = makeStyles((theme) => ({\n  searchWrap: {\n    margin: \"20px 8px\",\n    display: \"flex\",\n    justifyContent: \"space-between\",\n  },\n  searchText: {\n    \"& .assessment-MuiOutlinedInput-notchedOutline\": {\n      border: 0,\n      borderRadius: 0,\n    },\n  },\n  exectSearchInput: {\n    maxWidth: 95,\n    marignRgiht: -10,\n    height: 40,\n    boxSizing: \"border-box\",\n    background: \"#F0F0F0\",\n    \"& .assessment-MuiOutlinedInput-notchedOutline\": {\n      border: 0,\n    },\n  },\n  searchCon: {\n    display: \"inline-flex\",\n    border: \"1px solid rgba(0,0,0,0.23)\",\n    borderRadius: 4,\n    boxSizing: \"border-box\",\n    verticalAlign: \"top\",\n  },\n  searchBtn: {\n    width: \"111px\",\n    height: \"40px\",\n    backgroundColor: \"#0E78D5\",\n    marginLeft: \"20px\",\n  },\n  checkField: {},\n}));\nconst EXECT_SEARCH = \"EXECT_SEARCH\";\nconst SEARCH_TEXT_KEY = \"SEARCH_TEXT_KEY\";\nconst getOutcomeListExectSearch = () => {\n  return [\n    {\n      label: d(\"All\").t(\"assess_filter_all\"),\n      value: OutcomeListExectSearch.all,\n    },\n    {\n      label: d(\"Author\").t(\"assess_label_author\"),\n      value: OutcomeListExectSearch.author,\n    },\n    {\n      label: d(\"Description\").t(\"assess_label_description\"),\n      value: OutcomeListExectSearch.description,\n    },\n    {\n      label: d(\"Keywords\").t(\"assess_label_keywords\"),\n      value: OutcomeListExectSearch.keyWord,\n    },\n    {\n      label: d(\"Learning Outcome Name\").t(\"assess_label_learning_outcome_name\"),\n      value: OutcomeListExectSearch.loName,\n    },\n    {\n      label: d(\"Learning Outcome Set\").t(\"assess_set_learning_outcome_set\"),\n      value: OutcomeListExectSearch.loSet,\n    },\n    {\n      label: d(\"Short Code\").t(\"assess_label_short_code\"),\n      value: OutcomeListExectSearch.shortCode,\n    },\n  ];\n};\nexport interface options {\n  label?: string;\n  value?: string;\n}\nconst menuItemList = (list: options[]) =>\n  list.map((item) => (\n    <MenuItem key={item.label} value={item.value}>\n      {item.label}\n    </MenuItem>\n  ));\nexport interface OutcomeSearchProps {\n  condition: MilestoneCondition;\n  onSearch: (exect_search: string, search_key: string, assumed: boolean) => any;\n}\nexport default function OutcomeSearch(props: OutcomeSearchProps) {\n  const { onSearch, condition } = props;\n  const css = useStyles();\n  const formMethods = useForm();\n  const { control, getValues } = formMethods;\n  const handleKeyPress: TextFieldProps[\"onKeyPress\"] = (event) => {\n    if (event.key === \"Enter\") {\n      handleClickSearch();\n    }\n  };\n  const handleClickSearch = () => {\n    const searchField = getValues()[EXECT_SEARCH];\n    const searchText = getValues()[SEARCH_TEXT_KEY];\n    const assumed = getValues()[\"assumed\"];\n    onSearch(searchField, searchText, assumed);\n  };\n  return (\n    <div className={css.searchWrap}>\n      <div>\n        <div className={css.searchCon}>\n          <Controller\n            as={TextField}\n            control={control}\n            name={EXECT_SEARCH}\n            className={css.exectSearchInput}\n            size=\"small\"\n            defaultValue={condition.exect_search}\n            select\n            SelectProps={{\n              MenuProps: {\n                transformOrigin: {\n                  vertical: -40,\n                  horizontal: \"left\",\n                },\n              },\n            }}\n          >\n            {menuItemList(getOutcomeListExectSearch())}\n          </Controller>\n          <Controller\n            style={{\n              borderLeft: 0,\n            }}\n            as={TextField}\n            name={SEARCH_TEXT_KEY}\n            control={control}\n            size=\"small\"\n            className={css.searchText}\n            onKeyPress={handleKeyPress}\n            defaultValue={condition.search_key}\n            placeholder={d(\"Search\").t(\"assess_label_search\")}\n          />\n        </div>\n        <Button variant=\"contained\" color=\"primary\" className={css.searchBtn} onClick={handleClickSearch}>\n          <Search /> {d(\"Search\").t(\"assess_label_search\")}\n        </Button>\n      </div>\n      <Controller\n        name=\"assumed\"\n        defaultValue={condition.assumed}\n        control={control}\n        render={(assumedProps) => (\n          <FormControlLabel\n            className={css.checkField}\n            control={\n              <Checkbox\n                checked={assumedProps.value}\n                onChange={(e) => {\n                  assumedProps.onChange(e.target.checked);\n                  handleClickSearch();\n                }}\n                color=\"primary\"\n              />\n            }\n            label={d(\"Assumed\").t(\"assess_filter_assumed\")}\n          />\n        )}\n      />\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}