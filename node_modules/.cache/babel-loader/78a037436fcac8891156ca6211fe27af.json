{"ast":null,"code":"import _toConsumableArray from\"/Users/evik/kl/project-2024/klasmart-assessment-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/evik/kl/project-2024/klasmart-assessment-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/evik/kl/project-2024/klasmart-assessment-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Box,Checkbox,Collapse,FormControlLabel,makeStyles,Table,TableBody,TableCell,TableContainer,TableRow}from\"@material-ui/core\";import ArrowDropDownIcon from\"@material-ui/icons/ArrowDropDown\";import ArrowDropUpIcon from\"@material-ui/icons/ArrowDropUp\";import{ModelAssessment}from\"@models/ModelAssessment\";import{cloneDeep}from\"lodash\";import React,{Fragment,useMemo,useState}from\"react\";import{PLTableHeader}from\"../../components/PLTable\";import{d}from\"../../locale/LocaleManager\";import{AchievedTooltips}from\"./AchievedTooltips\";import{EditScore}from\"./EditScore\";import{ResourceView,showAudioRecorder,showScreenShort,useResourceView}from\"./ResourceView\";import{FileTypes,OutcomeStatus,ResourceViewTypeValues,StudentParticipate}from\"./type\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles({tableBar:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",padding:\"16px\",cursor:\"pointer\",backgroundColor:\"#F2F5F7\",height:48,marginTop:20,\"& div\":{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",\"& a\":{fontSize:\"14px\",color:\"#006CCF\"}}},table:{minWidth:650,marginTop:20},assessActionline:{borderLeft:\"1px solid #ebebeb\"},disabled:{\"& $partially_checked\":{backgroundColor:\"#ababab\",boxShadow:\"0 0 2px #ababab\"}},tableCell:{wordBreak:\"break-all\"}});export function MaterialView(props){var css=useStyles();/** 表头数据 **/var LearningOutcomesHeader=[{align:\"center\",width:150,value:\"Learning_Outcomes\",text:d(\"Learning Outcomes\").t(\"library_label_learning_outcomes\")},{align:\"center\",width:120,value:\"Assumed\",text:d(\"Assumed\").t(\"assess_label_assumed\")},{align:\"center\",value:\"Assessing_Actions\",text:/*#__PURE__*/_jsxs(\"div\",{className:\"flex_align_center flex_justify_center\",children:[/*#__PURE__*/_jsx(\"span\",{children:d(\"Assessing Actions\").t(\"assess_option_assessing_actions\")}),/*#__PURE__*/_jsx(AchievedTooltips,{})]})}];var MaterialDefaultHeader=[{align:\"center\",width:\"25%\",value:\"Learning_Outcomes\",text:d(\"Student Name\").t(\"assessment_student_name\")},{align:\"center\",width:\"25%\",value:\"Answer\",text:d(\"Answer\").t(\"assess_detail_answer\")},{align:\"center\",width:\"25%\",value:\"Results\",text:d(\"Results\").t(\"assessment_detail_screenshot_results\")},{align:\"center\",width:\"25%\",value:\"Score_FullMarks\",text:d(\"Score / Full Marks\").t(\"assess_detail_score_full_marks\")},{align:\"center\",width:\"25%\",value:\"Percentage\",text:d(\"Percentage\").t(\"assess_detail_percentage\")}];var _useState=useState(ResourceViewTypeValues.essay),_useState2=_slicedToArray(_useState,2),resourceType=_useState2[0],setResourceType=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),contentSubType=_useState4[0],setContentSubType=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),answer=_useState6[0],setAnswer=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),room=_useState8[0],setRoom=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),h5pId=_useState10[0],setH5pId=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),userId=_useState12[0],setUserId=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),h5pSubId=_useState14[0],setH5pSubId=_useState14[1];var _useResourceView=useResourceView(),resourceViewActive=_useResourceView.resourceViewActive,openResourceView=_useResourceView.openResourceView,closeResourceView=_useResourceView.closeResourceView;var studentViewItems=props.studentViewItems,students=props.students,editable=props.editable,subDimension=props.subDimension,roomId=props.roomId,onChangeMaterialAllAchieved=props.onChangeMaterialAllAchieved,onChangeMaterialNoneAchieved=props.onChangeMaterialNoneAchieved,onChangeMatarialStudentStatus=props.onChangeMatarialStudentStatus,onChangeComputedStudentViewItems=props.onChangeComputedStudentViewItems;var subDimensionIds=useMemo(function(){return subDimension.map(function(item){return item.id;});},[subDimension]);var isSelectAll=subDimension.findIndex(function(item){return item.id===\"all\";})>=0?true:false;var attendanceList=useMemo(function(){return students===null||students===void 0?void 0:students.filter(function(student){return student.status===\"Participate\";});},[students]);var materialViewItems=useMemo(function(){return ModelAssessment.getMaterialViewItems(studentViewItems);},[studentViewItems]);var _useState15=useState(materialViewItems.map(function(item){return true;})),_useState16=_slicedToArray(_useState15,2),checkedArr=_useState16[0],setCheckedArr=_useState16[1];var handleChangeAllAchieved=function handleChangeAllAchieved(event,content_id,outcome_id){onChangeMaterialAllAchieved(event.target.checked,content_id,outcome_id);};var handleChangeNoneAchieved=function handleChangeNoneAchieved(event,content_id,outcome_id){onChangeMaterialNoneAchieved(event.target.checked,content_id,outcome_id);};var handleChangeStudentStauts=function handleChangeStudentStauts(event,student_id,content_id,outcome_id){onChangeMatarialStudentStatus(event.target.checked,student_id,content_id,outcome_id);};var handleClickView=function handleClickView(answer){openResourceView();setResourceType(ResourceViewTypeValues.essay);setAnswer(answer);};var handleClickAudioRecorder=function handleClickAudioRecorder(roomId,h5pId,h5pSubId,userId,content_subtype){openResourceView();setResourceType(content_subtype);setRoom(roomId);setH5pId(h5pId);setUserId(userId);setH5pSubId(h5pSubId);};var handleClickScreenshots=function handleClickScreenshots(roomId,h5pId,h5pSubId,userId,content_subtype){openResourceView();setResourceType(ResourceViewTypeValues.viewScreenshots);setContentSubType(content_subtype);setRoom(roomId);setH5pId(h5pId);setUserId(userId);setH5pSubId(h5pSubId);};var handleChangeScore=function handleChangeScore(score,studentId,contentId){var _studentViewItems=studentViewItems===null||studentViewItems===void 0?void 0:studentViewItems.map(function(sItem){if(sItem.student_id===studentId){var _sItem$results;return _objectSpread(_objectSpread({},sItem),{},{results:(_sItem$results=sItem.results)===null||_sItem$results===void 0?void 0:_sItem$results.map(function(rItem){if(rItem.content_id===contentId){return _objectSpread(_objectSpread({},rItem),{},{score:score});}else{return _objectSpread({},rItem);}})});}else{return _objectSpread({},sItem);}});onChangeComputedStudentViewItems(_studentViewItems);};var toggleCheck=function toggleCheck(index){var arr=cloneDeep(checkedArr);arr[index]=!checkedArr[index];setCheckedArr(_toConsumableArray(arr));};return/*#__PURE__*/_jsxs(_Fragment,{children:[materialViewItems&&materialViewItems.map(function(item,index){var _item$students,_item$students$filter;return(isSelectAll?true:subDimensionIds.indexOf(item.content_id)>=0||subDimensionIds.indexOf(item.parent_id)>=0)&&item.status===\"Covered\"&&/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(TableContainer,{style:{marginBottom:\"20px\"},children:[/*#__PURE__*/_jsxs(Box,{className:css.tableBar,onClick:function onClick(e){return toggleCheck(index);},children:[/*#__PURE__*/_jsxs(\"div\",{style:{color:checkedArr[index]?\"black\":\"#666666\"},children:[/*#__PURE__*/_jsx(\"span\",{children:\"\".concat(item.number,\".\").concat(item.content_name)}),/*#__PURE__*/_jsx(\"span\",{style:{padding:\"0 18px 0 18px\",color:\"gray\"},children:item.content_subtype?\"(\".concat(item.content_subtype,\")\"):\"\"})]}),checkedArr[index]?/*#__PURE__*/_jsx(ArrowDropUpIcon,{}):/*#__PURE__*/_jsx(ArrowDropDownIcon,{})]}),/*#__PURE__*/_jsx(Collapse,{in:checkedArr[index],children:/*#__PURE__*/_jsxs(_Fragment,{children:[item.outcomes&&item.outcomes.length?!item.parent_id&&/*#__PURE__*/_jsxs(Table,{className:css.table,children:[/*#__PURE__*/_jsx(PLTableHeader,{fields:LearningOutcomesHeader,style:{backgroundColor:\"#F7F7F2\",height:35}}),/*#__PURE__*/_jsx(TableBody,{children:item.outcomes.map(function(outcome){var _outcome$attendance_i;return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",className:css.tableCell,children:outcome.outcome_name}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:outcome.assumed?d(\"Yes\").t(\"assess_label_yes\"):\"\"}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",p:2,pb:0,children:[/*#__PURE__*/_jsxs(Box,{width:180,fontSize:14,style:{flex:\"none\",textAlign:\"left\"},children:[/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{checked:outcome.status===OutcomeStatus.NotCovered?false:outcome.attendance_ids&&((_outcome$attendance_i=outcome.attendance_ids)===null||_outcome$attendance_i===void 0?void 0:_outcome$attendance_i.length)===(attendanceList===null||attendanceList===void 0?void 0:attendanceList.length),onChange:function onChange(e){return handleChangeAllAchieved(e,item.content_id,outcome.outcome_id);},name:\"award\",color:\"primary\"}),label:d(\"All Achieved\").t(\"assess_option_all_achieved\"),disabled:item.parent_id?true:!editable}),/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{checked:outcome.status===OutcomeStatus.NotAchieved,color:\"primary\",onChange:function onChange(e){return handleChangeNoneAchieved(e,item.content_id,outcome.outcome_id);}}),label:d(\"None Achieved\").t(\"assess_option_none_achieved\"),disabled:item.parent_id?true:!editable})]}),/*#__PURE__*/_jsx(Box,{px:3,className:css.assessActionline,children:attendanceList===null||attendanceList===void 0?void 0:attendanceList.map(function(student){var _outcome$attendance_i2;return/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{onChange:function onChange(e){return handleChangeStudentStauts(e,student.student_id,item.content_id,outcome.outcome_id);},color:\"primary\",checked:outcome.attendance_ids&&((_outcome$attendance_i2=outcome.attendance_ids)===null||_outcome$attendance_i2===void 0?void 0:_outcome$attendance_i2.indexOf(student.student_id))>=0}),label:student.student_name,disabled:item.parent_id?true:!editable,className:!editable?css.disabled:\"\"},student.student_id);})})]})})]},outcome.outcome_id);})})]}):\"\",/*#__PURE__*/_jsx(\"div\",{style:{marginTop:24},children:/*#__PURE__*/_jsxs(Table,{className:css.table,children:[/*#__PURE__*/_jsx(PLTableHeader,{fields:MaterialDefaultHeader,style:{backgroundColor:\"#F7F2F3\",height:35}}),/*#__PURE__*/_jsx(TableBody,{children:(_item$students=item.students)===null||_item$students===void 0?void 0:(_item$students$filter=_item$students.filter(function(student){return student.status===StudentParticipate.Participate;}))===null||_item$students$filter===void 0?void 0:_item$students$filter.map(function(sItem){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:sItem.student_name?sItem.student_name:\"unknow\"}),/*#__PURE__*/_jsxs(TableCell,{align:\"center\",children:[sItem.attempted&&item.content_subtype===\"Essay\"&&/*#__PURE__*/_jsx(\"span\",{style:{color:\"#006CCF\",cursor:\"pointer\"},onClick:function onClick(e){var _sItem$answer;return handleClickView((_sItem$answer=sItem.answer)!==null&&_sItem$answer!==void 0?_sItem$answer:\"\");},children:d(\"Click to View\").t(\"assess_detail_click_to_view\")}),item.file_type!==FileTypes.HasChildContainer&&sItem.attempted&&showAudioRecorder(item.content_subtype)&&/*#__PURE__*/_jsx(\"span\",{style:{color:\"#006CCF\",cursor:\"pointer\"},onClick:function onClick(e){return handleClickAudioRecorder(roomId,item.h5p_id,item.h5p_sub_id,sItem.student_id,item.content_subtype);},children:d(\"Click to View\").t(\"assess_detail_click_to_view\")})]}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:item.file_type!==FileTypes.HasChildContainer&&sItem.attempted&&showScreenShort(item.content_subtype)&&/*#__PURE__*/_jsx(\"span\",{style:{color:\"#006CCF\",cursor:\"pointer\"},onClick:function onClick(e){return handleClickScreenshots(roomId,item.h5p_id,item.h5p_sub_id,sItem.student_id,item.content_subtype);},children:d(\"Click to View\").t(\"assess_detail_click_to_view\")})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(EditScore,{fileType:item.file_type,score:sItem.score,editable:editable,maxScore:item.max_score,attempted:sItem.attempted,studentId:sItem.student_id,contentId:item.content_id,isSubjectiveActivity:true,subType:item.content_subtype,onChangeScore:handleChangeScore})}),/*#__PURE__*/_jsx(TableCell,{align:\"center\",children:sItem.attempted?item.parent_id===\"\"&&item.file_type===FileTypes.HasChildContainer?\"100%\":(item===null||item===void 0?void 0:item.max_score)===0?\"\":Math.ceil((sItem===null||sItem===void 0?void 0:sItem.score)/(item===null||item===void 0?void 0:item.max_score)*100)+\"%\":\"\"})]},sItem.student_id);})})]})})]})})]})},item.content_id);}),/*#__PURE__*/_jsx(ResourceView,{open:resourceViewActive,resourceType:resourceType,answer:answer,onClose:closeResourceView,roomId:room,userId:userId,h5pId:h5pId,h5pSubId:h5pSubId,contentSubType:contentSubType})]});}","map":{"version":3,"names":["Box","Checkbox","Collapse","FormControlLabel","makeStyles","Table","TableBody","TableCell","TableContainer","TableRow","ArrowDropDownIcon","ArrowDropUpIcon","ModelAssessment","cloneDeep","React","Fragment","useMemo","useState","PLTableHeader","d","AchievedTooltips","EditScore","ResourceView","showAudioRecorder","showScreenShort","useResourceView","FileTypes","OutcomeStatus","ResourceViewTypeValues","StudentParticipate","useStyles","tableBar","display","justifyContent","alignItems","padding","cursor","backgroundColor","height","marginTop","fontSize","color","table","minWidth","assessActionline","borderLeft","disabled","boxShadow","tableCell","wordBreak","MaterialView","props","css","LearningOutcomesHeader","align","width","value","text","t","MaterialDefaultHeader","essay","resourceType","setResourceType","contentSubType","setContentSubType","answer","setAnswer","room","setRoom","h5pId","setH5pId","userId","setUserId","h5pSubId","setH5pSubId","resourceViewActive","openResourceView","closeResourceView","studentViewItems","students","editable","subDimension","roomId","onChangeMaterialAllAchieved","onChangeMaterialNoneAchieved","onChangeMatarialStudentStatus","onChangeComputedStudentViewItems","subDimensionIds","map","item","id","isSelectAll","findIndex","attendanceList","filter","student","status","materialViewItems","getMaterialViewItems","checkedArr","setCheckedArr","handleChangeAllAchieved","event","content_id","outcome_id","target","checked","handleChangeNoneAchieved","handleChangeStudentStauts","student_id","handleClickView","handleClickAudioRecorder","content_subtype","handleClickScreenshots","viewScreenshots","handleChangeScore","score","studentId","contentId","_studentViewItems","sItem","results","rItem","toggleCheck","index","arr","indexOf","parent_id","marginBottom","e","number","content_name","outcomes","length","outcome","outcome_name","assumed","flex","textAlign","NotCovered","attendance_ids","NotAchieved","student_name","Participate","attempted","file_type","HasChildContainer","h5p_id","h5p_sub_id","max_score","Math","ceil"],"sources":["/Users/evik/kl/project-2024/klasmart-assessment-frontend/src/pages/DetailAssessment/MaterialView.tsx"],"sourcesContent":["import {\n  Box,\n  Checkbox,\n  Collapse,\n  FormControlLabel,\n  makeStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableRow\n} from \"@material-ui/core\";\nimport ArrowDropDownIcon from \"@material-ui/icons/ArrowDropDown\";\nimport ArrowDropUpIcon from \"@material-ui/icons/ArrowDropUp\";\nimport { ModelAssessment } from \"@models/ModelAssessment\";\nimport { cloneDeep } from \"lodash\";\nimport React, { ChangeEvent, Fragment, useMemo, useState } from \"react\";\nimport { PLField, PLTableHeader } from \"../../components/PLTable\";\nimport { d } from \"../../locale/LocaleManager\";\nimport { DetailAssessmentResult } from \"../ListAssessment/types\";\nimport { AchievedTooltips } from \"./AchievedTooltips\";\nimport { EditScore } from \"./EditScore\";\nimport { Dimension } from \"./MultiSelect\";\nimport { ResourceView, showAudioRecorder, showScreenShort, useResourceView } from \"./ResourceView\";\nimport {\n  DetailAssessmentProps,\n  FileTypes,\n  MaterialViewItemResultOutcomeProps,\n  MaterialViewItemStudentProps,\n  OutcomeStatus,\n  ResourceViewTypeValues,\n  StudentParticipate,\n  StudentProps,\n  StudentViewItemsProps,\n  SubDimensionOptions\n} from \"./type\";\nconst useStyles = makeStyles({\n  tableBar: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    padding: \"16px\",\n    cursor: \"pointer\",\n    backgroundColor: \"#F2F5F7\",\n    height: 48,\n    marginTop: 20,\n    \"& div\": {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      alignItems: \"center\",\n      \"& a\": {\n        fontSize: \"14px\",\n        color: \"#006CCF\",\n      },\n    },\n  },\n  table: {\n    minWidth: 650,\n    marginTop: 20,\n  },\n  assessActionline: {\n    borderLeft: \"1px solid #ebebeb\",\n  },\n  disabled: {\n    \"& $partially_checked\": {\n      backgroundColor: \"#ababab\",\n      boxShadow: \"0 0 2px #ababab\",\n    },\n  },\n  tableCell: {\n    wordBreak: \"break-all\",\n  },\n});\n\nexport interface MaterialViewProps {\n  studentViewItems?: StudentViewItemsProps[];\n  dimension: Dimension;\n  subDimension: SubDimensionOptions[];\n  contents: DetailAssessmentResult[\"contents\"];\n  students: DetailAssessmentProps[\"students\"];\n  editable: boolean;\n  roomId?: string;\n  onChangeMaterialAllAchieved: (checked: boolean, content_id?: string, outcome_id?: string) => void;\n  onChangeMaterialNoneAchieved: (checked: boolean, content_id?: string, outcome_id?: string) => void;\n  onChangeMatarialStudentStatus: (checked: boolean, student_id?: string, content_id?: string, outcome_id?: string) => void;\n  onChangeComputedStudentViewItems: (studentViewItems?: StudentViewItemsProps[]) => void;\n}\nexport function MaterialView(props: MaterialViewProps) {\n  const css = useStyles();\n  /** 表头数据 **/\n  const LearningOutcomesHeader: PLField[] = [\n    { align: \"center\", width: 150, value: \"Learning_Outcomes\", text: d(\"Learning Outcomes\").t(\"library_label_learning_outcomes\") },\n    { align: \"center\", width: 120, value: \"Assumed\", text: d(\"Assumed\").t(\"assess_label_assumed\") },\n    {\n      align: \"center\",\n      value: \"Assessing_Actions\",\n      text: (\n        <div className=\"flex_align_center flex_justify_center\">\n          <span>{d(\"Assessing Actions\").t(\"assess_option_assessing_actions\")}</span>\n          <AchievedTooltips />\n        </div>\n      ),\n    },\n  ];\n  const MaterialDefaultHeader: PLField[] = [\n    { align: \"center\", width: \"25%\", value: \"Learning_Outcomes\", text: d(\"Student Name\").t(\"assessment_student_name\") },\n    { align: \"center\", width: \"25%\", value: \"Answer\", text: d(\"Answer\").t(\"assess_detail_answer\") },\n    { align: \"center\", width: \"25%\", value: \"Results\", text: d(\"Results\").t(\"assessment_detail_screenshot_results\") },\n    { align: \"center\", width: \"25%\", value: \"Score_FullMarks\", text: d(\"Score / Full Marks\").t(\"assess_detail_score_full_marks\") },\n    { align: \"center\", width: \"25%\", value: \"Percentage\", text: d(\"Percentage\").t(\"assess_detail_percentage\") },\n  ];\n  const [resourceType, setResourceType] = useState<ResourceViewTypeValues>(ResourceViewTypeValues.essay);\n  const [contentSubType, setContentSubType] = useState<string | undefined>(\"\");\n  const [answer, setAnswer] = useState<string>(\"\");\n  const [room, setRoom] = useState<string | undefined>(\"\");\n  const [h5pId, setH5pId] = useState<string | undefined>(\"\");\n  const [userId, setUserId] = useState<string | undefined>(\"\");\n  const [h5pSubId, setH5pSubId] = useState<string | undefined>(\"\");\n  const { resourceViewActive, openResourceView, closeResourceView } = useResourceView();\n  const {\n    studentViewItems,\n    students,\n    editable,\n    subDimension,\n    roomId,\n    onChangeMaterialAllAchieved,\n    onChangeMaterialNoneAchieved,\n    onChangeMatarialStudentStatus,\n    onChangeComputedStudentViewItems,\n  } = props;\n  const subDimensionIds = useMemo(() => {\n    return subDimension.map((item) => item.id);\n  }, [subDimension]);\n  const isSelectAll = subDimension.findIndex((item) => item.id === \"all\") >= 0 ? true : false;\n  const attendanceList = useMemo(() => {\n    return students?.filter((student: StudentProps) => student.status === \"Participate\");\n  }, [students]);\n  const materialViewItems = useMemo(() => {\n    return ModelAssessment.getMaterialViewItems(studentViewItems);\n  }, [studentViewItems]);\n  const [checkedArr, setCheckedArr] = useState<boolean[]>(materialViewItems.map((item) => true));\n  const handleChangeAllAchieved = (event: ChangeEvent<HTMLInputElement>, content_id?: string, outcome_id?: string) => {\n    onChangeMaterialAllAchieved(event.target.checked, content_id, outcome_id);\n  };\n  const handleChangeNoneAchieved = (event: ChangeEvent<HTMLInputElement>, content_id?: string, outcome_id?: string) => {\n    onChangeMaterialNoneAchieved(event.target.checked, content_id, outcome_id);\n  };\n  const handleChangeStudentStauts = (\n    event: ChangeEvent<HTMLInputElement>,\n    student_id?: string,\n    content_id?: string,\n    outcome_id?: string\n  ) => {\n    onChangeMatarialStudentStatus(event.target.checked, student_id, content_id, outcome_id);\n  };\n  const handleClickView = (answer: string) => {\n    openResourceView();\n    setResourceType(ResourceViewTypeValues.essay);\n    setAnswer(answer);\n  };\n  const handleClickAudioRecorder = (roomId?: string, h5pId?: string, h5pSubId?: string, userId?: string, content_subtype?: string) => {\n    openResourceView();\n    setResourceType(content_subtype as ResourceViewTypeValues);\n    setRoom(roomId);\n    setH5pId(h5pId);\n    setUserId(userId);\n    setH5pSubId(h5pSubId);\n  };\n  const handleClickScreenshots = (roomId?: string, h5pId?: string, h5pSubId?: string, userId?: string, content_subtype?: string) => {\n    openResourceView();\n    setResourceType(ResourceViewTypeValues.viewScreenshots);\n    setContentSubType(content_subtype)\n    setRoom(roomId);\n    setH5pId(h5pId);\n    setUserId(userId);\n    setH5pSubId(h5pSubId);\n  }\n  const handleChangeScore = (score?: number, studentId?: string, contentId?: string) => {\n    const _studentViewItems = studentViewItems?.map((sItem) => {\n      if (sItem.student_id === studentId) {\n        return {\n          ...sItem,\n          results: sItem.results?.map((rItem) => {\n            if (rItem.content_id === contentId) {\n              return {\n                ...rItem,\n                score,\n              };\n            } else {\n              return { ...rItem };\n            }\n          }),\n        };\n      } else {\n        return { ...sItem };\n      }\n    });\n    onChangeComputedStudentViewItems(_studentViewItems);\n  };\n  const toggleCheck = (index: number) => {\n    const arr = cloneDeep(checkedArr);\n    arr[index] = !checkedArr[index];\n    setCheckedArr([...arr]);\n  };\n  return (\n    <>\n      {materialViewItems &&\n        materialViewItems.map(\n          (item, index) =>\n            (isSelectAll ? true : subDimensionIds.indexOf(item.content_id!) >= 0 || subDimensionIds.indexOf(item.parent_id!) >= 0) &&\n            item.status === \"Covered\" && (\n              <Fragment key={item.content_id}>\n                <TableContainer style={{ marginBottom: \"20px\" }}>\n                  <Box className={css.tableBar} onClick={(e) => toggleCheck(index)}>\n                    <div style={{ color: checkedArr[index] ? \"black\" : \"#666666\" }}>\n                      <span>{`${item.number}.${item.content_name}`}</span>\n                      <span style={{ padding: \"0 18px 0 18px\", color: \"gray\" }}>\n                        {item.content_subtype ? `(${item.content_subtype})` : \"\"}\n                      </span>\n                    </div>\n                    {checkedArr[index] ? (\n                      <ArrowDropUpIcon />\n                    ) : (\n                      <ArrowDropDownIcon />\n                    )}\n                  </Box>\n                  <Collapse in={checkedArr[index]}>\n                    <>\n                      {item.outcomes && item.outcomes.length\n                        ? !item.parent_id && (\n                            <Table className={css.table}>\n                              <PLTableHeader fields={LearningOutcomesHeader} style={{ backgroundColor: \"#F7F7F2\", height: 35 }} />\n                              <TableBody>\n                                {item.outcomes.map((outcome: MaterialViewItemResultOutcomeProps) => (\n                                  <TableRow key={outcome.outcome_id}>\n                                    <TableCell align=\"center\" className={css.tableCell}>\n                                      {outcome.outcome_name}\n                                    </TableCell>\n                                    <TableCell align=\"center\">{outcome.assumed ? d(\"Yes\").t(\"assess_label_yes\") : \"\"}</TableCell>\n                                    <TableCell align=\"center\">\n                                      <Box display=\"flex\" alignItems=\"center\" p={2} pb={0}>\n                                        <Box width={180} fontSize={14} style={{ flex: \"none\", textAlign: \"left\" }}>\n                                          <FormControlLabel\n                                            control={\n                                              <Checkbox\n                                                checked={\n                                                  outcome.status === OutcomeStatus.NotCovered\n                                                    ? false\n                                                    : outcome.attendance_ids && outcome.attendance_ids?.length === attendanceList?.length\n                                                }\n                                                onChange={(e) => handleChangeAllAchieved(e, item.content_id, outcome.outcome_id)}\n                                                name=\"award\"\n                                                color=\"primary\"\n                                              />\n                                            }\n                                            label={d(\"All Achieved\").t(\"assess_option_all_achieved\")}\n                                            disabled={item.parent_id ? true : !editable}\n                                          />\n                                          <FormControlLabel\n                                            control={\n                                              <Checkbox\n                                                checked={outcome.status === OutcomeStatus.NotAchieved}\n                                                color=\"primary\"\n                                                onChange={(e) => handleChangeNoneAchieved(e, item.content_id, outcome.outcome_id)}\n                                              />\n                                            }\n                                            label={d(\"None Achieved\").t(\"assess_option_none_achieved\")}\n                                            disabled={item.parent_id ? true : !editable}\n                                          />\n                                        </Box>\n                                        <Box px={3} className={css.assessActionline}>\n                                          {attendanceList?.map((student: StudentProps) => (\n                                            <FormControlLabel\n                                              key={student.student_id}\n                                              control={\n                                                <Checkbox\n                                                  onChange={(e) =>\n                                                    handleChangeStudentStauts(e, student.student_id, item.content_id, outcome.outcome_id)\n                                                  }\n                                                  color=\"primary\"\n                                                  checked={\n                                                    outcome.attendance_ids && outcome.attendance_ids?.indexOf(student.student_id!) >= 0\n                                                  }\n                                                />\n                                              }\n                                              label={student.student_name}\n                                              disabled={item.parent_id ? true : !editable}\n                                              className={!editable ? css.disabled : \"\"}\n                                            />\n                                          ))}\n                                        </Box>\n                                      </Box>\n                                    </TableCell>\n                                  </TableRow>\n                                ))}\n                              </TableBody>\n                            </Table>\n                          )\n                        : \"\"}\n                      <div style={{ marginTop: 24 }}>\n                        <Table className={css.table}>\n                          <PLTableHeader fields={MaterialDefaultHeader} style={{ backgroundColor: \"#F7F2F3\", height: 35 }} />\n                          <TableBody>\n                            {item.students\n                              ?.filter((student) => student.status === StudentParticipate.Participate)\n                              ?.map((sItem: MaterialViewItemStudentProps) => (\n                                <TableRow key={sItem.student_id}>\n                                  <TableCell align=\"center\">{sItem.student_name ? sItem.student_name : \"unknow\"}</TableCell>\n                                  <TableCell align=\"center\">\n                                    {sItem.attempted && item.content_subtype === \"Essay\" && (\n                                      <span\n                                        style={{ color: \"#006CCF\", cursor: \"pointer\" }}\n                                        onClick={(e) => handleClickView(sItem.answer ?? \"\")}\n                                      >\n                                        {d(\"Click to View\").t(\"assess_detail_click_to_view\")}\n                                      </span>\n                                    )}\n                                    {item.file_type !== FileTypes.HasChildContainer &&\n                                      sItem.attempted &&\n                                      showAudioRecorder(item.content_subtype) && (\n                                        <span\n                                          style={{ color: \"#006CCF\", cursor: \"pointer\" }}\n                                          onClick={(e) =>\n                                            handleClickAudioRecorder(\n                                              roomId,\n                                              item.h5p_id,\n                                              item.h5p_sub_id,\n                                              sItem.student_id,\n                                              item.content_subtype\n                                            )\n                                          }\n                                        >\n                                          {d(\"Click to View\").t(\"assess_detail_click_to_view\")}\n                                        </span>\n                                      )}\n                                  </TableCell>\n                                  <TableCell align=\"center\">\n                                    {item.file_type !== FileTypes.HasChildContainer &&\n                                      sItem.attempted &&\n                                      showScreenShort(item.content_subtype) && (\n                                        <span\n                                            style={{ color: \"#006CCF\", cursor: \"pointer\" }}\n                                            onClick={(e) =>\n                                              handleClickScreenshots(\n                                                roomId,\n                                                item.h5p_id,\n                                                item.h5p_sub_id,\n                                                sItem.student_id,\n                                                item.content_subtype\n                                              )\n                                            }\n                                          >\n                                            {d(\"Click to View\").t(\"assess_detail_click_to_view\")}\n                                        </span>\n                                      )\n                                    }\n                                  </TableCell>\n                                  <TableCell>\n                                    <EditScore\n                                      fileType={item.file_type}\n                                      score={sItem.score}\n                                      editable={editable}\n                                      maxScore={item.max_score}\n                                      attempted={sItem.attempted}\n                                      studentId={sItem.student_id}\n                                      contentId={item.content_id}\n                                      isSubjectiveActivity={true}\n                                      subType={item.content_subtype}\n                                      onChangeScore={handleChangeScore}\n                                    />\n                                  </TableCell>\n                                  <TableCell align=\"center\">\n                                    {sItem.attempted\n                                      ? item.parent_id === \"\" && item.file_type === FileTypes.HasChildContainer\n                                        ? \"100%\"\n                                        : item?.max_score! === 0\n                                        ? \"\"\n                                        : Math.ceil((sItem?.score! / item?.max_score!) * 100) + \"%\"\n                                      : \"\"}\n                                  </TableCell>\n                                </TableRow>\n                              ))}\n                          </TableBody>\n                        </Table>\n                      </div>\n                    </>\n                  </Collapse>\n                </TableContainer>\n              </Fragment>\n            )\n        )}\n      <ResourceView\n        open={resourceViewActive}\n        resourceType={resourceType}\n        answer={answer}\n        onClose={closeResourceView}\n        roomId={room}\n        userId={userId}\n        h5pId={h5pId}\n        h5pSubId={h5pSubId}\n        contentSubType={contentSubType}\n      />\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}